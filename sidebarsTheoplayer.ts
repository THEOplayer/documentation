import type { SidebarsConfig } from '@docusaurus/plugin-content-docs';
import type { SidebarItemCategoryConfig, SidebarItemConfig, SidebarItemLink } from '@docusaurus/plugin-content-docs/lib/sidebars/types';
import webConnectorsJson from './theoplayer/connectors/web/_category_.json';
import androidConnectorsJson from './theoplayer/connectors/android/_category_.json';
import iosConnectorsJson from './theoplayer/connectors/ios/_category_.json';

const sidebars: SidebarsConfig = {
  web: [
    'index',
    gettingStartedCategory({
      collapsed: true,
      link: { type: 'doc', id: 'getting-started/sdks/web/getting-started' },
      items: [
        { type: 'autogenerated', dirName: 'getting-started/01-sdks/01-web' },
        {
          type: 'category',
          label: 'LG webOS',
          customProps: {
            icon: 'üì∫',
          },
          link: { type: 'doc', id: 'getting-started/sdks/webos/getting-started' },
          items: [{ type: 'autogenerated', dirName: 'getting-started/01-sdks/07-webos' }],
        },
        {
          type: 'category',
          label: 'Samsung Tizen TV',
          customProps: {
            icon: 'üì∫',
          },
          link: { type: 'doc', id: 'getting-started/sdks/tizen/getting-started' },
          items: [{ type: 'autogenerated', dirName: 'getting-started/01-sdks/08-tizen' }],
        },
        { type: 'autogenerated', dirName: 'getting-started/02-frameworks' },
      ],
    }),
    howToGuidesCategory({
      link: { type: 'doc', id: 'how-to-guides/index' },
      items: [{ type: 'autogenerated', dirName: 'how-to-guides' }],
    }),
    examplesCategory({
      link: { type: 'doc', id: 'examples/index' },
      items: [{ type: 'autogenerated', dirName: 'examples' }],
    }),
    connectorsCategory({
      link: { type: 'doc', id: 'connectors/web/index' },
      items: webConnectorsJson.customProps.additionalItems as SidebarItemConfig[],
    }),
    'changelog',
    apiReferencesLink({
      href: 'pathname:///theoplayer/v7/api-reference/web/',
    }),
    knowledgeBaseCategory(),
    faqLink(),
  ],
  android: [
    'android/index',
    gettingStartedCategory({
      link: { type: 'doc', id: 'getting-started/sdks/android/getting-started' },
      items: [{ type: 'autogenerated', dirName: 'getting-started/01-sdks/02-android' }],
    }),
    howToGuidesCategory({
      link: { type: 'doc', id: 'how-to-guides/index' },
      items: [{ type: 'autogenerated', dirName: 'how-to-guides' }],
    }),
    connectorsCategory({
      link: { type: 'doc', id: 'connectors/android/index' },
      items: androidConnectorsJson.customProps.additionalItems as SidebarItemConfig[],
    }),
    'changelog',
    apiReferencesLink({
      href: 'pathname:///theoplayer/v7/api-reference/android/',
    }),
    knowledgeBaseCategory(),
    faqLink(),
  ],
  ios: [
    'ios/index',
    gettingStartedCategory({
      link: { type: 'doc', id: 'getting-started/sdks/ios/getting-started' },
      items: [{ type: 'autogenerated', dirName: 'getting-started/01-sdks/03-ios' }],
    }),
    howToGuidesCategory({
      link: { type: 'doc', id: 'how-to-guides/index' },
      items: [{ type: 'autogenerated', dirName: 'how-to-guides' }],
    }),
    connectorsCategory({
      link: { type: 'doc', id: 'connectors/ios/index' },
      items: iosConnectorsJson.customProps.additionalItems as SidebarItemConfig[],
    }),
    'changelog',
    apiReferencesLink({
      href: 'pathname:///theoplayer/v7/api-reference/ios/',
    }),
    knowledgeBaseCategory(),
    faqLink(),
  ],
  chromecast: [
    'chromecast/index',
    gettingStartedCategory({
      collapsed: false,
      link: { type: 'doc', id: 'getting-started/sdks/chromecast/getting-started' },
      items: [{ type: 'autogenerated', dirName: 'getting-started/01-sdks/06-chromecast' }],
    }),
    howToGuidesCategory({
      link: { type: 'doc', id: 'how-to-guides/index' },
      items: [{ type: 'autogenerated', dirName: 'how-to-guides' }],
    }),
    knowledgeBaseCategory(),
    faqLink(),
  ],
  roku: [
    'roku/index',
    gettingStartedCategory({
      collapsed: false,
      link: { type: 'doc', id: 'getting-started/sdks/roku/getting-started' },
      items: [{ type: 'autogenerated', dirName: 'getting-started/01-sdks/09-roku' }],
    }),
    howToGuidesCategory({
      link: { type: 'doc', id: 'how-to-guides/index' },
      items: [{ type: 'autogenerated', dirName: 'how-to-guides' }],
    }),
    'api-reference/roku',
    knowledgeBaseCategory(),
    faqLink(),
  ],
  faq: [
    backLink(),
    {
      type: 'category',
      label: 'FAQ',
      collapsible: false,
      link: { type: 'doc', id: 'faq/index' },
      items: [{ type: 'autogenerated', dirName: 'faq' }],
    },
  ],
};

function gettingStartedCategory(config: SidebarItemCategoryConfig): SidebarItemCategoryConfig {
  return {
    type: 'category',
    label: 'Getting started',
    collapsed: false,
    description: 'Set up your first THEOplayer in just a few minutes!',
    customProps: {
      icon: 'üöÄ',
    },
    ...config,
  };
}

function examplesCategory(config: SidebarItemCategoryConfig): SidebarItemCategoryConfig {
  return {
    type: 'category',
    label: 'Examples',
    description: 'See the player in action!',
    customProps: {
      icon: 'üõù',
    },
    ...config,
  };
}

function connectorsCategory(config: SidebarItemCategoryConfig): SidebarItemCategoryConfig {
  return {
    type: 'category',
    label: 'Connectors',
    description: `Integrate third-party solutions with THEOplayer using our pre-built connectors.`,
    customProps: {
      icon: 'üîå',
    },
    ...config,
  };
}

function howToGuidesCategory(config: SidebarItemCategoryConfig): SidebarItemCategoryConfig {
  return {
    type: 'category',
    label: 'How-to guides',
    description: 'Learn how to implement our rich set of features and integrations.',
    customProps: {
      icon: 'üìñ',
    },
    ...config,
  };
}

function apiReferencesLink(config: SidebarItemLink): SidebarItemLink {
  return {
    type: 'link',
    label: 'API references',
    description: 'Discover all properties and functions of THEOplayer.',
    customProps: {
      icon: '*Ô∏è‚É£',
    },
    ...config,
  };
}

function knowledgeBaseCategory(): SidebarItemCategoryConfig {
  return {
    type: 'category',
    label: 'Knowledge base',
    description: 'Learn about topics in the video industry from our experts.',
    customProps: {
      icon: 'üß†',
    },
    link: { type: 'doc', id: 'knowledge-base/index' },
    items: [{ type: 'autogenerated', dirName: 'knowledge-base' }],
  };
}

function faqLink(): SidebarItemLink {
  return {
    type: 'link',
    label: 'FAQ',
    description: `Answers to common questions we've received from our customers over the years.`,
    customProps: {
      icon: '‚ùî',
    },
    href: '/theoplayer/faq/',
  };
}

function backLink(): SidebarItemLink {
  return {
    type: 'link',
    label: '¬´ Back',
    href: '/theoplayer/',
    customProps: {
      isBackLink: true,
    },
  };
}

export default sidebars;
