<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-millicast docs-version-current docs-doc-page docs-doc-id-broadcast/software-encoders/gstreamer" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>GStreamer | Dolby OptiView Documentation</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=robots content="noindex, nofollow"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://optiview.dolby.com/documentation/pr-preview/pr-354/millicast/software-encoders/gstreamer/><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-millicast-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-millicast-current><meta data-rh=true property=og:title content="GStreamer | Dolby OptiView Documentation"><meta data-rh=true name=description content="GStreamer is a free open-source software project and multimedia framework to build media processing pipelines that support complex workflows. You may want to broadcast over WebRTC from a file on disk or another Real-time Streaming Protocol (RTSP). You can originate the broadcast through GStreamer that ingests the stream utilizing WHIP or forwards with WHEP."><meta data-rh=true property=og:description content="GStreamer is a free open-source software project and multimedia framework to build media processing pipelines that support complex workflows. You may want to broadcast over WebRTC from a file on disk or another Real-time Streaming Protocol (RTSP). You can originate the broadcast through GStreamer that ingests the stream utilizing WHIP or forwards with WHEP."><link data-rh=true rel=icon href=/documentation/pr-preview/pr-354/img/favicon.ico><link data-rh=true rel=canonical href=https://optiview.dolby.com/documentation/pr-preview/pr-354/millicast/software-encoders/gstreamer/><link data-rh=true rel=alternate href=https://optiview.dolby.com/documentation/pr-preview/pr-354/millicast/software-encoders/gstreamer/ hreflang=en><link data-rh=true rel=alternate href=https://optiview.dolby.com/documentation/pr-preview/pr-354/millicast/software-encoders/gstreamer/ hreflang=x-default><link data-rh=true rel=preconnect href=https://7HRS9V6FEL-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://optiview.dolby.com/documentation/pr-preview/pr-354/millicast/","name":"Real-time Streaming","position":1},{"@type":"ListItem","item":"https://optiview.dolby.com/documentation/pr-preview/pr-354/millicast/broadcast","name":"Broadcast","position":2},{"@type":"ListItem","item":"https://optiview.dolby.com/documentation/pr-preview/pr-354/millicast/software-encoders","name":"Software Encoders","position":3},{"@type":"ListItem","item":"https://optiview.dolby.com/documentation/pr-preview/pr-354/millicast/software-encoders/gstreamer","name":"GStreamer","position":4}]}</script><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-VCRXHMHS4M"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-VCRXHMHS4M",{})</script><link rel=preconnect href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var d=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src="https://www.googletagmanager.com/gtm.js?id="+r+("dataLayer"!=n?"&l="+n:""),d.parentNode.insertBefore(g,d)}(window,document,"script","dataLayer","GTM-TVR6CV9")</script><link rel=search type=application/opensearchdescription+xml title="Dolby OptiView Documentation" href=/documentation/pr-preview/pr-354/opensearch.xml><link rel=stylesheet href=/documentation/pr-preview/pr-354/assets/css/styles.d5db0df8.css><script src=/documentation/pr-preview/pr-354/assets/js/runtime~main.1a351229.js defer></script><script src=/documentation/pr-preview/pr-354/assets/js/main.4349896b.js defer></script><body class=navigation-with-keyboard><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TVR6CV9" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript>


<svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/documentation/pr-preview/pr-354/img/dolby-optiview-white.svg><link rel=preload as=image href=/documentation/pr-preview/pr-354/assets/images/gstreamer-videotestsrc-c6ab43f7303ee7c38e075d9799385569.png><link rel=preload as=image href=/documentation/pr-preview/pr-354/assets/images/cmd_line-bcbc06385eae72b030bfc82403cab448.png><link rel=preload as=image href=/documentation/pr-preview/pr-354/assets/images/viewer-0f2b039c6728c436cdefc36f53f23b2f.png><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style=background-color:#9cb9c9;color:#344a5e role=banner><div class="content_knG7 announcementBarContent_xLdY">This is a preview of the documentation website from <a target=_blank rel="noopener noreferrer" href=https://github.com/THEOplayer/documentation/pull/354>pull request #354</a>.</div></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/documentation/pr-preview/pr-354/><div class=navbar__logo><img src=/documentation/pr-preview/pr-354/img/dolby-optiview-white.svg alt="Dolby OptiView" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/documentation/pr-preview/pr-354/img/dolby-optiview-white.svg alt="Dolby OptiView" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup=true aria-expanded=false role=button class=navbar__link href=/documentation/pr-preview/pr-354/theoplayer/>Player</a><ul class=dropdown__menu><li><a class=dropdown__link href=/documentation/pr-preview/pr-354/theoplayer/>THEOplayer</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-354/open-video-ui/>Open Video UI</a></ul></div><a class="navbar__item navbar__link" href=/documentation/pr-preview/pr-354/ads/>Ads</a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class="navbar__link dropdown--active">Streaming</a><ul class=dropdown__menu><li><a class=dropdown__link href=/documentation/pr-preview/pr-354/theolive/>Live (THEOlive)</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/documentation/pr-preview/pr-354/millicast/>Real-time (Millicast)</a></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-354/millicast/>Introduction to Streaming APIs</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/documentation/pr-preview/pr-354/millicast/getting-started/>Getting started</a><button aria-label="Expand sidebar category 'Getting started'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/documentation/pr-preview/pr-354/millicast/capture/>Capture</a><button aria-label="Expand sidebar category 'Capture'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/documentation/pr-preview/pr-354/millicast/broadcast/>Broadcast</a><button aria-label="Collapse sidebar category 'Broadcast'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/broadcast/webrtc-and-whip/>WebRTC | WHIP</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/broadcast/rtmp-and-rtmps/>RTMP | RTMPS</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/broadcast/rtsp/>RTSP</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/broadcast/srt/>SRT</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/broadcast/ndi/>NDI</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/broadcast/publishing-parameters/>Publishing Parameters</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/broadcast/multi-source-broadcasting/>Multi-Source Broadcasting</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/documentation/pr-preview/pr-354/millicast/broadcast/redundant-ingest/>Redundant Ingest</a><button aria-label="Expand sidebar category 'Redundant Ingest'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/broadcast/using-native-sdk-ingest-raw-frames/>Ingest Raw Frames</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/documentation/pr-preview/pr-354/millicast/hardware-encoders/>Hardware Encoders</a><button aria-label="Expand sidebar category 'Hardware Encoders'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/documentation/pr-preview/pr-354/millicast/software-encoders/>Software Encoders</a><button aria-label="Collapse sidebar category 'Software Encoders'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/software-encoders/ffmpeg/>FFmpeg</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/software-encoders/flowcaster/>Drastic Technologies</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/documentation/pr-preview/pr-354/millicast/software-encoders/gstreamer/>GStreamer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/software-encoders/liveu-studio/>LiveU Studio</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/documentation/pr-preview/pr-354/millicast/software-encoders/obs/>OBS</a><button aria-label="Expand sidebar category 'OBS'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/software-encoders/softvelum/>Softvelum</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/software-encoders/vmix/>vMix</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-354/millicast/software-encoders/zoom/>Zoom</a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/documentation/pr-preview/pr-354/millicast/distribution/>Distribution</a><button aria-label="Expand sidebar category 'Distribution'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/documentation/pr-preview/pr-354/millicast/playback/>Playback</a><button aria-label="Expand sidebar category 'Playback'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/documentation/pr-preview/pr-354/millicast/network-requirements/>Platform guides</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><hr><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-354/millicast/hardware-encoders/>Hardware Encoders</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-354/millicast/software-encoders/>Software Encoders</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-354/millicast/playback/players-sdks/>Players and SDKs</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-354/millicast/api/millicast-api/>Millicast REST API</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-354/millicast/changelog/>Release Notes</a></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_xLCN"><div class=docItemContainer_jfFK><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/documentation/pr-preview/pr-354/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_xK9p><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/documentation/pr-preview/pr-354/millicast/><span>Real-time Streaming</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/documentation/pr-preview/pr-354/millicast/broadcast/><span>Broadcast</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/documentation/pr-preview/pr-354/millicast/software-encoders/><span>Software Encoders</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>GStreamer</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>GStreamer</h1></header><div class=row><div class="col col--12 markdown"><p><strong>GStreamer</strong> is a free open-source software project and multimedia framework to build media processing pipelines that support complex workflows. You may want to broadcast over WebRTC from a file on disk or another Real-time Streaming Protocol (<a href=/documentation/pr-preview/pr-354/millicast/broadcast/rtsp/>RTSP</a>). You can originate the broadcast through GStreamer that ingests the stream utilizing <a href=/documentation/pr-preview/pr-354/millicast/broadcast/webrtc-and-whip/>WHIP</a> or forwards with <a href=/documentation/pr-preview/pr-354/millicast/api/director/whep-whep-subscribe/>WHEP</a>.</p>
<p>This guide includes a number of examples:</p>
<ul>
<li>GStreamer WHIP Examples<!-- -->
<ul>
<li>Using the Video Test Source</li>
<li>Using a Media File on Disk</li>
<li>Using an RTSP Video Source</li>
<li>Using Surround Sound Content</li>
</ul>
</li>
<li>GStreamer WHEP Examples</li>
<li>Simple WHIP Client</li>
</ul>
<p>See the official <a href=https://gstreamer.freedesktop.org/ target=_blank rel="noopener noreferrer">gstreamer.freedesktop.org</a> documentation for installation instructions and additional support.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=get-your-dolbyio-whip-publish-url>Get your Dolby.io WHIP publish URL<a href=#get-your-dolbyio-whip-publish-url class=hash-link aria-label="Direct link to Get your Dolby.io WHIP publish URL" title="Direct link to Get your Dolby.io WHIP publish URL">​</a></h2>
<p>You will need a <em>WHIP endpoint</em> and <em>Bearer token</em> in order to broadcast. From the <a href=/documentation/pr-preview/pr-354/millicast/about-dash/>Dolby.io Dashboard</a>, navigate to the <em>Publishing</em> tab of your token. Under the <em>Live broadcast - Publish tokens</em> section, retrieve the <em>WHIP endpoint</em> and <em>Bearer token</em>.</p>
<p>See the <a href=/documentation/pr-preview/pr-354/millicast/broadcast/webrtc-and-whip/>WHIP</a> broadcast guide for more specific instructions on retrieving these values from the <a href=/documentation/pr-preview/pr-354/millicast/about-dash/>Streaming Dashboard</a>.</p>
<ul>
<li>WHIP endpoint</li>
<li>Bearer token</li>
</ul>
<p>In the examples below, these values are referenced as environment variables. You may need to adjust how you reference these values depending on the specific <code>shell</code> you use when running GStreamer.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"/></svg></span>Recording Streams</div><div class=admonitionContent_BuS1><p>If your token has <a href=/documentation/pr-preview/pr-354/millicast/distribution/stream-recordings/>recordings</a> enabled you will also want to specify the <code>codec</code> with the WHIP URL to specify one of the supported recording formats. You can append the query string at the end of the URL such as:<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">https://director.millicast.com/api/whip/{Stream Name}?codec=vp8</span><br></span></code></pre></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=get-your-dolbyio-whep-playback-url>Get your Dolby.io WHEP playback URL<a href=#get-your-dolbyio-whep-playback-url class=hash-link aria-label="Direct link to Get your Dolby.io WHEP playback URL" title="Direct link to Get your Dolby.io WHEP playback URL">​</a></h2>
<p>The <strong>WHEP endpoint</strong> is available from the <em>Playback</em> tab of your publish token in the <a href=/documentation/pr-preview/pr-354/millicast/about-dash/>Streaming Dashboard</a>.</p>
<p>It will follow a pattern similar to:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">https://director.millicast.com/api/whep/{Account ID}/{Stream Name}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=gstreamer>GStreamer<a href=#gstreamer class=hash-link aria-label="Direct link to GStreamer" title="Direct link to GStreamer">​</a></h2>
<p>The <a href=https://gstreamer.freedesktop.org/releases/1.22/ target=_blank rel="noopener noreferrer">1.22.0 release</a> of GStreamer (January 2023) includes support for WebRTC that enables:</p>
<ul>
<li>WebRTC HTTP ingest (WHIP) to a MediaServer (whipsink)</li>
<li>WebRTC HTTP egress (WHEP) from a MediaServer (whepsrc)</li>
</ul>
<p>The <a href=https://gstreamer.freedesktop.org/documentation/webrtchttp/whipsink.html target=_blank rel="noopener noreferrer">whipsink</a> element can be used to <strong>publish</strong> a gstreamer pipeline out to a Dolby.io real-time stream. The attributes that must be defined:</p>
<ul>
<li><code>auth-token</code>: should be set with your publishing bearer token</li>
<li><code>whip-endpoint</code>: should be set with the Dolby.io <a href=/documentation/pr-preview/pr-354/millicast/api/director/whip-whip-publish/>WHIP</a> endpoint</li>
</ul>
<p>The <a href=https://gstreamer.freedesktop.org/documentation/autodetect/autovideosink.html target=_blank rel="noopener noreferrer">autovideosink</a> element can be used to <strong>playback</strong> a Dolby.io real-time stream being broadcast into a gstreamer pipeline. The attribute that must be defined:</p>
<ul>
<li><code>whep-endpoint</code>: should be set with the Dolby.io <a href=/documentation/pr-preview/pr-354/millicast/api/director/whep-whep-subscribe/>WHEP</a> endpoint</li>
</ul>
<p>You can use the <a href=/documentation/pr-preview/pr-354/millicast/about-dash/>Hosted Viewer</a> and <a href=/documentation/pr-preview/pr-354/millicast/how-to-broadcast-in-dashboard/>Live Broadcaster</a> to test your setups.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-broadcast-the-video-test-source>How-to broadcast the video test source<a href=#how-to-broadcast-the-video-test-source class=hash-link aria-label="Direct link to How-to broadcast the video test source" title="Direct link to How-to broadcast the video test source">​</a></h3>
<p>The <a href="https://gstreamer.freedesktop.org/documentation/videotestsrc/index.html?gi-language=c" target=_blank rel="noopener noreferrer">videotestsrc</a> element can be used to produce a simple test video and has a few patterns. Here is a simple example of a bouncing ball:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">gst-launch-1.0 videotestsrc </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">pattern</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">ball </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> videoconvert </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> x264enc </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> rtph264pay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whip.sink_0 audiotestsrc </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">wave</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">5</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> audioconvert </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> opusenc </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> rtpopuspay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whip.sink_1 whipsink </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">whip </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  auth-token</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_BEARER_TOKEN</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whip-endpoint</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_WHIP_ENDPOINT</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=video-test-source-with-audio>Video test source with audio<a href=#video-test-source-with-audio class=hash-link aria-label="Direct link to Video test source with audio" title="Direct link to Video test source with audio">​</a></h4>
<p>The default <code>videotestsrc</code> shows a more complex stream that includes audio and a color test. To view this locally run <code>gst-launch-1.0 videotestsrc ! autovideosink</code>:</p>
<!-- -->
<div class=center-container><img src=/documentation/pr-preview/pr-354/assets/images/gstreamer-videotestsrc-c6ab43f7303ee7c38e075d9799385569.png width=600></div>
<p>In order to stream this video test variation you need to specify some additional steps for the audio encode settings:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">gst-launch-1.0 videotestsrc </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> videoconvert </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> x264enc </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> rtph264pay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token string" style="color:hsl(119, 34%, 47%)">'application/x-rtp,media=video,encoding-name=H264,payload=97,clock-rate=90000'</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whip.sink_0 audiotestsrc </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">wave</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">5</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> audioconvert </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> opusenc </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> rtpopuspay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token string" style="color:hsl(119, 34%, 47%)">'application/x-rtp,media=audio,encoding-name=OPUS,payload=96,clock-rate=48000,encoding-params=(string)2'</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whip.sink_1 whipsink </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">whip auth-token</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_BEARER_TOKEN</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whip-endpoint</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_WHIP_ENDPOINT</span><br></span></code></pre></div></div>
<p>You can watch these streams from a <a href=/documentation/pr-preview/pr-354/millicast/playback/>playback</a> viewer.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-broadcast-the-audio-only-test-source>How-to broadcast the audio-only test source<a href=#how-to-broadcast-the-audio-only-test-source class=hash-link aria-label="Direct link to How-to broadcast the audio-only test source" title="Direct link to How-to broadcast the audio-only test source">​</a></h3>
<p>The <a href="https://gstreamer.freedesktop.org/documentation/audiotestsrc/index.html?gi-language=c#audiotestsrc-page" target=_blank rel="noopener noreferrer">audiotestsrc</a> element can be used to produce a simple test of audio-only streaming. Here's an example:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">gst-launch-1.0 audiotestsrc </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">wave</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">sine </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    audioconvert </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> opusenc </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> rtpopuspay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token string" style="color:hsl(119, 34%, 47%)">'application/x-rtp,media=audio,encoding-name=OPUS,payload=96,clock-rate=48000,encoding-params=(string)2'</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    whipsink </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">whip auth-token</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_BEARER_TOKEN</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    whip-endpoint</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_WHIP_ENDPOINT</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-broadcast-a-media-file>How-to broadcast a media file<a href=#how-to-broadcast-a-media-file class=hash-link aria-label="Direct link to How-to broadcast a media file" title="Direct link to How-to broadcast a media file">​</a></h3>
<p>Instead of using the video test source, this example demonstrates reading and looping a media file from disk using the <a href=https://gstreamer.freedesktop.org/documentation/multifile/multifilesrc.html target=_blank rel="noopener noreferrer">multifilesrc</a> element. You can find example media to try this with such as <a href=https://peach.blender.org/download/ target=_blank rel="noopener noreferrer">Big Buck Bunny</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=using-a-specific-codec>Using a specific codec<a href=#using-a-specific-codec class=hash-link aria-label="Direct link to Using a specific codec" title="Direct link to Using a specific codec">​</a></h4>
<p>If there is a requirement to use a specific codec such as with recordings you should use the <strong>codec</strong> query parameter of the <a href=/documentation/pr-preview/pr-354/millicast/api/director/whip-whip-publish/>WHIP</a> endpoint.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">gst-launch-1.0 multifilesrc </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">location</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">bbb_sunflower_1080p_30fps_normal.mp4 </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">loop</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">true </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  qtdemux </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> decodebin </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> videorate </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> videoconvert </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> timeoverlay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  video/x-raw,format</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">'(string)I420'</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> vp9enc target-bitrate</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">4000000</span><span class="token plain"> keyframe-max-dist</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">deadline</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  end-usage</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> cpu-used</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">8</span><span class="token plain"> lag-in-frames</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> video/x-vp9,profile</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">'(string)0'</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  rtpvp9pay </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">pt</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">ssrc</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whipsink </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">whip auth-token</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_BEARER_TOKEN</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whip-endpoint</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_WHIP_ENDPOINT</span><span class="token plain">?codec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">vp9</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=using-audio-only-mp3-file-with-custom-encoding>Using audio-only MP3 file with custom encoding<a href=#using-audio-only-mp3-file-with-custom-encoding class=hash-link aria-label="Direct link to Using audio-only MP3 file with custom encoding" title="Direct link to Using audio-only MP3 file with custom encoding">​</a></h4>
<p>This example demonstrates using <a href="https://gstreamer.freedesktop.org/documentation/opus/opusenc.html?gi-language=c" target=_blank rel="noopener noreferrer">opusenc</a> with additional configured encoding options. These can also be omitted to use the defaults.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">gst-launch-1.0 multifilesrc </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">location</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">bbb_sunflower_1080p_30fps_normal.mp4 </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">loop</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">true </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  qtdemux </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> decodebin </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> videorate </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> videoconvert </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> timeoverlay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  video/x-raw,format</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">'(string)I420'</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> vp9enc target-bitrate</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">4000000</span><span class="token plain"> keyframe-max-dist</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">deadline</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  end-usage</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> cpu-used</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">8</span><span class="token plain"> lag-in-frames</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> video/x-vp9,profile</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">'(string)0'</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  rtpvp9pay </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">pt</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">ssrc</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whipsink </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">whip auth-token</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_BEARER_TOKEN</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whip-endpoint</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_WHIP_ENDPOINT</span><span class="token plain">?codec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">vp9</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-broadcast-a-rtsp-video-source>How-to broadcast a RTSP video source<a href=#how-to-broadcast-a-rtsp-video-source class=hash-link aria-label="Direct link to How-to broadcast a RTSP video source" title="Direct link to How-to broadcast a RTSP video source">​</a></h3>
<p>This example demonstrates using a RTSP source such as with an IP camera while</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">gst-launch-1.0 rtspsrc </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">location</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">"rtsp://192.168.1.168/0"</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">latency</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">rtsp </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  rtph264depay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> rtph264pay config-interval</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">-1 </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  application/x-rtp,media</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">video,encoding-name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">H264 </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whipsink </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">whip auth-token</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_BEARER_TOKEN</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whip-endpoint</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_WHIP_ENDPOINT</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=source-with-opus-audio>Source with Opus audio<a href=#source-with-opus-audio class=hash-link aria-label="Direct link to Source with Opus audio" title="Direct link to Source with Opus audio">​</a></h4>
<p>You can ingest with support for an audio codec such as Opus:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">gst-launch-1.0 rtspsrc </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">location</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">"rtsp://192.168.1.168/0"</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">latency</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> decodebin </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">`</span><span class="token variable" style="color:hsl(221, 87%, 60%)">application/x-rtp,media</span><span class="token variable operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">video,encoding-name</span><span class="token variable operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">H264</span><span class="token variable" style="color:hsl(221, 87%, 60%)">`</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  rtph264pay config-interval</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">-1 </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">rtsp rtsp. </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  decodebin </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> audioconvert </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> audioresample </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  audiobuffersplit output-buffer-duration</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">/50 </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> opusenc </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  rtpopuspay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> application/x-rtp,media</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">audio,encoding-name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">OPUS,payload</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whipsink </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">whip auth-token</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_BEARER_TOKEN</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whip-endpoint</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_WHIP_ENDPOINT</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-broadcast-audio-in-surround-sound>How-to broadcast audio in surround sound<a href=#how-to-broadcast-audio-in-surround-sound class=hash-link aria-label="Direct link to How-to broadcast audio in surround sound" title="Direct link to How-to broadcast audio in surround sound">​</a></h3>
<p>You can broadcast media files that include surround sound audio.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=using-51-source-media>Using 5.1 source media<a href=#using-51-source-media class=hash-link aria-label="Direct link to Using 5.1 source media" title="Direct link to Using 5.1 source media">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">gst-launch-1.0 multifilesrc </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">location</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">big_buck_bunny_720p_surround.avi </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">loop</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">true </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  decodebin </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">decoder </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> queue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> video/x-raw </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  videoconvert </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> queue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> video/x-raw,format</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">'(string)I420'</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  vp9enc target-bitrate</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">6000000</span><span class="token plain"> keyframe-max-dist</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">24</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">deadline</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> end-usage</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> cpu-used</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">8</span><span class="token plain"> lag-in-frames</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"> video/x-vp9,profile</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">'(string)0'</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  rtpvp9pay </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">pt</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">ssrc</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> queue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whipsink </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">ws use-link-headers</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">true auth-token</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_BEARER_TOKEN</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  whip-endpoint</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$DOLBYIO_WHIP_ENDPOINT</span><span class="token plain">?codec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">vp decoder. </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> queue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> audio/x-raw,rate</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">48000</span><span class="token plain">,channels</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">6</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  decodebin </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> audioconvert </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> opusenc </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> rtpopuspay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> queue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> ws.</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=simple-whip-client>Simple WHIP client<a href=#simple-whip-client class=hash-link aria-label="Direct link to Simple WHIP client" title="Direct link to Simple WHIP client">​</a></h2>
<p>The <a href=https://github.com/lminiero/simple-whip-client target=_blank rel="noopener noreferrer">Simple WHIP client</a> is an open-source implementation of a WHIP client that can be useful for testing. It requires a build of the C libraries including GStreamer.</p>
<p>You can find more details on the GitHub project: <a href=https://github.com/meetecho/simple-whip-client target=_blank rel="noopener noreferrer">https://github.com/meetecho/simple-whip-client</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=testing-your-setup>Testing your setup<a href=#testing-your-setup class=hash-link aria-label="Direct link to Testing your setup" title="Direct link to Testing your setup">​</a></h3>
<p>First test your setup by using a video test source to a WHIP GStreamer pipeline.</p>
<p><strong>Note:</strong> If you have recording enabled, you will need to add <code>?codec=h264</code>.<br>
<!-- -->For the example below, if recording is enabled: <code>https://director.millicast.com/api/whip/streamName</code> and <code>?codec=vp8</code>.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">./whip-client </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-u</span><span class="token plain"> https://director.millicast.com/api/whip/kxhqovek </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-t</span><span class="token plain"> 09598571d36bc70dd59871be7a322d0fd688d05decbd619db88ced1f780987a7 </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-V</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"videotestsrc is-live=true pattern=ball ! videoconvert ! queue !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    vp8enc deadline=1 ! rtpvp8pay pt=96 ssrc=2 ! queue !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    application/x-rtp,media=video,encoding-name=VP8,payload=96"</span><br></span></code></pre></div></div>
<p>If everything is correct, you should see a command output like this:</p>
<!-- -->
<div class=center-container><img src=/documentation/pr-preview/pr-354/assets/images/cmd_line-bcbc06385eae72b030bfc82403cab448.png width=600></div>
<p>And if you connect to the viewer, a bouncing ball will be shown:</p>
<!-- -->
<div class=center-container><img src=/documentation/pr-preview/pr-354/assets/images/viewer-0f2b039c6728c436cdefc36f53f23b2f.png width=600></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=publishing-an-rtsp-video-only-source>Publishing an RTSP video-only source<a href=#publishing-an-rtsp-video-only-source class=hash-link aria-label="Direct link to Publishing an RTSP video-only source" title="Direct link to Publishing an RTSP video-only source">​</a></h3>
<p>Now, to connect to an RTSP source like an axis camera, you need to replace the GStreamer pipeline with one that connects to the Camera and passes the video data to Dolby.io Real-time Streaming without transcoding the content.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">./whip-client </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-u</span><span class="token plain"> https://director.millicast.com/api/whip/kxhqovek </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-t</span><span class="token plain">  09598571d36bc70dd59871be7a322d0fd688d05decbd619db88ced1f780987a7 </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-V</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"rtspsrc location=rtsp://98.100.xxx.xxx:5545/axis-media/media.amp latency=0 name=rtsp !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      rtph264depay ! rtph264pay config-interval=-1 !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      application/x-rtp,media=video,encoding-name=H264"</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=publishing-an-rtsp-audio-and-video-source>Publishing an RTSP audio and video source<a href=#publishing-an-rtsp-audio-and-video-source class=hash-link aria-label="Direct link to Publishing an RTSP audio and video source" title="Direct link to Publishing an RTSP audio and video source">​</a></h3>
<p>If your camera also supports audio, you just need to add the GStreamer audio pipeline:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">./whip-client </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-u</span><span class="token plain"> https://director.millicast.com/api/whip/kxhqovek </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-t</span><span class="token plain"> 09598571d36bc70dd59871be7a322d0fd688d05decbd619db88ced1f780987a7 </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-A</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"rtsp. ! decodebin ! audioconvert ! audioresample !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      audiobuffersplit output-buffer-duration=2/50 ! queue ! opusenc !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      rtpopuspay pt=100 ssrc=1 ! queue !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      application/x-rtp,media=audio,encoding-name=OPUS,payload=100"</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-V</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"rtspsrc location=rtsp://98.100.xxx.xxx:5545/axis-media/media.amp latency=0 name=rtsp !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      rtph264depay ! rtph264pay config-interval=-1 !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      application/x-rtp,media=video,encoding-name=H264"</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=publishing-an-rtsp-source-with-authentication>Publishing an RTSP source with authentication<a href=#publishing-an-rtsp-source-with-authentication class=hash-link aria-label="Direct link to Publishing an RTSP source with authentication" title="Direct link to Publishing an RTSP source with authentication">​</a></h3>
<p>Finally, if your setup requires authentication, pass the username and password to the GStreamer RTSP plugin</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">./whip-client </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-u</span><span class="token plain"> https://director.millicast.com/api/whip/kxhqovek </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">	</span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-t</span><span class="token plain"> 09598571d36bc70dd58971be7a322d0fd688d05decbd619db88ced1f780987a7</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">	</span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-A</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"rtsp. ! decodebin ! audioconvert ! audioresample !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      audiobuffersplit output-buffer-duration=2/50 ! queue ! opusenc !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      rtpopuspay pt=100 ssrc=1 ! queue !</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      application/x-rtp,media=audio,encoding-name=OPUS,payload=100"</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-V</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"rtspsrc location="</span><span class="token plain">rtsp://admin:admin@XXX.XXX.XX.XXX:855/live </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">latency</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">rtsp</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      user-id</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">admin user-pw</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">admin </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> rtph264depay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> rtph264pay config-interval</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">-1 </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      application/x-rtp,media</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">video,encoding-name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">H264"</span><br></span></code></pre></div></div></div></div></div><div class=row><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/THEOplayer/documentation/blob/-/millicast/broadcast/software-encoders/gstreamer.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></div></div></article><div class=row><div class="col col--12"><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/documentation/pr-preview/pr-354/millicast/software-encoders/flowcaster/><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Drastic Technologies</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/documentation/pr-preview/pr-354/millicast/software-encoders/liveu-studio/><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>LiveU Studio</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#get-your-dolbyio-whip-publish-url class="table-of-contents__link toc-highlight">Get your Dolby.io WHIP publish URL</a><li><a href=#get-your-dolbyio-whep-playback-url class="table-of-contents__link toc-highlight">Get your Dolby.io WHEP playback URL</a><li><a href=#gstreamer class="table-of-contents__link toc-highlight">GStreamer</a><ul><li><a href=#how-to-broadcast-the-video-test-source class="table-of-contents__link toc-highlight">How-to broadcast the video test source</a><ul><li><a href=#video-test-source-with-audio class="table-of-contents__link toc-highlight">Video test source with audio</a></ul><li><a href=#how-to-broadcast-the-audio-only-test-source class="table-of-contents__link toc-highlight">How-to broadcast the audio-only test source</a><li><a href=#how-to-broadcast-a-media-file class="table-of-contents__link toc-highlight">How-to broadcast a media file</a><ul><li><a href=#using-a-specific-codec class="table-of-contents__link toc-highlight">Using a specific codec</a><li><a href=#using-audio-only-mp3-file-with-custom-encoding class="table-of-contents__link toc-highlight">Using audio-only MP3 file with custom encoding</a></ul><li><a href=#how-to-broadcast-a-rtsp-video-source class="table-of-contents__link toc-highlight">How-to broadcast a RTSP video source</a><ul><li><a href=#source-with-opus-audio class="table-of-contents__link toc-highlight">Source with Opus audio</a></ul><li><a href=#how-to-broadcast-audio-in-surround-sound class="table-of-contents__link toc-highlight">How-to broadcast audio in surround sound</a><ul><li><a href=#using-51-source-media class="table-of-contents__link toc-highlight">Using 5.1 source media</a></ul></ul><li><a href=#simple-whip-client class="table-of-contents__link toc-highlight">Simple WHIP client</a><ul><li><a href=#testing-your-setup class="table-of-contents__link toc-highlight">Testing your setup</a><li><a href=#publishing-an-rtsp-video-only-source class="table-of-contents__link toc-highlight">Publishing an RTSP video-only source</a><li><a href=#publishing-an-rtsp-audio-and-video-source class="table-of-contents__link toc-highlight">Publishing an RTSP audio and video source</a><li><a href=#publishing-an-rtsp-source-with-authentication class="table-of-contents__link toc-highlight">Publishing an RTSP source with authentication</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 <a href=https://www.dolby.com/>Dolby Laboratories, Inc. All rights reserved.</a></div></div></div></footer></div>