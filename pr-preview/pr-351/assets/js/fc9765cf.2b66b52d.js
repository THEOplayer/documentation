"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["71079"],{803883:function(e,t,n){n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var i=n(833692),s=n(785893),r=n(250065);let a={sidebar_position:6,sidebar_label:"Chromecast CAF",sidebar_custom_props:{icon:"web"}},o="Getting started with OptiView Ads on Chromecast CAF",d={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Integration",id:"integration",level:2},{value:"Configuring the Chromecast player",id:"configuring-the-chromecast-player",level:3},{value:"Chromecast Load Request",id:"chromecast-load-request",level:3},{value:"More information",id:"more-information",level:2}];function l(e){let t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"getting-started-with-optiview-ads-on-chromecast-caf",children:"Getting started with OptiView Ads on Chromecast CAF"})}),"\n",(0,s.jsx)(t.p,{children:"This guide will get you started with OptiView Ads using the THEOplayer Chromecast CAF SDK: configure the license, update dependencies and set the source description. If you are implementing a Chromecast v2 receiver, use the Web guide instead."}),"\n",(0,s.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["You need to have a THEOplayer license which is compatible with OptiView Ads. This can be done through the ",(0,s.jsx)(t.a,{href:"https://portal.theoplayer.com",children:"player portal"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["You need a working ",(0,s.jsx)(t.a,{href:"/documentation/pr-preview/pr-351/ads/getting-started/signaling-service",children:"OptiView Ads signaling service"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Your THEOplayer SDK needs to have the ",(0,s.jsx)(t.code,{children:"theoads"})," feature enabled."]}),"\n",(0,s.jsxs)(t.p,{children:["As of THEOplayer version 8.2.0, this feature is enabled in the main ",(0,s.jsx)(t.code,{children:"theoplayer"})," package.\nYou can install this package with the following command:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"npm install theoplayer\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"integration",children:"Integration"}),"\n",(0,s.jsxs)(t.p,{children:["This guide assumes you know how to set up THEOplayer. For more information regarding this check out the ",(0,s.jsx)(t.a,{href:"/theoplayer/getting-started/sdks/web/getting-started/",children:"THEOplayer getting started"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"NOTE: Currently the Chromecast CAF SDK only supports image overlays from OptiView Ads."}),"\n",(0,s.jsx)(t.h3,{id:"configuring-the-chromecast-player",children:"Configuring the Chromecast player"}),"\n",(0,s.jsx)(t.p,{children:"OptiView Ads is supported using the Shaka player for HLS on Chromecast. To enable this, before starting the Chromecast application, configure it to use Shaka."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"let castReceiverOptions = new cast.framework.CastReceiverOptions();\ncastReceiverOptions.useShakaForHls = true;\ncast.framework.CastReceiverContext.getInstance().start(castReceiverOptions);\n"})}),"\n",(0,s.jsx)(t.h3,{id:"chromecast-load-request",children:"Chromecast Load Request"}),"\n",(0,s.jsx)(t.p,{children:"When sending a load request to the CAF application, specify a source with a OptiView Ads-enabled ad description:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "media": {\n    "contentUrl": "PATH-TO-SIGNALING-SERVER/hls/MANIFEST-URI",\n    "streamType": "LIVE",\n    "contentType": "application/x-mpegurl"\n  },\n  "customData": {\n    "sourceDescription": {\n      "sources": {\n        "src": "PATH-TO-SIGNALING-SERVER/hls/MANIFEST-URI",\n        "type": "application/x-mpegurl",\n        "hlsDateRange": true\n      },\n      "ads": [\n        {\n          "integration": "theoads"\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Notice that the ",(0,s.jsx)(t.code,{children:"src"})," is different than usual. For OptiView Ads, a signaling server needs to be set up which acts as a proxy to parse the given manifest and insert the ad interstitials. More information can be found ",(0,s.jsx)(t.a,{href:"/documentation/pr-preview/pr-351/ads/getting-started/signaling-service",children:"here"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Also notice the value for ",(0,s.jsx)(t.code,{children:"src"})," is repeated as the value for the ",(0,s.jsx)(t.code,{children:"contentUrl"}),". These should be the same value."]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"hlsDateRange"})," flag needs to be set to ",(0,s.jsx)(t.code,{children:"true"})," as the ad markers are done using ",(0,s.jsx)(t.code,{children:"EXT-X-DATERANGE"})," tags."]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"ads"})," object needs to have its integration set to ",(0,s.jsx)(t.code,{children:"theoads"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"more-information",children:"More information"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"pathname:///theoplayer/v8/api-reference/web/interfaces/TheoAdDescription.html",children:"API references"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://optiview.dolby.com/products/server-guided-ad-insertion/",children:"What is OptiView Ads?"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://optiview.dolby.com/solutions/personalized-advertising/",children:"The Advantages of Server-Guided Ad Insertion"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://optiview.dolby.com/resources/blog/advertising/what-is-sgai-server-guided-ad-insertion-in-streaming/",children:"Is Server-Guided Ad-Insertion (SGAI) revolutionizing streaming monetization? (blog)"})}),"\n"]})]})}function h(e={}){let{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},250065:function(e,t,n){n.d(t,{Z:()=>o,a:()=>a});var i=n(667294);let s={},r=i.createContext(s);function a(e){let t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}},833692:function(e){e.exports=JSON.parse('{"id":"getting-started/chromecast","title":"Getting started with OptiView Ads on Chromecast CAF","description":"This guide will get you started with OptiView Ads using the THEOplayer Chromecast CAF SDK: configure the license, update dependencies and set the source description. If you are implementing a Chromecast v2 receiver, use the Web guide instead.","source":"@site/ads/getting-started/chromecast.mdx","sourceDirName":"getting-started","slug":"/getting-started/chromecast","permalink":"/documentation/pr-preview/pr-351/ads/getting-started/chromecast","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/ads/getting-started/chromecast.mdx","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"sidebar_label":"Chromecast CAF","sidebar_custom_props":{"icon":"web"}},"sidebar":"ads","previous":{"title":"React Native","permalink":"/documentation/pr-preview/pr-351/ads/getting-started/react-native"},"next":{"title":"How-to guides","permalink":"/documentation/pr-preview/pr-351/ads/how-to-guides/"}}')}}]);