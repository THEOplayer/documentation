"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["22575"],{578123:function(e,t,i){i.d(t,{ZP:()=>s,d$:()=>a});var n=i(785893),r=i(250065);let a=[];function o(e){let t={a:"a",admonition:"admonition",p:"p",...(0,r.a)(),...e.components};return(0,n.jsx)(t.admonition,{title:"Premium Feature",type:"warning",children:(0,n.jsxs)(t.p,{children:["This feature is a premium option that must be enabled on your acccount. If you would like to use this capability on your project, please ",(0,n.jsx)(t.a,{href:"https://support.dolby.io/hc/en-au",children:"submit a support ticket"})," or reach out to your ",(0,n.jsx)(t.a,{href:"https://optiview.dolby.com/contact/",children:"sales/solutions"})," contact."]})})}function s(e={}){let{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},146745:function(e,t,i){i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>n,toc:()=>d});var n=i(776391),r=i(785893),a=i(250065),o=i(578123);let s={sidebar_position:7,sidebar_label:"Viewer Tracking",title:"Viewer Tracking"},l="Tracking Viewers",c={},d=[...o.d$,{value:"Tracking Workflow",id:"tracking-workflow",level:2},{value:"Notes",id:"notes",level:3}];function h(e){let t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.ZP,{}),"\n",(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"tracking-viewers",children:"Tracking Viewers"})}),"\n",(0,r.jsx)(t.p,{children:"With THEOlive, you can syndicate content through multiple distribution partners while utilizing the same channel, or alternatively track different groups through aliases. This can be helpful for aggregating viewing and billing data for a group of viewers."}),"\n",(0,r.jsx)(t.p,{children:"Additionally, when using the advanced reporting feature, you might want to assign tracking metadata to individual viewers to post-process later in your data and BI analysis tools. This is all possible with our viewer tracking workflows."}),"\n",(0,r.jsx)(t.h2,{id:"tracking-workflow",children:"Tracking Workflow"}),"\n",(0,r.jsxs)(t.p,{children:["The following is an ",(0,r.jsx)(t.strong,{children:"example workflow"})," for setting up stream tracking:"]}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Create a THEOlive channel"}),"\n",(0,r.jsxs)(t.li,{children:["Enable ",(0,r.jsx)(t.a,{href:"/documentation/pr-preview/pr-428/theolive/platform/security/token-based-security",children:(0,r.jsx)(t.em,{children:"Token Security"})})," on the channel or alias"]}),"\n",(0,r.jsxs)(t.li,{children:["When you create your self-signed token, add one or both of the following parameters to the ",(0,r.jsx)(t.code,{children:"payload.tracking"})," of your JWT:","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"trackingId"}),": Groups viewers of the same channel, allows you to get the aggregated bandwidth usage of all viewers. This is useful for billing a single channel or alias if you use multiple distribution partners and want aggregated billing metrics back or viewer reports for groups of viewers. The maximum size is 128 characters"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"customViewerData"})," : Access the bandwidth consumption of each viewer for analytics purposes and passthrough metadata from your CMS for a viewer and be able to retrieve it in a viewer report. This data is not parsed by our system and can be a series of key-value pairs for you to extract later. The maxium size is 1024 characters"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Pass the JWT through to the player as described in the ",(0,r.jsx)(t.a,{href:"/documentation/pr-preview/pr-428/theolive/platform/security/token-based-security",children:(0,r.jsx)(t.em,{children:"Token Security"})})," section"]}),"\n",(0,r.jsxs)(t.li,{children:["To get ",(0,r.jsx)(t.em,{children:"Advanced Reports"}),", including user-reports, please contact your Dolby representative for access."]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsxs)(t.em,{children:["Note: Either or both ",(0,r.jsx)(t.code,{children:"trackingId"})," and/or ",(0,r.jsx)(t.code,{children:"customViewerData"})," may be used depending on what kind of tracking you need to achieve."]})}),"\n",(0,r.jsxs)(t.p,{children:["To put it all together, here is an example ",(0,r.jsx)(t.code,{children:"payload"})," for a JWT that includes sample ",(0,r.jsx)(t.code,{children:"trackingId"})," and ",(0,r.jsx)(t.code,{children:"customViewerData"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "tracking": {\n    "trackingId": "groupAbc",\n    "customViewerData": "user=user123;appVersion=x.y.x"\n  },\n  "iat": 1750813271,\n  "exp": 1750813871 // required for the token to be valid\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Here is the JWT that is used to generate this token, you can paste it into ",(0,r.jsx)(t.a,{href:"https://jwt.io/#token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0cmFja2luZyI6eyJ0cmFja2luZ0lkIjoiZ3JvdXBBYmMiLCJjdXN0b21WaWV3ZXJEYXRhIjoidXNlcj11c2VyMTIzO2FwcFZlcnNpb249eC55LngifSwiaWF0IjoxNzUwODEzMjcxLCJleHAiOjE3NTA4MTM4NzF9.pgvw10HvMVd-Uw-7DLAlxe4g84jwWGEP3kIbjQEFof0",children:"jwt.io"}),"."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-text",children:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0cmFja2luZyI6eyJ0cmFja2luZ0lkIjoiZ3JvdXBBYmMiLCJjdXN0b21WaWV3ZXJEYXRhIjoidXNlcj11c2VyMTIzO2FwcFZlcnNpb249eC55LngifSwiaWF0IjoxNzUwODEzMjcxLCJleHAiOjE3NTA4MTM4NzF9.pgvw10HvMVd-Uw-7DLAlxe4g84jwWGEP3kIbjQEFof0\n"})}),"\n",(0,r.jsxs)(t.p,{children:["To see the validation tool validate the token, insert the random secret used to sign the token: ",(0,r.jsx)(t.code,{children:"d2e166fdda89824a6c493d8a2af7a0754199eff9e38c579cba8783767a44039c"}),"."]}),"\n",(0,r.jsx)(t.h3,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:['Tracking can be used independently of secure channels. You can pass the same payload parameters in a JWT, however, we require that the token is "valid". This means that the required date fields ',(0,r.jsx)(t.em,{children:"must"})," be valid or the token will be ignored. If a channel does not have token security enabled, however, be aware that anyone can view the channel with or without a jwt token. If secure channels are not enabled, the signature is not validated, so there is a risk that a user ",(0,r.jsx)(t.em,{children:"could"})," change the values"]}),"\n",(0,r.jsxs)(t.li,{children:["If you are combining our OptiView real-time (Millicast) streaming solution and our live streaming solution (THEOlive), you may use the ",(0,r.jsx)(t.em,{children:"secret"})," from the Millicast subscriber token as the secret you provide to THEOlive and you can use the same JWTs across both streaming products"]}),"\n"]})]})}function u(e={}){let{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},250065:function(e,t,i){i.d(t,{Z:()=>s,a:()=>o});var n=i(667294);let r={},a=n.createContext(r);function o(e){let t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(a.Provider,{value:t},e.children)}},776391:function(e){e.exports=JSON.parse('{"id":"platform/viewer-tracking","title":"Viewer Tracking","description":"With THEOlive, you can syndicate content through multiple distribution partners while utilizing the same channel, or alternatively track different groups through aliases. This can be helpful for aggregating viewing and billing data for a group of viewers.","source":"@site/theolive/platform/viewer-tracking.mdx","sourceDirName":"platform","slug":"/platform/viewer-tracking","permalink":"/documentation/pr-preview/pr-428/theolive/platform/viewer-tracking","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/theolive/platform/viewer-tracking.mdx","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"sidebar_label":"Viewer Tracking","title":"Viewer Tracking"},"sidebar":"theolive","previous":{"title":"Viewer Insights","permalink":"/documentation/pr-preview/pr-428/theolive/platform/viewer-insights"},"next":{"title":"Webhooks","permalink":"/documentation/pr-preview/pr-428/theolive/platform/real-time-update-with-webhooks"}}')}}]);