"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["17270"],{71297:function(e,i,n){n.r(i),n.d(i,{default:()=>p,frontMatter:()=>l,metadata:()=>t,assets:()=>d,toc:()=>s,contentTitle:()=>o});var t=JSON.parse('{"id":"client-sdks/android/player/index","title":"Player SDK","description":"Usage","source":"@site/millicast/client-sdks/android/player/index.mdx","sourceDirName":"client-sdks/android/player","slug":"/android-player","permalink":"/documentation/pr-preview/pr-287/millicast/android-player","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/millicast/client-sdks/android/player/index.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Player SDK","slug":"/android-player","sidebar_position":1},"sidebar":"millicast","previous":{"title":"React.JS","permalink":"/documentation/pr-preview/pr-287/millicast/sample-apps-react"},"next":{"title":"Millicast SDK","permalink":"/documentation/pr-preview/pr-287/millicast/android"}}'),a=n("85893"),r=n("50065");let l={title:"Player SDK",slug:"/android-player",sidebar_position:1},o="Getting started with THEOPlayer for Millicast on Android",d={},s=[{value:"Usage",id:"usage",level:2},{value:"Add the <code>integration-millicast</code> dependency",id:"add-the-integration-millicast-dependency",level:3},{value:"Add the Millicast integration to the player",id:"add-the-millicast-integration-to-the-player",level:3},{value:"Add a <code>MillicastSource</code>",id:"add-a-millicastsource",level:3},{value:"Add configuration",id:"add-configuration",level:3},{value:"Background playback",id:"background-playback",level:3},{value:"More information",id:"more-information",level:2}];function c(e){let i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"getting-started-with-theoplayer-for-millicast-on-android",children:"Getting started with THEOPlayer for Millicast on Android"})}),"\n",(0,a.jsx)(i.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsxs)(i.ol,{children:["\n",(0,a.jsxs)(i.li,{children:["Follow our ",(0,a.jsx)(i.a,{href:"pathname:///theoplayer/getting-started/sdks/android/getting-started",children:"Getting Started guide"})," to set up THEOplayer in your Android app."]}),"\n",(0,a.jsxs)(i.li,{children:["Add the ",(0,a.jsx)(i.code,{children:"integration-millicast"})," dependency to your module's ",(0,a.jsx)(i.code,{children:"build.gradle"}),"."]}),"\n",(0,a.jsxs)(i.li,{children:["Add the ",(0,a.jsx)(i.code,{children:"MillicastIntegration"})," to the player."]}),"\n",(0,a.jsxs)(i.li,{children:["Add a ",(0,a.jsx)(i.code,{children:"MillicastSource"})," to your player's source."]}),"\n"]}),"\n",(0,a.jsxs)(i.h3,{id:"add-the-integration-millicast-dependency",children:["Add the ",(0,a.jsx)(i.code,{children:"integration-millicast"})," dependency"]}),"\n",(0,a.jsxs)(i.p,{children:["Add the Millicast integration along with the ",(0,a.jsx)(i.a,{href:"https://docs.dolby.io/streaming-apis/docs/android",children:"Millicast SDK"}),"\nto your module ",(0,a.jsx)(i.code,{children:"build.gradle"})," file, as demonstrated below:"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-groovy",children:"dependencies {\n    // ...\n    implementation 'com.theoplayer.theoplayer-sdk-android:core:+'\n    implementation 'com.theoplayer.theoplayer-sdk-android:integration-millicast:+'\n    implementation \"com.millicast:millicast-sdk-android:2.0.0\"\n    // ...\n}\n"})}),"\n",(0,a.jsx)(i.h3,{id:"add-the-millicast-integration-to-the-player",children:"Add the Millicast integration to the player"}),"\n",(0,a.jsx)(i.admonition,{type:"tip",children:(0,a.jsxs)(i.p,{children:["If you're using ",(0,a.jsx)(i.a,{href:"pathname:///theoplayer/getting-started/sdks/android/features/#adding-integrations-automatically",children:"automatic integrations"}),", you can skip this step."]})}),"\n",(0,a.jsxs)(i.p,{children:["Create and add the ",(0,a.jsx)(i.code,{children:"MillicastIntegration"})," to your ",(0,a.jsx)(i.code,{children:"THEOplayerView"}),":"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-kotlin",children:"val millicastIntegration = MillicastIntegrationFactory.createMillicastIntegration()\ntheoplayerView.player.addIntegration(millicastIntegration)\n"})}),"\n",(0,a.jsxs)(i.h3,{id:"add-a-millicastsource",children:["Add a ",(0,a.jsx)(i.code,{children:"MillicastSource"})]}),"\n",(0,a.jsxs)(i.p,{children:["After setting up a ",(0,a.jsx)(i.code,{children:"THEOplayerView"})," in your app's activity, set its source to a ",(0,a.jsx)(i.code,{children:"SourceDescription"})," containing a ",(0,a.jsx)(i.code,{children:"MillicastSource"}),".\nYou'll need a Millicast account ID and stream name to identify your Millicast stream:"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-kotlin",children:'import com.theoplayer.android.api.millicast.MillicastSource\n\ntheoplayerView.player.source = SourceDescription.Builder(\n    MillicastSource(\n        src = "multiview",\n        streamAccountId = "k9Mwad",\n        apiUrl = "https://director.millicast.com/api/director/subscribe",\n        subscriberToken = "<token>" // This is only required for subscribing to secure streams and should be omitted otherwise.\n    )\n).build()\n'})}),"\n",(0,a.jsx)(i.h3,{id:"add-configuration",children:"Add configuration"}),"\n",(0,a.jsxs)(i.p,{children:["Optionally, you can provide additional configuration to the source, specific for working with Millicast streams.\nTo configure these settings, add an ",(0,a.jsx)(i.code,{children:"Option"})," object as the ",(0,a.jsx)(i.code,{children:"connectOptions"})," parameter of the source object\nand specify the options."]}),"\n",(0,a.jsxs)(i.p,{children:["In the example below, the configuration is used to disable any audio from the Millicast stream.\nFor an exhaustive list of these options, visit the ",(0,a.jsx)(i.a,{href:"https://millicast.github.io/doc/latest/android/android/com.millicast.subscribers/-option/index.html",children:"documentation"}),"."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-kotlin",children:"import com.millicast.subscribers.Option\nimport com.theoplayer.android.api.millicast.MillicastSource\n\ntheoplayerView.player.source = SourceDescription.Builder(\n    MillicastSource(\n        // ...\n        connectOptions = Option(\n            disableAudio = true\n        )\n    )\n).build()\n"})}),"\n",(0,a.jsx)(i.h3,{id:"background-playback",children:"Background playback"}),"\n",(0,a.jsx)(i.admonition,{title:"Known issue on Android Millicast background playback",type:"info",children:(0,a.jsx)(i.p,{children:"Currently there is a known issue where after an indeterminate amount of time background playback of Millicast sources can stop playing unexpectedly. This issue is being investigated and will be fixed in an upcoming release."})}),"\n",(0,a.jsxs)(i.p,{children:["In order to play Millicast sources in the background, ensure you've configured allowing background playback using the ",(0,a.jsx)(i.a,{href:"https://www.theoplayer.com/docs/theoplayer/v8/api-reference/android/com/theoplayer/android/api/THEOplayerSettings.html#setAllowBackgroundPlayback(boolean)",children:"setAllowBackgroundPlayback"})," API on the player."]}),"\n",(0,a.jsx)(i.h2,{id:"more-information",children:"More information"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:(0,a.jsx)(i.a,{href:"pathname:///theoplayer/v9/api-reference/android/com/theoplayer/android/api/millicast/package-summary.html",children:"API references"})}),"\n"]})]})}function p(e={}){let{wrapper:i}={...(0,r.a)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},50065:function(e,i,n){n.d(i,{Z:function(){return o},a:function(){return l}});var t=n(67294);let a={},r=t.createContext(a);function l(e){let i=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);