<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-theoplayer docs-version-current docs-doc-page docs-doc-id-how-to-guides/ads/google-ima" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.1"><title data-rh=true>Google IMA | Dolby OptiView Documentation</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=robots content="noindex, nofollow"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://optiview.dolby.com/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/google-ima/ /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-theoplayer-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-theoplayer-current /><meta data-rh=true property=og:title content="Google IMA | Dolby OptiView Documentation"/><meta data-rh=true name=description content="THEOplayer offer supports for Google IMA as an ad integration system."/><meta data-rh=true property=og:description content="THEOplayer offer supports for Google IMA as an ad integration system."/><link data-rh=true rel=icon href=/documentation/pr-preview/pr-434/img/favicon.ico /><link data-rh=true rel=canonical href=https://optiview.dolby.com/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/google-ima/ /><link data-rh=true rel=alternate href=https://optiview.dolby.com/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/google-ima/ hreflang=en /><link data-rh=true rel=alternate href=https://optiview.dolby.com/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/google-ima/ hreflang=x-default /><link data-rh=true rel=preconnect href=https://7HRS9V6FEL-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://optiview.dolby.com/documentation/pr-preview/pr-434/theoplayer/","name":"Player","position":1},{"@type":"ListItem","item":"https://optiview.dolby.com/documentation/pr-preview/pr-434/theoplayer/how-to-guides/","name":"How-to guides","position":2},{"@type":"ListItem","item":"https://optiview.dolby.com/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/google-ima","name":"Google IMA","position":3}]}</script><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-VCRXHMHS4M"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-VCRXHMHS4M",{})</script><link rel=preconnect href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var d=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src="https://www.googletagmanager.com/gtm.js?id="+r+("dataLayer"!=n?"&l="+n:""),d.parentNode.insertBefore(g,d)}(window,document,"script","dataLayer","GTM-TVR6CV9")</script><link rel=search type=application/opensearchdescription+xml title="Dolby OptiView Documentation" href=/documentation/pr-preview/pr-434/opensearch.xml><link rel=stylesheet href=/documentation/pr-preview/pr-434/assets/css/styles.712efe9e.css /><script src=/documentation/pr-preview/pr-434/assets/js/runtime~main.1dc824f4.js defer></script><script src=/documentation/pr-preview/pr-434/assets/js/main.b4008163.js defer></script></head><body class=navigation-with-keyboard><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TVR6CV9" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript>


<svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/documentation/pr-preview/pr-434/img/dolby-optiview-white.svg /><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style=background-color:#9cb9c9;color:#344a5e role=banner><div class="content_knG7 announcementBarContent_xLdY">This is a preview of the documentation website from <a target=_blank rel="noopener noreferrer" href=https://github.com/THEOplayer/documentation/pull/434>pull request #434</a>.</div></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/documentation/pr-preview/pr-434/><div class=navbar__logo><img src=/documentation/pr-preview/pr-434/img/dolby-optiview-white.svg alt="Dolby OptiView" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/documentation/pr-preview/pr-434/img/dolby-optiview-white.svg alt="Dolby OptiView" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup=true aria-expanded=false role=button class="navbar__link dropdown--active" href=/documentation/pr-preview/pr-434/theoplayer/>Player</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/documentation/pr-preview/pr-434/theoplayer/web/>THEOplayer</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-434/open-video-ui/web/>Open Video UI</a></ul></div><a class="navbar__item navbar__link" href=/documentation/pr-preview/pr-434/ads/>Ads</a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Streaming</a><ul class=dropdown__menu><li><a class=dropdown__link href=/documentation/pr-preview/pr-434/theolive/>Live (THEOlive)</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-434/millicast/>Real-time (Millicast)</a></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/google-ima/>10.1.1</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/google-ima/>10.1.1</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-434/theoplayer/v9/how-to-guides/ads/google-ima/>9.12.0</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-434/theoplayer/v8/how-to-guides/ads/google-ima/>8.14.0</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-434/theoplayer/v4/how-to-guides/ads/google-ima/>4.12.7</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><template data-react-aria-hidden=true></template><div class=select_KFGv data-rac=""><span class=react-aria-Label id=react-aria-«R15imlbahH3»></span><button id=react-aria-«R15imlbahH2» class=button_TUsg data-rac="" type=button tabindex=0 data-react-aria-pressable=true aria-labelledby="react-aria-«R15imlbahH7» react-aria-«R15imlbahH3»" aria-describedby="react-aria-«R15imlbahH5» react-aria-«R15imlbahH6»" aria-haspopup=listbox aria-expanded=false><span id=react-aria-«R15imlbahH7» class=selectValue_MQvg data-rac=""><span class=platformValue_t173><svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24" class="icon_qj0s platformIcon_dK7z"><path fill=none d="M0 0h24v24H0z"/><path fill=#83CBFF d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95a15.7 15.7 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A8 8 0 0 1 5.08 16m2.95-8H5.08a8 8 0 0 1 4.33-3.56A15.7 15.7 0 0 0 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"/></svg><span class=platformLabel_ZFgJ>Web SDK</span></span></span></button><div style="border:0;clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:fixed;width:1px;white-space:nowrap;top:0;left:0" aria-hidden=true data-react-aria-prevent-focus=true data-a11y-ignore=aria-hidden-focus data-testid=hidden-select-container><label><select tabindex=-1><option><option value=web selected>THEOplayer Web SDK<option value=android>THEOplayer Android SDK<option value=ios>THEOplayer iOS & tvOS SDK<option value=react-native>THEOplayer React Native SDK<option value=flutter>THEOplayer Flutter SDK<option value=chromecast>THEOplayer Chromecast SDK<option value=roku>THEOplayer Roku SDK</select></label></div></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-434/theoplayer/web/><span title=Introduction class=linkLabel_WmDU>Introduction</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/documentation/pr-preview/pr-434/theoplayer/getting-started/sdks/web/getting-started/><span title="Getting started" class=categoryLinkLabel_W154>Getting started</span></a><button aria-label="Expand sidebar category 'Getting started'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/><span title="How-to guides" class=categoryLinkLabel_W154>How-to guides</span></a><button aria-label="Collapse sidebar category 'How-to guides'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/introduction/><span title=Ads class=categoryLinkLabel_W154>Ads</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/introduction/><span title=Introduction class=linkLabel_WmDU>Introduction</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/block-detection/><span title="Adblock detection" class=linkLabel_WmDU>Adblock detection</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/customizing-the-ad-overlay-text/><span title="Customizing the ad overlay text" class=linkLabel_WmDU>Customizing the ad overlay text</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/how-to-set-up-vast-and-vmap/><span title="How to set up VAST and VMAP ads?" class=linkLabel_WmDU>How to set up VAST and VMAP ads?</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/yospace/><span title=Yospace class=linkLabel_WmDU>Yospace</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/how-to-display-visual-cues/><span title="How to display visual cues on the timeline to mark mid-rolls?" class=linkLabel_WmDU>How to display visual cues on the timeline to mark mid-rolls?</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/freewheel/><span title=FreeWheel class=linkLabel_WmDU>FreeWheel</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/spotx/><span title=SpotX class=linkLabel_WmDU>SpotX</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/google-dai/><span title="Google Dynamic Ad Insertion (DAI)" class=linkLabel_WmDU>Google Dynamic Ad Insertion (DAI)</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/prebidjs/><span title=Prebid.js class=linkLabel_WmDU>Prebid.js</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/google-ima/><span title="Google IMA" class=linkLabel_WmDU>Google IMA</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/how-to-subscribe-to-ad-events/><span title="How to subscribe to ad events" class=linkLabel_WmDU>How to subscribe to ad events</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/mediatailor/><span title=MediaTailor class=linkLabel_WmDU>MediaTailor</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/custom-ssai-integration/><span title="Custom Server Side Ad Insertion" class=linkLabel_WmDU>Custom Server Side Ad Insertion</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/analytics/introduction/><span title=Analytics class=categoryLinkLabel_W154>Analytics</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/cast/chromecast/introduction/><span title=Cast class=categoryLinkLabel_W154>Cast</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/drm/introduction/><span title=DRM class=categoryLinkLabel_W154>DRM</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/integrations/introduction/><span title=Integrations class=categoryLinkLabel_W154>Integrations</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/mediatrack/introduction/><span title="Media tracks" class=categoryLinkLabel_W154>Media tracks</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/miscellaneous/introduction/><span title=Miscellaneous class=categoryLinkLabel_W154>Miscellaneous</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/network/introduction/><span title=Network class=categoryLinkLabel_W154>Network</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/player/introduction/><span title=Player class=categoryLinkLabel_W154>Player</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/texttrack/introduction/><span title="Text tracks" class=categoryLinkLabel_W154>Text tracks</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ui/introduction/><span title=UI class=categoryLinkLabel_W154>UI</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/license/introduction/><span title=License class=categoryLinkLabel_W154>License</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theolive/playback/web/getting-started/><span title=THEOlive class=categoryLinkLabel_W154>THEOlive</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/web/uplynk/introduction/><span title=Uplynk class=categoryLinkLabel_W154>Uplynk</span></a></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/documentation/pr-preview/pr-434/theoplayer/examples/><span title=Examples class=categoryLinkLabel_W154>Examples</span></a><button aria-label="Expand sidebar category 'Examples'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/documentation/pr-preview/pr-434/theoplayer/connectors/web/><span title=Connectors class=categoryLinkLabel_W154>Connectors</span></a><button aria-label="Expand sidebar category 'Connectors'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-434/theoplayer/changelog/><span title=Changelog class=linkLabel_WmDU>Changelog</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href=/documentation/pr-preview/pr-434/theoplayer/v10/api-reference/web/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK"><span title="API references" class=linkLabel_WmDU>API references</span><svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/documentation/pr-preview/pr-434/theoplayer/knowledge-base/><span title="Knowledge base" class=categoryLinkLabel_W154>Knowledge base</span></a><button aria-label="Expand sidebar category 'Knowledge base'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-434/theoplayer/faq/><span title=FAQ class=linkLabel_WmDU>FAQ</span></a></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/documentation/pr-preview/pr-434/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_xK9p><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/documentation/pr-preview/pr-434/theoplayer/><span>Player</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/><span>How-to guides</span></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Ads</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Google IMA</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 10.1.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Google IMA</h1></header>
<p>THEOplayer offer supports for Google IMA as an ad integration system.
Users of Google Ad Manager (formerly known as DoubleClick for Publishers) should use this ad integration.</p>
<p>Scheduling and tracking ads through the Google IMA ad integration is similar to the default ad integration, so you're advised to read through <a href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/how-to-set-up-vast-and-vmap/>"How to set-up VAST and VMAP</a>.</p>
<p>The main difference with the default THEO ad integration is that you need to indicate through the API that you want to use Google IMA as the ad integration, and that you need to include the Google IMA SDK.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=sdks>SDKs<a href=#sdks class=hash-link aria-label="Direct link to SDKs" title="Direct link to SDKs" translate=no>​</a></h2>
<table><thead><tr><th style=text-align:center>Web SDK<th style=text-align:center>Android SDK<th style=text-align:center>iOS SDK<th style=text-align:center>tvOS SDK<th style=text-align:center>Android TV SDK<th style=text-align:center>Chromecast SDK<tbody><tr><td style=text-align:center>Yes<td style=text-align:center>Yes<td style=text-align:center>Yes<td style=text-align:center>Yes<td style=text-align:center>Yes<td style=text-align:center>No</table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=web-sdk>Web SDK<a href=#web-sdk class=hash-link aria-label="Direct link to Web SDK" title="Direct link to Web SDK" translate=no>​</a></h2>
<p>To use Google IMA in the Web SDK,</p>
<ol>
<li>You need to include the Google IMA SDK,</li>
<li>You need to specify <code>integration: "google-ima"</code> in your <code>AdDescription</code>.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=include-the-ima-sdk>Include the IMA SDK<a href=#include-the-ima-sdk class=hash-link aria-label="Direct link to Include the IMA SDK" title="Direct link to Include the IMA SDK" translate=no>​</a></h3>
<p>Google IMA has a dependency on the IMA SDK. Hence, this library needs to be included. The following snippet demonstrates how the IMA SDK can be included:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">text/javascript</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://imasdk.googleapis.com/js/sdkloader/ima3.js</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">></span><span class="token script"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">></span><br/></span></code></pre></div></div>
<p>Alternatively, you can include the debug version of the IMA SDK for troubleshooting, which will provide extra logs from IMA on console:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">text/javascript</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://imasdk.googleapis.com/js/sdkloader/ima3_debug.js</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">></span><span class="token script"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">></span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=specify-the-integration>Specify the integration<a href=#specify-the-integration class=hash-link aria-label="Direct link to Specify the integration" title="Direct link to Specify the integration" translate=no>​</a></h3>
<p>You need to set integration to <code>"google-ima"</code>, as demonstrated by the snippet below which configures a pre-roll VAST ad.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">source</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">sources</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">src</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'https://cdn.theoplayer.com/video/big_buck_bunny/big_buck_bunny_metadata.m3u8'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">ads</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">integration</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'google-ima'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">sources</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'https://cdn.theoplayer.com/demos/ads/vast/vast.xml'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">timeOffset</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'start'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=limitations>Limitations<a href=#limitations class=hash-link aria-label="Direct link to Limitations" title="Direct link to Limitations" translate=no>​</a></h3>
<ul>
<li>There's a known issue within the IMA HTML5 SDK where it does not work well with multiple VPAID ads in a VMAP. More specifically when the <code>ImaSdkSetting</code> <code>vpaidMode</code> is set to <code>enabled</code> and the <code>AdsRenderingSetting</code> <code>enablePreloading</code> is set to <code>true</code>, it will not manage to play all ads (these are the default configurations when using the Google IMA integration in THEOplayer). The production IMA SDK doesn't throw any error in this scenario, the <a href=https://imasdk.googleapis.com/js/sdkloader/ima3_debug.js target=_blank rel="noopener noreferrer">debug SDK</a>, however, prints <code>Vpaid Error: VPAID ad called play on video element before start was called on VPAID manager</code> in the console in this case. This can be resolved by either using <code>vpaidMode</code> <code>insecure</code> or by disabling preloading. Both can be achieved by specifying your preference in the <a href=/documentation/pr-preview/pr-434/theoplayer/v10/api-reference/web/interfaces/AdsConfiguration.html target=_blank rel="noopener noreferrer">AdsConfiguration</a>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=android-sdk>Android SDK<a href=#android-sdk class=hash-link aria-label="Direct link to Android SDK" title="Direct link to Android SDK" translate=no>​</a></h2>
<p>Using Google IMA in the Android SDK consists of 3 steps:</p>
<ol>
<li>Add the <code>integration-ads-ima</code> dependency to your module's <code>build.gradle</code>.</li>
<li>Use the <code>GoogleImaIntegrationFactory</code> to create and add a <code>GoogleImaIntegration</code>.</li>
<li>Use a <code>GoogleImaAdDescription</code> to schedule ads.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=add-the-integration-ads-ima-dependency>Add the <code>integration-ads-ima</code> dependency<a href=#add-the-integration-ads-ima-dependency class=hash-link aria-label="Direct link to add-the-integration-ads-ima-dependency" title="Direct link to add-the-integration-ads-ima-dependency" translate=no>​</a></h3>
<p>Add <code>implementation 'com.theoplayer.theoplayer-sdk-android:integration-ads-ima:+'</code> to your module <code>build.gradle</code> file, as demonstrated below:</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">dependencies </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ...</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    implementation </span><span class="token string" style="color:hsl(119, 34%, 47%)">'com.theoplayer.theoplayer-sdk-android:core:+'</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    implementation </span><span class="token string" style="color:hsl(119, 34%, 47%)">'com.theoplayer.theoplayer-sdk-android:integration-ads-ima:+'</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ...</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=use-the-googleimaintegrationfactory>Use the <code>GoogleImaIntegrationFactory</code><a href=#use-the-googleimaintegrationfactory class=hash-link aria-label="Direct link to use-the-googleimaintegrationfactory" title="Direct link to use-the-googleimaintegrationfactory" translate=no>​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_BuS1><p>If you're using <a href=/documentation/pr-preview/pr-434/theoplayer/getting-started/sdks/android/features/#adding-integrations-automatically>automatic integrations</a>, you can skip this step.</div></div>
<p>Create a <code>GoogleImaIntegration</code> through the <code>GoogleImaIntegrationFactory</code>, and add it to your player instance, as demonstrated below:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">theoplayer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">android</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">api</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">ads</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">ima</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">GoogleImaIntegrationFactory</span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> theoplayerView </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">THEOplayerView</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> imaIntegration </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> GoogleImaIntegrationFactory</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">createGoogleImaIntegration</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">theoplayerView</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">theoplayerView</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">addIntegration</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">imaIntegration</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=use-a-googleimaaddescription>Use a <code>GoogleImaAdDescription</code><a href=#use-a-googleimaaddescription class=hash-link aria-label="Direct link to use-a-googleimaaddescription" title="Direct link to use-a-googleimaaddescription" translate=no>​</a></h3>
<p>Use a <a href=/documentation/pr-preview/pr-434/theoplayer/v10/api-reference/android/com/theoplayer/android/api/source/addescription/GoogleImaAdDescription.html target=_blank rel="noopener noreferrer"><code>GoogleImaAdDescription</code></a> to schedule advertisements,
as demonstrated below:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> typedSource </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> TypedSource</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Builder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string-literal singleline string" style="color:hsl(119, 34%, 47%)">"https://cdn.theoplayer.com/video/elephants-dream/playlist.m3u8"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">build</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> imaAdDescription </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> GoogleImaAdDescription</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Builder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string-literal singleline string" style="color:hsl(119, 34%, 47%)">"https://cdn.theoplayer.com/demos/ads/vast/vast.xml"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">timeOffset</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string-literal singleline string" style="color:hsl(119, 34%, 47%)">"start"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">build</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> sourceDescription </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> SourceDescription</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Builder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">typedSource</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">ads</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">imaAdDescription</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">build</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">theoplayerView</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">source </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> sourceDescription</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=next-steps>Next steps<a href=#next-steps class=hash-link aria-label="Direct link to Next steps" title="Direct link to Next steps" translate=no>​</a></h3>
<p>The Google IMA integration exposes events through the Ads API. More information is available at <a href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/how-to-subscribe-to-ad-events/#android-sdk>"How to subscribe to ad events"</a>.</p>
<p>The integration exposes a number of additional methods.
These are available directly on the <a href=/documentation/pr-preview/pr-434/theoplayer/v10/api-reference/android/com/theoplayer/android/api/ads/ima/GoogleImaIntegration.html target=_blank rel="noopener noreferrer"><code>GoogleImaIntegration</code></a> object, or indirectly through <code>player.ads.ima</code> (only for Kotlin).
For example, <a href=/documentation/pr-preview/pr-434/theoplayer/v10/api-reference/android/com/theoplayer/android/api/ads/ima/GoogleImaIntegration.html#schedule(GoogleImaAdDescription) target=_blank rel="noopener noreferrer"><code>schedule()</code></a> can be used to schedule ads dynamically,
and <a href=/documentation/pr-preview/pr-434/theoplayer/v10/api-reference/android/com/theoplayer/android/api/ads/ima/GoogleImaIntegration.html#requestAds(AdsRequest,AdsRenderingSettings) target=_blank rel="noopener noreferrer"><code>requestAds()</code></a> can be used to request ads through the native Google IMA API.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=updating-the-google-ima-sdk>Updating the Google IMA SDK<a href=#updating-the-google-ima-sdk class=hash-link aria-label="Direct link to Updating the Google IMA SDK" title="Direct link to Updating the Google IMA SDK" translate=no>​</a></h3>
<p>The IMA integration depends on Google's <a href=https://developers.google.com/interactive-media-ads/docs/sdks/android/client-side/ target=_blank rel="noopener noreferrer">IMA SDK for Android</a> from <a href=https://mvnrepository.com/artifact/com.google.ads.interactivemedia.v3/interactivemedia target=_blank rel="noopener noreferrer">Maven</a>.
By adding the THEOplayer IMA integration to your Gradle dependencies, the Google IMA SDK is also automatically added to your app.</p>
<p>Our integration is tested with a specific version of the Google IMA SDK, and by default Gradle will automatically add the same version to your app.
However, you can overwrite this <a href=https://developers.google.com/interactive-media-ads/docs/sdks/android/client-side/history target=_blank rel="noopener noreferrer">with a later version</a> (at your own risk)
by manually adding a dependency on <code>com.google.ads.interactivemedia.v3:interactivemedia</code> to your <code>build.gradle</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=ios-sdk>iOS SDK<a href=#ios-sdk class=hash-link aria-label="Direct link to iOS SDK" title="Direct link to iOS SDK" translate=no>​</a></h2>
<p>To use Google IMA with the THEOplayer iOS SDK, the <strong>THEOplayer GoogleIMA Integration</strong> should be integrated. The integration is a lightweight module written in Swift, for serving advertisements from the Google IMA SDK.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>The THEOplayer GoogleIMA integration supports both iOS and tvOS platforms.</div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=installation>Installation<a href=#installation class=hash-link aria-label="Direct link to Installation" title="Direct link to Installation" translate=no>​</a></h3>
<p>The THEOplayer GoogleIMA integration is published on the following package managers:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=cocoapods>Cocoapods<a href=#cocoapods class=hash-link aria-label="Direct link to Cocoapods" title="Direct link to Cocoapods" translate=no>​</a></h4>
<p>Simply add the following to your project's Podfile:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">pod </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">'THEOplayer-Integration-GoogleIMA'</span><br/></span></code></pre></div></div>
<p>The above entry automatically manages the fetching of the IMA SDK dependency.</p>
<p>In case where the integrator would want to manage fetching a specific version of the IMA SDK, then replace the Podfile entry with:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">pod </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">'THEOplayer-Integration-GoogleIMA/Base'</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">pod </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">'GoogleAds-IMA-iOS-SDK'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">'3.24.0'</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># specify the desired version</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># or</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">pod </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">'GoogleAds-IMA-tvOS-SDK'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">'4.14.1'</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># specify the desired version</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=swift-package-manager>Swift Package Manager<a href=#swift-package-manager class=hash-link aria-label="Direct link to Swift Package Manager" title="Direct link to Swift Package Manager" translate=no>​</a></h4>
<p>Please check the <a href=https://github.com/THEOplayer/theoplayer-sdk-apple/README.md#installation target=_blank rel="noopener noreferrer">installation instruction found here</a></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>This will not get the IMA SDK, but only the THEOplayer IMA integration. The IMA SDKs can be found at <a href=https://github.com/googleads/swift-package-manager-google-interactive-media-ads-ios target=_blank rel="noopener noreferrer">https://github.com/googleads/swift-package-manager-google-interactive-media-ads-ios</a> and <a href=https://github.com/googleads/swift-package-manager-google-interactive-media-ads-tvos target=_blank rel="noopener noreferrer">https://github.com/googleads/swift-package-manager-google-interactive-media-ads-tvos</a>. You should add these to your Xcode project's <code>Package Dependencies</code> for SPM to fetch.</div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=import>Import<a href=#import class=hash-link aria-label="Direct link to Import" title="Direct link to Import" translate=no>​</a></h3>
<p>Import the framework in the source files where it will be used:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">THEOplayerGoogleIMAIntegration</span><br/></span></code></pre></div></div>
<p>You will also need the THEOplayer core SDK since the THEOplayer GoogleIMA integration extends its functionality.
<br/>To import the THEOplayer core SDK framework add:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">THEOplayerSDK</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=usage>Usage<a href=#usage class=hash-link aria-label="Direct link to Usage" title="Direct link to Usage" translate=no>​</a></h3>
<p>Initialize the integration and pass it to the <code>THEOplayer</code> instance:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> configBuilder </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">THEOplayerConfigurationBuilder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">configBuilder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">license </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">"your_theoplayer_license"</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> theoplayer </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">THEOplayer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">configuration</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> configBuilder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">build</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> imaIntegration </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GoogleIMAIntegrationFactory</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">createIntegration</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">on</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> theoplayer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">theoplayer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">addIntegration</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">imaIntegration</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br/></span></code></pre></div></div>
<p>Optionally, the <code>createIntegration</code> accepts a configuration argument of type IMASetting:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GoogleInteractiveMediaAds</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// required to access definitions such as `IMASettings`</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token operator" style="color:hsl(221, 87%, 60%)">..</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token operator" style="color:hsl(221, 87%, 60%)">..</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token operator" style="color:hsl(221, 87%, 60%)">..</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> settings </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">IMASettings</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">settings</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">language </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">"en"</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> imaIntegration </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GoogleIMAIntegrationFactory</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">createIntegration</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">on</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> theoplayer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> with</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> settings</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br/></span></code></pre></div></div>
<p>Define a <code>GoogleImaAdDescription</code> in your source object to specify the advertisement:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> adSrc </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">"https://cdn.theoplayer.com/demos/ads/vast/dfp-preroll-skip-5s.xml"</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> adDescription </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GoogleImaAdDescription</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">src</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> adSrc</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// or</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> adDescriptionWithOffset </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GoogleImaAdDescription</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">src</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> adSrc</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> timeOffset</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">"10"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br/></span></code></pre></div></div>
<p>The time offset helps VAST ads to play at a specific timestamp. VMAP ads can define that behavior inside their manifest file, thus they should not have a timeOffset parameter.</p>
<p>Finally, we pass the ad description to the player either by setting it in the source:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> source </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">"https://cdn.theoplayer.com/video/big_buck_bunny/big_buck_bunny.m3u8"</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> mimeType </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">"application/x-mpegurl"</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> typedSource </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">TypedSource</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">src</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> source</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> type</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> mimeType</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> sourceDescription </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">SourceDescription</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">source</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> typedSource</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> ads</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">adDescription</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">theoplayer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">source </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> sourceDescription</span><br/></span></code></pre></div></div>
<p>Or by calling the ad schedule API:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">theoplayer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">ads</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">schedule</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">adDescription</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> adDescription</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br/></span></code></pre></div></div>
<blockquote>
<p><strong>A VAST ad without a timeOffset argument in the description will be scheduled to play at the player's currentTime. If the source is not loaded yet, it will be scheduled as a preroll.</strong></p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=limitations-1>Limitations<a href=#limitations-1 class=hash-link aria-label="Direct link to Limitations" title="Direct link to Limitations" translate=no>​</a></h3>
<ol>
<li>Prerolls must be loaded after the player view is fully rendered and ready. This means attempting to load the ad in the <code>viewDidLoad</code> lifecycle will result in a failed request.</li>
<li>There is a known bug by Apple that throws runtime warnings concerning the main thread. If you run into this warning while using the IMA SDK, please check <a href="https://developer.apple.com/forums/thread/714467?answerId=734799022#734799022" target=_blank rel="noopener noreferrer">this thread for more information.</a></li>
<li>When using <code>SwiftUI</code>, make sure to wrap the <code>THEOplayer</code> in a <code>UIViewControllerRepresentable</code> rather than a <code>UIViewRepresentable</code>, as the Google IMA SDK requires a <code>UIViewController</code> as a precondition before making ad requests. Otherwise, the ads will not play.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=remarks>Remarks<a href=#remarks class=hash-link aria-label="Direct link to Remarks" title="Direct link to Remarks" translate=no>​</a></h2>
<ul>
<li>The release notes for IMA SDK can be found on their respective pages: <a href=https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/history target=_blank rel="noopener noreferrer">IMA HTML5 SDK release history</a>, <a href=https://developers.google.com/interactive-media-ads/docs/sdks/ios/client-side/history target=_blank rel="noopener noreferrer">IMA iOS SDK release history</a> and <a href=https://developers.google.com/interactive-media-ads/docs/sdks/android/client-side/history target=_blank rel="noopener noreferrer">IMA Android SDK release history</a>.</li>
<li>THEOplayer internally supports IMA SDK up until a certain version across different SDKs. We regularly update the internal code to stay up to date with the latest version of IMA SDK. Later versions of IMA SDK should work as expected, however there could be cases where a fix for a breaking change or a newly introduced API is required. Please reach out to us if you require support for a more recent IMA SDK since we intend to rectify this limitation.</li>
<li>The limitations documented on the support and compatibility pages of IMA SDK also apply to THEOplayer SDK when IMA integration is used. You can find the support matrix of IMA SDK on platform specific pages: <a href=https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/compatibility target=_blank rel="noopener noreferrer">HTML5</a>, <a href=https://developers.google.com/interactive-media-ads/docs/sdks/android/client-side/compatibility target=_blank rel="noopener noreferrer">Android</a> and <a href=https://developers.google.com/interactive-media-ads/docs/sdks/ios/client-side/compatibility target=_blank rel="noopener noreferrer">iOS</a>.</li>
<li>You can try out the snippets mentioned here on our samples apps for <a href=https://github.com/THEOplayer/samples-html5-sdk target=_blank rel="noopener noreferrer">Web SDK</a>, <a href=https://github.com/THEOplayer/samples-ios-sdk target=_blank rel="noopener noreferrer">iOS SDK</a> and <a href=https://github.com/THEOplayer/samples-android-sdk/ target=_blank rel="noopener noreferrer">Android SDK</a>.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/THEOplayer/documentation/blob/-/theoplayer/how-to-guides/01-ads/10-google-ima.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/prebidjs/><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Prebid.js</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/documentation/pr-preview/pr-434/theoplayer/how-to-guides/ads/how-to-subscribe-to-ad-events/><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>How to subscribe to ad events</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#sdks class="table-of-contents__link toc-highlight">SDKs</a><li><a href=#web-sdk class="table-of-contents__link toc-highlight">Web SDK</a><ul><li><a href=#include-the-ima-sdk class="table-of-contents__link toc-highlight">Include the IMA SDK</a><li><a href=#specify-the-integration class="table-of-contents__link toc-highlight">Specify the integration</a><li><a href=#limitations class="table-of-contents__link toc-highlight">Limitations</a></ul><li><a href=#android-sdk class="table-of-contents__link toc-highlight">Android SDK</a><ul><li><a href=#add-the-integration-ads-ima-dependency class="table-of-contents__link toc-highlight">Add the <code>integration-ads-ima</code> dependency</a><li><a href=#use-the-googleimaintegrationfactory class="table-of-contents__link toc-highlight">Use the <code>GoogleImaIntegrationFactory</code></a><li><a href=#use-a-googleimaaddescription class="table-of-contents__link toc-highlight">Use a <code>GoogleImaAdDescription</code></a><li><a href=#next-steps class="table-of-contents__link toc-highlight">Next steps</a><li><a href=#updating-the-google-ima-sdk class="table-of-contents__link toc-highlight">Updating the Google IMA SDK</a></ul><li><a href=#ios-sdk class="table-of-contents__link toc-highlight">iOS SDK</a><ul><li><a href=#installation class="table-of-contents__link toc-highlight">Installation</a><ul><li><a href=#cocoapods class="table-of-contents__link toc-highlight">Cocoapods</a><li><a href=#swift-package-manager class="table-of-contents__link toc-highlight">Swift Package Manager</a></ul><li><a href=#import class="table-of-contents__link toc-highlight">Import</a><li><a href=#usage class="table-of-contents__link toc-highlight">Usage</a><li><a href=#limitations-1 class="table-of-contents__link toc-highlight">Limitations</a></ul><li><a href=#remarks class="table-of-contents__link toc-highlight">Remarks</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 <a href=https://www.dolby.com/>Dolby Laboratories, Inc. All rights reserved.</a></div></div></div></footer></div></body>