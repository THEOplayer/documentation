<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-theoplayer docs-version-v9 docs-doc-page docs-doc-id-how-to-guides/analytics/custom-analytics-integration" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Custom Analytics Integration | Dolby OptiView Documentation</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://optiview.dolby.com/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/custom-analytics-integration/ /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=v9 /><meta data-rh=true name=docusaurus_tag content=docs-theoplayer-v9 /><meta data-rh=true name=docsearch:version content=v9 /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-theoplayer-v9 /><meta data-rh=true name=robots content="noindex, nofollow"/><meta data-rh=true property=og:title content="Custom Analytics Integration | Dolby OptiView Documentation"/><meta data-rh=true name=description content="As mentioned in our Introduction, video analytics provide tremendous insights into your user's QoE, bring extra business intelligence and enhance decision-making."/><meta data-rh=true property=og:description content="As mentioned in our Introduction, video analytics provide tremendous insights into your user's QoE, bring extra business intelligence and enhance decision-making."/><link data-rh=true rel=icon href=/documentation/pr-preview/pr-486/img/favicon.ico /><link data-rh=true rel=canonical href=https://optiview.dolby.com/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/custom-analytics-integration/ /><link data-rh=true rel=alternate href=https://optiview.dolby.com/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/custom-analytics-integration/ hreflang=en /><link data-rh=true rel=alternate href=https://optiview.dolby.com/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/custom-analytics-integration/ hreflang=x-default /><link data-rh=true rel=preconnect href=https://7HRS9V6FEL-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://optiview.dolby.com/documentation/pr-preview/pr-486/theoplayer/v9/","name":"Player","position":1},{"@type":"ListItem","item":"https://optiview.dolby.com/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/","name":"How-to guides","position":2},{"@type":"ListItem","item":"https://optiview.dolby.com/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/custom-analytics-integration","name":"Custom Analytics Integration","position":3}]}</script><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-VCRXHMHS4M"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-VCRXHMHS4M",{})</script><link rel=preconnect href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var d=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src="https://www.googletagmanager.com/gtm.js?id="+r+("dataLayer"!=n?"&l="+n:""),d.parentNode.insertBefore(g,d)}(window,document,"script","dataLayer","GTM-TVR6CV9")</script><link rel=search type=application/opensearchdescription+xml title="Dolby OptiView Documentation" href=/documentation/pr-preview/pr-486/opensearch.xml><link rel=stylesheet href=/documentation/pr-preview/pr-486/assets/css/styles.00804da3.css /><script src=/documentation/pr-preview/pr-486/assets/js/runtime~main.7263d3ff.js defer></script><script src=/documentation/pr-preview/pr-486/assets/js/main.9e791f2c.js defer></script></head><body class=navigation-with-keyboard><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TVR6CV9" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript>


<svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/documentation/pr-preview/pr-486/img/dolby-optiview-white.svg /><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style=background-color:#9cb9c9;color:#344a5e role=banner><div class="content_knG7 announcementBarContent_xLdY">This is a preview of the documentation website from <a target=_blank rel="noopener noreferrer" href=https://github.com/THEOplayer/documentation/pull/486>pull request #486</a>.</div></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/documentation/pr-preview/pr-486/><div class=navbar__logo><img src=/documentation/pr-preview/pr-486/img/dolby-optiview-white.svg alt="Dolby OptiView" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/documentation/pr-preview/pr-486/img/dolby-optiview-white.svg alt="Dolby OptiView" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup=true aria-expanded=false role=button class="navbar__link dropdown--active" href=/documentation/pr-preview/pr-486/theoplayer/>Player</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/documentation/pr-preview/pr-486/theoplayer/v9/web/>THEOplayer</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-486/open-video-ui/web/>Open Video UI</a></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Ads</a><ul class=dropdown__menu><li><a class=dropdown__link href=/documentation/pr-preview/pr-486/ads/>OptiView Ads</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-486/ad-engine/>OptiView Ad Engine</a></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Streaming</a><ul class=dropdown__menu><li><a class=dropdown__link href=/documentation/pr-preview/pr-486/theolive/>Live (THEOlive)</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-486/millicast/>Real-time (Millicast)</a></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/custom-analytics-integration/>9.12.0</a><ul class=dropdown__menu><li><a class=dropdown__link href=/documentation/pr-preview/pr-486/theoplayer/how-to-guides/analytics/custom-analytics-integration/>10.8.0</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/custom-analytics-integration/>9.12.0</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-486/theoplayer/v8/how-to-guides/analytics/custom-analytics-integration/>8.14.0</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-486/theoplayer/v4/how-to-guides/analytics/custom-analytics-integration/>4.12.7</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><template data-react-aria-hidden=true></template><div class=select_KFGv data-rac=""><span class=react-aria-Label id=react-aria-_R_15imlbahH3_></span><button id=react-aria-_R_15imlbahH2_ class=button_TUsg data-rac="" type=button tabindex=0 data-react-aria-pressable=true aria-labelledby="react-aria-_R_15imlbahH7_ react-aria-_R_15imlbahH3_" aria-describedby="react-aria-_R_15imlbahH5_ react-aria-_R_15imlbahH6_" aria-haspopup=listbox aria-expanded=false><span id=react-aria-_R_15imlbahH7_ class=selectValue_MQvg data-rac=""><span class=platformValue_t173><svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24" class="icon_qj0s platformIcon_dK7z"><path fill=none d="M0 0h24v24H0z"/><path fill=#83CBFF d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95a15.7 15.7 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A8 8 0 0 1 5.08 16m2.95-8H5.08a8 8 0 0 1 4.33-3.56A15.7 15.7 0 0 0 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"/></svg><span class=platformLabel_ZFgJ>Web SDK</span></span></span></button><div style="border:0;clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:fixed;width:1px;white-space:nowrap;top:0;left:0" aria-hidden=true data-react-aria-prevent-focus=true data-a11y-ignore=aria-hidden-focus data-testid=hidden-select-container><label><select tabindex=-1><option><option value=web selected>THEOplayer Web SDK<option value=android>THEOplayer Android SDK<option value=ios>THEOplayer iOS & tvOS SDK<option value=react-native>THEOplayer React Native SDK<option value=flutter>THEOplayer Flutter SDK<option value=chromecast>THEOplayer Chromecast SDK<option value=roku>THEOplayer Roku SDK</select></label></div></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-486/theoplayer/v9/web/><span title=Introduction class=linkLabel_WmDU>Introduction</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/documentation/pr-preview/pr-486/theoplayer/v9/getting-started/sdks/web/getting-started/><span title="Getting started" class=categoryLinkLabel_W154>Getting started</span></a><button aria-label="Expand sidebar category 'Getting started'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/><span title="How-to guides" class=categoryLinkLabel_W154>How-to guides</span></a><button aria-label="Collapse sidebar category 'How-to guides'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/ads/introduction/><span title=Ads class=categoryLinkLabel_W154>Ads</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/introduction/><span title=Analytics class=categoryLinkLabel_W154>Analytics</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/introduction/><span title=Introduction class=linkLabel_WmDU>Introduction</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/moat/><span title=Moat class=linkLabel_WmDU>Moat</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/mux/><span title=Mux class=linkLabel_WmDU>Mux</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/youbora/><span title="Youbora (NPAW Plugin)" class=linkLabel_WmDU>Youbora (NPAW Plugin)</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/agama/><span title=Agama class=linkLabel_WmDU>Agama</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/conviva/introduction/><span title=Conviva class=categoryLinkLabel_W154>Conviva</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/custom-analytics-integration/><span title="Custom Analytics Integration" class=linkLabel_WmDU>Custom Analytics Integration</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/adobe-analytics/><span title="Adobe Analytics" class=linkLabel_WmDU>Adobe Analytics</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/mediamelon-smartsight/><span title="MediaMelon SmartSight" class=linkLabel_WmDU>MediaMelon SmartSight</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/wicket-labs/><span title="Wicket Labs" class=linkLabel_WmDU>Wicket Labs</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/tealium/><span title=Tealium class=linkLabel_WmDU>Tealium</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/segment/><span title=Segment class=linkLabel_WmDU>Segment</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/cast/chromecast/introduction/><span title=Cast class=categoryLinkLabel_W154>Cast</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/drm/introduction/><span title=DRM class=categoryLinkLabel_W154>DRM</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/integrations/introduction/><span title=Integrations class=categoryLinkLabel_W154>Integrations</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/mediatrack/introduction/><span title="Media tracks" class=categoryLinkLabel_W154>Media tracks</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/miscellaneous/introduction/><span title=Miscellaneous class=categoryLinkLabel_W154>Miscellaneous</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/network/introduction/><span title=Network class=categoryLinkLabel_W154>Network</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/player/introduction/><span title=Player class=categoryLinkLabel_W154>Player</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/texttrack/introduction/><span title="Text tracks" class=categoryLinkLabel_W154>Text tracks</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/ui/introduction/><span title=UI class=categoryLinkLabel_W154>UI</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/license/introduction/><span title=License class=categoryLinkLabel_W154>License</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theolive/playback/web/getting-started/><span title=THEOlive class=categoryLinkLabel_W154>THEOlive</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/web/uplynk/introduction/><span title=Uplynk class=categoryLinkLabel_W154>Uplynk</span></a></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/documentation/pr-preview/pr-486/theoplayer/v9/examples/><span title=Examples class=categoryLinkLabel_W154>Examples</span></a><button aria-label="Expand sidebar category 'Examples'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/documentation/pr-preview/pr-486/theoplayer/v9/connectors/web/><span title=Connectors class=categoryLinkLabel_W154>Connectors</span></a><button aria-label="Expand sidebar category 'Connectors'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-486/theoplayer/v9/changelog/><span title=Changelog class=linkLabel_WmDU>Changelog</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK"><span title="API references" class=linkLabel_WmDU>API references</span><svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/documentation/pr-preview/pr-486/theoplayer/v9/knowledge-base/><span title="Knowledge base" class=categoryLinkLabel_W154>Knowledge base</span></a><button aria-label="Expand sidebar category 'Knowledge base'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-486/theoplayer/faq/><span title=FAQ class=linkLabel_WmDU>FAQ</span></a></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/documentation/pr-preview/pr-486/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_xK9p><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/documentation/pr-preview/pr-486/theoplayer/v9/><span>Player</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/><span>How-to guides</span></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Analytics</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Custom Analytics Integration</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 9.12.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Custom Analytics Integration</h1></header>
<p>As mentioned in our <a class="" href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/introduction/>Introduction</a>, video analytics provide tremendous insights into your user's QoE, bring extra business intelligence and enhance decision-making.
There are a wide selection of analytics systems in the current landscape (e.g. Google Analytics, Conviva, ...), often with their own focus, expertise and value.</p>
<p>What most video analytics systems have in common is that their insights (partly) originate from video events:</p>
<ul>
<li class=""><code>play</code> event: a user clicks the play button, or resumes playback after a pause</li>
<li class=""><code>fullscreen</code> event: a user goes fullscreen on their device</li>
<li class=""><code>quality</code> change event: the video quality switches from a lower resolution to a higher one</li>
<li class=""><code>waiting</code> event: the video is stalled and unable to continue playback for some time</li>
<li class="">...</li>
</ul>
<p>To access these video events, and forward them to a video analytics system, an application developer must hook into
the video player API.</p>
<p>This guide explains the role of the THEOplayer API.
Additionally, it explains how to do a custom integration with an analytics system, with Google Analytics as a sample case.
This guide should be useful when THEOplayer doesn't have an existing sample integration with a specific (commercial) video analytics service,
or when you want to fully control the data flow.</p>
<p>Keep in mind that GA is not the only analytics system out there. The APIs and concepts that we'll discuss are relevant for all analytics systems.
For example, you can easily swap out the Google Analytics example with something like <a href=http://www.nielsen.com/eu/en/solutions/capabilities/media-analytics.html target=_blank rel="noopener noreferrer" class="">Nielsen</a>
or <a href=https://nicepeopleatwork.com/youbora/ target=_blank rel="noopener noreferrer" class="">Youbora</a> (Nice People At Work), or even your own custom analytics back-end.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=prerequisites>Prerequisites<a href=#prerequisites class=hash-link aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate=no>​</a></h2>
<p>There are two prerequisites in order to continue with this guide:</p>
<ol>
<li class="">
<p>You have a THEOplayer license. You can grab a license at <a href=https://portal.theoplayer.com target=_blank rel="noopener noreferrer" class="">https://portal.theoplayer.com</a>.</p>
</li>
<li class="">
<p>You have some <a class="" href=/documentation/pr-preview/pr-486/theoplayer/v9/getting-started/sdks/web/getting-started/>basic knowledge</a> on how to use THEOplayer,
and can navigate comfortable through <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/ target=_blank rel="noopener noreferrer" class="">the API</a> to find <a href=http://demo.theoplayer.com/using-events-examples target=_blank rel="noopener noreferrer" class="">relevant events</a>.</p>
</li>
</ol>
<p>Refer to our <a class="" href=/documentation/pr-preview/pr-486/theoplayer/v9/getting-started/sdks/web/getting-started/>getting started guide</a> before advancing
to the code samples.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=api>API<a href=#api class=hash-link aria-label="Direct link to API" title="Direct link to API" translate=no>​</a></h2>
<p>You can access the video data through the THEOplayer API. Through the API, you can subscribe to events, and attach a callback.
For example, when the <code>ended</code> event is triggered (meaning: someone completely watched the video),
your callback could be that when this happens, you do a request to a remote video analytics service.</p>
<p>Events are organized across interfaces and subinterfaces, as illustrated by the image below. For example, the <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html target=_blank rel="noopener noreferrer" class=""><code>Player</code></a> contains
general video player events like <code>play</code>, <code>pause</code> and <code>ended</code>.
The <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/AdsEventMap.html target=_blank rel="noopener noreferrer" class=""><code>Ads</code></a> interface contains events related to advertisements,
like <code>adbreakbegin</code> and <code>adend</code>.</p>
<p><img decoding=async loading=lazy alt="THEOplayer API Interfaces and Events" src=/documentation/pr-preview/pr-486/assets/images/analytics-events-185d6ab52b556af08d8300b545ae5876.png title="THEOplayer API Interfaces and Events" width=768 height=713 class=img_ev3q /></p>
<p>When creating a custom analytics implementation, you must familiarize yourself with the relevant interfaces and events.
Luckily, all information is available at <a href=https://docs.theoplayer.com/ target=_blank rel="noopener noreferrer" class="">https://docs.theoplayer.com/</a>,
and the names of interfaces and events are very similar across all the THEOplayer SDKs.</p>
<p>Below is an (incomplete) list of some common interface event maps.</p>
<ul>
<li class="">Player is the interface the represents the video player instance.
You use this interface to detect general video events, like a play, a pause, and so on.<!-- -->
<ul>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html target=_blank rel="noopener noreferrer" class="">Web</a></li>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/ios/Structs/PlayerEventTypes.html target=_blank rel="noopener noreferrer" class="">iOS</a></li>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/android/com/theoplayer/android/api/event/player/PlayerEventTypes.html target=_blank rel="noopener noreferrer" class="">Android</a></li>
</ul>
</li>
<li class="">Ads is the interface that represents the advertisements.
You use this interface to detect when an ad starts and stops.<!-- -->
<ul>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/AdsEventMap.html target=_blank rel="noopener noreferrer" class="">Web</a></li>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/ios/Ads%20Events.html target=_blank rel="noopener noreferrer" class="">iOS</a></li>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/android/com/theoplayer/android/api/event/ads/AdsEventTypes.html target=_blank rel="noopener noreferrer" class="">Android</a></li>
</ul>
</li>
<li class="">AudioTrackList is the interface that represents the list of audio tracks.
You use this interface to detect when a new audio track is added, or when another audio track becomes active.<!-- -->
<ul>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/TrackListEventMap.html target=_blank rel="noopener noreferrer" class="">Web</a></li>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/ios/Structs/AudioTrackListEventTypes.html target=_blank rel="noopener noreferrer" class="">iOS</a></li>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/android/com/theoplayer/android/api/event/track/mediatrack/audio/list/AudioTrackListEventTypes.html target=_blank rel="noopener noreferrer" class="">Android</a></li>
</ul>
</li>
<li class="">VideoTrack is the interface that represents a single video track containing one or more video qualities.
You use this interface to detect when another video quality becomes active.<!-- -->
<ul>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/MediaTrackEventMap.html target=_blank rel="noopener noreferrer" class="">Web</a></li>
<li class="">iOS: unavailable due to Apple limitations</li>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/android/com/theoplayer/android/api/event/track/mediatrack/video/VideoTrackEventTypes.html target=_blank rel="noopener noreferrer" class="">Android</a></li>
</ul>
</li>
<li class="">TextTrackList is comparable AudioTrackList, but for subtitles, closed captions and metadata (e.g. id3, emsg, EventStream, EXT-X-DATERANGE).<!-- -->
<ul>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/TrackListEventMap.html target=_blank rel="noopener noreferrer" class="">Web</a></li>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/ios/Structs/TextTrackListEventTypes.html target=_blank rel="noopener noreferrer" class="">iOS</a></li>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/android/com/theoplayer/android/api/event/track/texttrack/list/TextTrackListEventTypes.html target=_blank rel="noopener noreferrer" class="">Android</a></li>
</ul>
</li>
<li class="">Cast is the interface that is used to detect events related to Chromecast and AirPlay.<!-- -->
<ul>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/VendorCastEventMap.html target=_blank rel="noopener noreferrer" class="">Web</a></li>
<li class="">iOS: <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/ios/Structs/AirPlayEventTypes.html target=_blank rel="noopener noreferrer" class="">AirPlay</a> & <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/ios/Structs/ChromecastEventTypes.html target=_blank rel="noopener noreferrer" class="">Chromecast</a></li>
<li class=""><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/android/com/theoplayer/android/api/event/chromecast/package-summary.html target=_blank rel="noopener noreferrer" class="">Android</a></li>
</ul>
</li>
<li class="">Network is the interface that is used to intercept HTTP(S) requests and responses.
You should only use this API on the THEOplayer Web SDK, and only when you can't use <a href=https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers target=_blank rel="noopener noreferrer" class="">Service Workers</a> to accomplish the same.<!-- -->
<ul>
<li class=""><a class="" href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/network/introduction/>Web</a></li>
</ul>
</li>
</ul>
<p>Note that maintaining the above list manually is unfortunately a no-go because our interfaces evolve.
This means that you should research your events through our automatically managed API references at <a href=https://docs.theoplayer.com/ target=_blank rel="noopener noreferrer" class="">https://docs.theoplayer.com/</a>.
For example, interfaces like VR, TextTrackCueList, VideoTrackList, Uplynk and Yospace are omitted because manually maintaining this would be too challenging.</p>
<p>When doing a custom analytics integration, you should also check our <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/Metrics.html target=_blank rel="noopener noreferrer" class="">Metrics</a> API,
and our articles on <a class="" href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/miscellaneous/error/introduction/>error handling</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=video-analytics-metrics-and-events>Video analytics metrics and events<a href=#video-analytics-metrics-and-events class=hash-link aria-label="Direct link to Video analytics metrics and events" title="Direct link to Video analytics metrics and events" translate=no>​</a></h3>
<p>Let's discuss some popular metrics, and how you could track it with a video player events.</p>
<p>Plays (or Impressions). This metric represents the amount of plays.
You can calculate this event by identifying the first <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#playing target=_blank rel="noopener noreferrer" class=""><code>playing</code></a> event after every <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#sourcechange target=_blank rel="noopener noreferrer" class=""><code>sourcechange</code></a> event.</p>
<p>Video Startup Time (or Time-to-First-Frame or Join Latency). This metric represents the time it takes your video to start.
You can calculate this event by calculating the difference between the timestamps of the first <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#playing target=_blank rel="noopener noreferrer" class=""><code>playing</code></a> and the first <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#play target=_blank rel="noopener noreferrer" class=""><code>play</code></a> event after every <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#sourcechange target=_blank rel="noopener noreferrer" class=""><code>sourcechange</code></a> event.</p>
<p>Seek Time (or Seek Latency). This metric represents the time it takes for your video to resume when you scrub to another position.
You can calculate this event by calculating the difference between the timestamps of the <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#seeking target=_blank rel="noopener noreferrer" class=""><code>seeking</code></a> and the <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#seeked target=_blank rel="noopener noreferrer" class=""><code>seeked</code></a> event.</p>
<p>Watch Time. This metric represents how much time is spent watching content by your viewers.
You calculate this value by tracking the <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#playing target=_blank rel="noopener noreferrer" class=""><code>playing</code></a> event,
and halting it when the <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#waiting target=_blank rel="noopener noreferrer" class=""><code>waiting</code></a>,
<a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#pause target=_blank rel="noopener noreferrer" class=""><code>pause</code></a>,
<a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#ended target=_blank rel="noopener noreferrer" class=""><code>ended</code></a> or
<a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#error target=_blank rel="noopener noreferrer" class=""><code>error</code></a> event occurs.</p>
<p>Rebuffer Ratio (or Stalls). This metric represents how often the viewer is watching the "spinner icon" versus the actual video.
This metric is closely related to the Watch Time.
You can calculate this event by tracking the <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#waiting target=_blank rel="noopener noreferrer" class=""><code>waiting</code></a> event, which is triggered when the video starts to stall,
and the <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#playing target=_blank rel="noopener noreferrer" class=""><code>playing</code></a> event.</p>
<p>Average Bitrate. This metric represents the average video quality that your viewers are watching.
You can calculate this metric by tracking the <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/MediaTrackEventMap.html#activequalitychanged target=_blank rel="noopener noreferrer" class=""><code>activequalitychanged</code></a> event.</p>
<p>Average % Complete (or Watched Ratio). This metric represents the relative completion rate of your videos.
This metric is related to the Watch Time, and related in a similar fashion.
You could also use the <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/classes/ChromelessPlayer.html#duration target=_blank rel="noopener noreferrer" class=""><code>duration</code></a> to determine the length of the asset.</p>
<p>Exit Before Video Start. This metric represents how often your viewers aren't able to start the video, even though they had the intent to watch it.
You can calculate this metric by tracking the first <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#play target=_blank rel="noopener noreferrer" class=""><code>play</code></a> event,
and it never getting to the <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#playing target=_blank rel="noopener noreferrer" class=""><code>playing</code></a> event.</p>
<p>Video Playback Failure. This metric represents how often your viewers have a problem with playback once a video starts.
You can calculate this metric by tracking the <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#error target=_blank rel="noopener noreferrer" class=""><code>error</code></a> event
after the first <a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/interfaces/PlayerEventMap.html#playing target=_blank rel="noopener noreferrer" class=""><code>playing</code></a> event.</p>
<p>Note that these proposed calculations are only loosely formulated to help you understand the relationship between video metrics and a video player API.</p>
<p>When talking about metrics, you often apply dimensions or filters to a metric.
For example, when talking about the "Plays" metric (see above), the base metric would apply to all logs throughout all time.
When analyzing your data, you might want to apply a filter (or dimension), such time (to consider all "Plays" for a specific period of time), asset (to research a specific asset), user (to check a specific user's activity), and so on.
It is up to you (or your commercial analytics service) to associate certain dimensions with a raw video player event.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=session-management>Session management<a href=#session-management class=hash-link aria-label="Direct link to Session management" title="Direct link to Session management" translate=no>​</a></h3>
<p>It's important to note that THEOplayer doesn't associate a user ID or session ID with an event.
(This is pretty normal, because THEOplayer is a client-side video player library.
It's not aware of your "back-end" "CMS", "users" or "sessions".)</p>
<p>When you are implementing an analytics service, you usually want to associate a session or user with an event
when forwarding the event to your remote analytics database. As an app developer, it is your responsibility
to do this association.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=integrating-google-analytics>Integrating Google Analytics<a href=#integrating-google-analytics class=hash-link aria-label="Direct link to Integrating Google Analytics" title="Direct link to Integrating Google Analytics" translate=no>​</a></h2>
<p>This subsection shows you how you could connect the THEOplayer Web SDK with Google Analytics.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=web-sdk>Web SDK<a href=#web-sdk class=hash-link aria-label="Direct link to Web SDK" title="Direct link to Web SDK" translate=no>​</a></h3>
<p>Google Analytics (GA) requires you to <a href=https://developers.google.com/analytics/devguides/collection/analyticsjs/ target=_blank rel="noopener noreferrer" class="">load in the GA library</a> and configure it through JavaScript.
This script also sets up a default tracker for your tracking ID UA-XXXXX-Y.</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">head</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">></span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  ... (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new</span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)</span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-XXXXX-Y', 'auto'); ga('send', 'pageview'); ...</span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">head</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">></span><br/></span></code></pre></div></div>
<p>Then, you must use the THEOplayer API to "add an event listener".
In an event listener, you specify which events you want to track,
and what the reaction should be when such an event should be detected.</p>
<p>For example, with Google Analytics, we could subscribe to a list of events,
and call the <code>ga('send')</code> function from the Google Analytics API to forward this event to your Google Analytics database.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">addEventListener</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">'durationchange'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'stalled'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'ended'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'seeking'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'seeked'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'waiting'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'playing'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'pause'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'volumechange'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token function" style="color:hsl(221, 87%, 60%)">ga</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">'send'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">hitType</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'event'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventCategory</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'video'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventAction</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> event</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventLabel</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">src</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventValue</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:hsl(35, 99%, 36%)">Math</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">floor</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">currentTime</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br/></span></code></pre></div></div>
<p>For more advanced integrations, Google Analytics also allows you to <a href=https://developers.google.com/analytics/devguides/collection/analyticsjs/creating-trackers target=_blank rel="noopener noreferrer" class="">create multiple named trackers</a>.</p>
<p>Of course, you control the code, so you could send custom "made up" events.
A useful example would a <code>firstplay</code> event, which would map to the "first play" event for a session.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">var</span><span class="token plain"> firstplay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">addEventListener</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">'play'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword control-flow" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">firstplay</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token function" style="color:hsl(221, 87%, 60%)">ga</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">'send'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">hitType</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'event'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventCategory</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'video'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventAction</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'firstplay'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventLabel</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">src</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventValue</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:hsl(35, 99%, 36%)">Math</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">floor</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">currentTime</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    firstplay </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token function" style="color:hsl(221, 87%, 60%)">ga</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">'send'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">hitType</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'event'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventCategory</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'video'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventAction</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> event</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventLabel</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">src</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventValue</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:hsl(35, 99%, 36%)">Math</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">floor</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">currentTime</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br/></span></code></pre></div></div>
<p>(Keep in mind that you should reset <code>firstplay</code> to <code>true</code> when you configure another video.)</p>
<p>Another useful "fake" event that you could track is the "video startup time", as discussed at <a class="" href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/player/how-can-we-track-the-first-playing-event/>How to measure time-to-first-frame?</a>.</p>
<p>Remember that not every event is accessible through the <code>Player</code> interface which is accessible through the <code>player</code> property.
For example, if you want to notify GA of a video quality change event, you have to subscribe to the correct video track,
and leverage the <code>VideoTrackList</code> interface and the <code>VideoTrack</code> interface.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">videoTracks</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">addEventListener</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">'addtrack'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token parameter">e0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  e0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">track</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">addEventListener</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">'activequalitychanged'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token parameter">e1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token function" style="color:hsl(221, 87%, 60%)">ga</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">'send'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">hitType</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'event'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventCategory</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'video'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventAction</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> e1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventLabel</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">src</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">eventValue</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:hsl(35, 99%, 36%)">Math</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">floor</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">player</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">currentTime</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br/></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=android-tv-sdk--ios-tvos-sdk>Android (/TV) SDK & iOS (/tvOS) SDK<a href=#android-tv-sdk--ios-tvos-sdk class=hash-link aria-label="Direct link to Android (/TV) SDK & iOS (/tvOS) SDK" title="Direct link to Android (/TV) SDK & iOS (/tvOS) SDK" translate=no>​</a></h3>
<p>Refer to Google Analytics' documentation at <a href=https://developers.google.com/analytics/solutions/mobile target=_blank rel="noopener noreferrer" class="">https://developers.google.com/analytics/solutions/mobile</a> if you’re interested in integrating Google Analytics on an Android or iOS-based platform. Similar to the Web SDK, developers would subscribe to events and properties emitted by THEOplayer and create a custom mapping to the Google Analytics library.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=conclusion>Conclusion<a href=#conclusion class=hash-link aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate=no>​</a></h2>
<p>A custom analytics integration gives you full control over your code, and the data you want to submit to your analytics system. This data is exposed through the THEOplayer API, and allows you to subscribe to events such as the <a href=https://support.theoplayer.com/hc/en-us/articles/115000275789-Ads-API target=_blank rel="noopener noreferrer" class="">start of an ad</a>, or a <a href=https://support.theoplayer.com/hc/en-us/articles/115003088225-360-Video-and-VR-API target=_blank rel="noopener noreferrer" class="">direction change event in 360/VR</a> playback.</p>
<p>Extra resources:</p>
<ol>
<li class="">
<p><a href=/documentation/pr-preview/pr-486/theoplayer/v9/api-reference/web/ target=_blank rel="noopener noreferrer" class="">THEOplayer API</a></p>
</li>
<li class="">
<p><a class="" href=/documentation/pr-preview/pr-486/theoplayer/v9/getting-started/sdks/web/getting-started/>THEOplayer Getting Started Guide</a></p>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href=https://github.com/THEOplayer/documentation/blob/-/theoplayer_versioned_docs/version-v9/how-to-guides/02-analytics/06-custom-analytics-integration.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/conviva/conviva-connector/><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Conviva Connector for VideoAnalytics & AdsAnalytics</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/documentation/pr-preview/pr-486/theoplayer/v9/how-to-guides/analytics/adobe-analytics/><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Adobe Analytics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#prerequisites class="table-of-contents__link toc-highlight">Prerequisites</a><li><a href=#api class="table-of-contents__link toc-highlight">API</a><ul><li><a href=#video-analytics-metrics-and-events class="table-of-contents__link toc-highlight">Video analytics metrics and events</a><li><a href=#session-management class="table-of-contents__link toc-highlight">Session management</a></ul><li><a href=#integrating-google-analytics class="table-of-contents__link toc-highlight">Integrating Google Analytics</a><ul><li><a href=#web-sdk class="table-of-contents__link toc-highlight">Web SDK</a><li><a href=#android-tv-sdk--ios-tvos-sdk class="table-of-contents__link toc-highlight">Android (/TV) SDK & iOS (/tvOS) SDK</a></ul><li><a href=#conclusion class="table-of-contents__link toc-highlight">Conclusion</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2026 <a href=https://www.dolby.com/>Dolby Laboratories, Inc. All rights reserved.</a></div></div></div></footer></div></body>