"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["27131"],{26862(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>s});var i=r(691051),o=r(474848),d=r(28453);let t={},a="Migrating to THEOplayer Android SDK 10.x",l={},s=[{value:"Update THEOplayer",id:"update-theoplayer",level:2},{value:"Update <code>minSdkVersion</code> to API 23 or higher",id:"update-minsdkversion-to-api-23-or-higher",level:2},{value:"Update <code>compileSdk</code> to 36 or higher",id:"update-compilesdk-to-36-or-higher",level:2},{value:"Update to Kotlin Gradle plugin 2.0.0 or higher",id:"update-to-kotlin-gradle-plugin-200-or-higher",level:2},{value:"Media3 as single playback pipeline",id:"media3-as-single-playback-pipeline",level:2},{value:"Use modern network stack by default",id:"use-modern-network-stack-by-default",level:2},{value:"Replace usages of deprecated APIs",id:"replace-usages-of-deprecated-apis",level:2}];function c(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"migrating-to-theoplayer-android-sdk-10x",children:"Migrating to THEOplayer Android SDK 10.x"})}),"\n",(0,o.jsx)(n.p,{children:"This article will guide you through updating from THEOplayer Android SDK version 10 (from version 9),\nand the changes needed in your code."}),"\n",(0,o.jsx)(n.h2,{id:"update-theoplayer",children:"Update THEOplayer"}),"\n",(0,o.jsxs)(n.p,{children:["Update THEOplayer Android SDK to version 10 in your ",(0,o.jsx)(n.strong,{children:"module-level"})," ",(0,o.jsx)(n.code,{children:"build.gradle"})," file:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-groovy",children:"dependencies {\n    implementation 'com.theoplayer.theoplayer-sdk-android:core:10.+'\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If you're using the ",(0,o.jsx)(n.a,{href:"/open-video-ui/android/",children:"Open Video UI for Android"})," or one of ",(0,o.jsx)(n.a,{href:"/theoplayer/connectors/android/",children:"our connectors"}),",\nmake sure to update them to the latest version too to ensure proper support for THEOplayer version 10."]}),"\n",(0,o.jsxs)(n.h2,{id:"update-minsdkversion-to-api-23-or-higher",children:["Update ",(0,o.jsx)(n.code,{children:"minSdkVersion"})," to API 23 or higher"]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.a,{href:"https://developer.android.com/build#android_sdk_settings",children:"minimum supported Android version"}),' of the THEOplayer Android SDK has been raised from API 21 (Android 5.0 "Lollipop") to API 23 (Android 6.0 "Marshmallow"). This aligns with ',(0,o.jsx)(n.a,{href:"https://developer.android.com/jetpack/androidx/versions#version-table",children:"other Android Jetpack libraries requiring API 23 as of June 2025"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Update the ",(0,o.jsx)(n.code,{children:"minSdkVersion"})," to be 23 (or higher) in your ",(0,o.jsx)(n.strong,{children:"module-level"})," ",(0,o.jsx)(n.code,{children:"build.gradle"})," file:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-groovy",children:"android {\n    defaultConfig {\n        minSdkVersion 23\n    }\n}\n"})}),"\n",(0,o.jsxs)(n.h2,{id:"update-compilesdk-to-36-or-higher",children:["Update ",(0,o.jsx)(n.code,{children:"compileSdk"})," to 36 or higher"]}),"\n",(0,o.jsxs)(n.p,{children:["THEOplayer depends on the AndroidX Core library, which ",(0,o.jsxs)(n.a,{href:"https://developer.android.com/jetpack/androidx/releases/core#core_and_core-ktx_version_117_2",children:["requires ",(0,o.jsx)(n.code,{children:"compileSdk"})," 36 as of version 1.17.0"]}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Update the ",(0,o.jsx)(n.code,{children:"compileSdk"})," to be 36 (or higher) in your ",(0,o.jsx)(n.strong,{children:"module-level"})," ",(0,o.jsx)(n.code,{children:"build.gradle"})," file:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-groovy",children:"android {\n    compileSdk 36\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["We also recommend ",(0,o.jsx)(n.a,{href:"https://developer.android.com/build/releases/gradle-plugin#updating-plugin",children:"updating the Android Gradle Plugin"})," to the latest version.\nIn Android Studio, go to Tools \u2192 AGP Upgrade Assistant and follow the steps to update AGP in your project."]}),"\n",(0,o.jsx)(n.h2,{id:"update-to-kotlin-gradle-plugin-200-or-higher",children:"Update to Kotlin Gradle plugin 2.0.0 or higher"}),"\n",(0,o.jsxs)(n.p,{children:["THEOplayer now targets the Kotlin 2.0 language level, so you must build your app with Kotlin Gradle Plugin 2.0 or higher.\nThis aligns with ",(0,o.jsx)(n.a,{href:"https://developer.android.com/jetpack/androidx/releases/core#core_and_core-ktx_version_117_2",children:"the AndroidX Core library also targeting Kotlin 2.0 as of version 1.17.0"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Update the version of the ",(0,o.jsx)(n.code,{children:"org.jetbrains.kotlin.android"})," plugin to be 2.0.0 (or higher) in your ",(0,o.jsx)(n.strong,{children:"project-level"})," ",(0,o.jsx)(n.code,{children:"build.gradle"})," file:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-groovy",children:"plugins {\n    id 'org.jetbrains.kotlin.android' version '2.2.20' apply false\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"media3-as-single-playback-pipeline",children:"Media3 as single playback pipeline"}),"\n",(0,o.jsxs)(n.p,{children:["THEOplayer now always uses ",(0,o.jsx)(n.a,{href:"https://developer.android.com/media/media3",children:"Jetpack Media3"})," as its playback pipeline,\nproviding more stable playback on a wider range of devices.\nThe legacy playback pipeline (from version 8.x) has been fully retired,\nand the ",(0,o.jsx)(n.code,{children:"TypedSource.playbackPipeline"})," property has been removed."]}),"\n",(0,o.jsxs)(n.p,{children:["Caching is now also handled by Media3.\nAny previously created caching tasks that used the legacy backend (using ",(0,o.jsx)(n.code,{children:"CachingParameters.storageType = CacheStorageType.LEGACY"}),")\nwill automatically be switched over to the Media3 backend, although their cached content will not be preserved.\nThey can be re-downloaded by calling ",(0,o.jsx)(n.code,{children:"CachingTask.start()"})," again."]}),"\n",(0,o.jsxs)(n.p,{children:["See ",(0,o.jsx)(n.a,{href:"/documentation/pr-preview/pr-487/theoplayer/how-to-guides/android/media3/getting-started",children:"our Media3 guide"})," for more information."]}),"\n",(0,o.jsx)(n.h2,{id:"use-modern-network-stack-by-default",children:"Use modern network stack by default"}),"\n",(0,o.jsx)(n.p,{children:"THEOplayer will now use a modern network stack when available,\nto take advantage of their HTTP/2 and HTTP/3 support for more optimal media streaming."}),"\n",(0,o.jsxs)(n.p,{children:["The player supports both ",(0,o.jsx)(n.a,{href:"https://developer.android.com/reference/android/net/http/HttpEngine",children:(0,o.jsx)(n.code,{children:"HttpEngine"})})," (available in Android 14 or higher) and ",(0,o.jsx)(n.a,{href:"https://developer.android.com/develop/connectivity/cronet",children:"Cronet"})," (when added as a library to your app).\nWhen neither of these APIs are available, the player falls back to HTTP/1.1 using ",(0,o.jsx)(n.a,{href:"https://developer.android.com/reference/java/net/HttpURLConnection",children:(0,o.jsx)(n.code,{children:"HttpURLConnection"})}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["If you're not yet ready for this switch, you can opt out of this behavior and revert back to ",(0,o.jsx)(n.code,{children:"HttpURLConnection"}),"\nby setting ",(0,o.jsx)(n.a,{href:"pathname:///theoplayer/v10/api-reference/android/com/theoplayer/android/api/player/NetworkConfiguration.html#useHttpEngine",children:(0,o.jsx)(n.code,{children:"NetworkConfiguration.useHttpEngine"})})," to ",(0,o.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"replace-usages-of-deprecated-apis",children:"Replace usages of deprecated APIs"}),"\n",(0,o.jsx)(n.p,{children:"Some properties and methods that were previously deprecated have been removed from the API.\nUpdate your code to use the new APIs instead."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Removed ",(0,o.jsx)(n.code,{children:"TypedSource.playbackPipeline"})," and ",(0,o.jsx)(n.code,{children:"SourceChangeEvent.playbackPipeline"}),". The player will now always use the Media3 playback pipeline."]}),"\n",(0,o.jsxs)(n.li,{children:["Removed unused ",(0,o.jsx)(n.code,{children:"GoogleDaiConfiguration.format"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Removed ",(0,o.jsx)(n.code,{children:"MediaTailorSource.adParams"}),". Use ",(0,o.jsx)(n.code,{children:"MediaTailorSource.adsParams"})," instead."]}),"\n",(0,o.jsxs)(n.li,{children:["Removed the ",(0,o.jsx)(n.code,{children:"DashPlaybackConfiguration.ignoreAvailabilityWindow()"})," method. Use the ",(0,o.jsx)(n.code,{children:".ignoreAvailabilityWindow"})," property instead."]}),"\n",(0,o.jsxs)(n.li,{children:["Removed ",(0,o.jsx)(n.code,{children:"KeySystemConfiguration.isUseCredentials"}),". Use ",(0,o.jsx)(n.code,{children:"KeySystemConfiguration.useCredentials"})," instead."]}),"\n",(0,o.jsxs)(n.li,{children:["Removed ",(0,o.jsx)(n.code,{children:"ConaxDRMConfiguration.Builder.fairPlay()"}),". Use ",(0,o.jsx)(n.code,{children:"ConaxDRMConfiguration.Builder.fairplay()"})," instead."]}),"\n",(0,o.jsxs)(n.li,{children:["Removed THEOlive publication events (",(0,o.jsx)(n.code,{children:"PublicationLoadStartEvent"}),", ",(0,o.jsx)(n.code,{children:"PublicationLoadedEvent"})," and ",(0,o.jsx)(n.code,{children:"PublicationOfflineEvent"}),"). Use the equivalent distribution events instead (",(0,o.jsx)(n.code,{children:"DistributionLoadStartEvent"}),", ",(0,o.jsx)(n.code,{children:"EndpointLoadedEvent"})," and ",(0,o.jsx)(n.code,{children:"DistributionOfflineEvent"})," respectively)."]}),"\n",(0,o.jsxs)(n.li,{children:["Removed ",(0,o.jsx)(n.code,{children:"THEOplayerGlobal.playbackSettings"}),"."]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453(e,n,r){r.d(n,{R:()=>t,x:()=>a});var i=r(296540);let o={},d=i.createContext(o);function t(e){let n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(d.Provider,{value:n},e.children)}},691051(e){e.exports=JSON.parse('{"id":"getting-started/sdks/android/migrating-to-theoplayer-10","title":"Migrating to THEOplayer Android SDK 10.x","description":"This article will guide you through updating from THEOplayer Android SDK version 10 (from version 9),","source":"@site/theoplayer/getting-started/01-sdks/02-android/03-migrating-to-theoplayer-10.md","sourceDirName":"getting-started/01-sdks/02-android","slug":"/getting-started/sdks/android/migrating-to-theoplayer-10","permalink":"/documentation/pr-preview/pr-487/theoplayer/getting-started/sdks/android/migrating-to-theoplayer-10","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/theoplayer/getting-started/01-sdks/02-android/03-migrating-to-theoplayer-10.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"android","previous":{"title":"Android Feature Integrations","permalink":"/documentation/pr-preview/pr-487/theoplayer/getting-started/sdks/android/features"},"next":{"title":"How-to guides","permalink":"/documentation/pr-preview/pr-487/theoplayer/how-to-guides/"}}')}}]);