"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["74967"],{686599(e,i,n){n.r(i),n.d(i,{assets:()=>s,contentTitle:()=>t,default:()=>p,frontMatter:()=>d,metadata:()=>r,toc:()=>l});var r=n(836253),a=n(474848),o=n(28453);let d={},t="Migrating to THEOplayer Android SDK 9.x",s={},l=[{value:"Update THEOplayer",id:"update-theoplayer",level:2},{value:"Update compile SDK to API 35 or higher",id:"update-compile-sdk-to-api-35-or-higher",level:2},{value:"Media3 as default playback pipeline",id:"media3-as-default-playback-pipeline",level:2},{value:"Media3 as default backend for caching",id:"media3-as-default-backend-for-caching",level:2},{value:"Removed Media3 integration package",id:"removed-media3-integration-package",level:2},{value:"Automatically registered integrations",id:"automatically-registered-integrations",level:2},{value:"Kotlin-first approach",id:"kotlin-first-approach",level:2},{value:"Replace usages of deprecated APIs",id:"replace-usages-of-deprecated-apis",level:2}];function c(e){let i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"migrating-to-theoplayer-android-sdk-9x",children:"Migrating to THEOplayer Android SDK 9.x"})}),"\n",(0,a.jsx)(i.p,{children:"This article will guide you through updating from THEOplayer Android SDK version 9 (from version 8),\nand the changes needed in your code."}),"\n",(0,a.jsx)(i.h2,{id:"update-theoplayer",children:"Update THEOplayer"}),"\n",(0,a.jsxs)(i.p,{children:["Update THEOplayer Android SDK to version 9 in your ",(0,a.jsx)(i.strong,{children:"module-level"})," ",(0,a.jsx)(i.code,{children:"build.gradle"})," file:"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-groovy",children:"dependencies {\n    implementation 'com.theoplayer.theoplayer-sdk-android:core:9.+'\n}\n"})}),"\n",(0,a.jsxs)(i.p,{children:["If you're using the ",(0,a.jsx)(i.a,{href:"/open-video-ui/android/",children:"Open Video UI for Android"})," or one of ",(0,a.jsx)(i.a,{href:"/theoplayer/connectors/android/",children:"our connectors"}),",\nmake sure to update them to the latest version too to ensure proper support for THEOplayer version 9."]}),"\n",(0,a.jsx)(i.h2,{id:"update-compile-sdk-to-api-35-or-higher",children:"Update compile SDK to API 35 or higher"}),"\n",(0,a.jsxs)(i.p,{children:["The Android SDK and its integrations are now compiled against API 35. Ensure ",(0,a.jsx)(i.code,{children:"compileSdk"})," is set to 35 or higher in your app's ",(0,a.jsx)(i.code,{children:"build.gradle"})," file."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-groovy",children:"android {\n    compileSdk 35\n}\n"})}),"\n",(0,a.jsx)(i.h2,{id:"media3-as-default-playback-pipeline",children:"Media3 as default playback pipeline"}),"\n",(0,a.jsxs)(i.p,{children:["The Media3 playback pipeline is now enabled by default.\nThis new pipeline is built on top of ",(0,a.jsx)(i.a,{href:"https://developer.android.com/media/media3",children:"Jetpack Media3"}),",\nwhich aims to provide more stable playback on a wider range of devices.\nSee ",(0,a.jsx)(i.a,{href:"/documentation/pr-preview/pr-487/theoplayer/v9/how-to-guides/android/media3/getting-started",children:"our Media3 guide"})," for more information."]}),"\n",(0,a.jsxs)(i.p,{children:["We highly recommend using the Media3 playback pipeline. However, if you need some more time to make the switch,\nyou can still revert to the legacy playback pipeline from version 8.x by setting ",(0,a.jsx)(i.code,{children:"TypedSource.playbackPipeline"})," to ",(0,a.jsx)(i.code,{children:"PlaybackPipeline.LEGACY"}),"."]}),"\n",(0,a.jsxs)(i.admonition,{type:"warning",children:[(0,a.jsx)(i.p,{children:"The legacy playback pipeline is scheduled to be removed in THEOplayer version 10."}),(0,a.jsx)(i.p,{children:"If you run into an issue that prevents you from switching to Media3, please contact our Service Desk."})]}),"\n",(0,a.jsx)(i.h2,{id:"media3-as-default-backend-for-caching",children:"Media3 as default backend for caching"}),"\n",(0,a.jsx)(i.p,{children:"Newly created caching tasks now use the Media3 backend by default.\nSources cached with this backend can only be played using the Media3 playback pipeline."}),"\n",(0,a.jsxs)(i.p,{children:["If you need some more time to make the switch, you can still revert to the legacy cache storage from version 8.x\nby setting ",(0,a.jsx)(i.code,{children:"CachingParameters.storageType"})," to ",(0,a.jsx)(i.code,{children:"CacheStorageType.LEGACY"}),"."]}),"\n",(0,a.jsxs)(i.admonition,{type:"warning",children:[(0,a.jsx)(i.p,{children:"The legacy cache storage is scheduled to be removed in THEOplayer version 10."}),(0,a.jsx)(i.p,{children:"If you run into an issue that prevents you from switching to Media3, please contact our Service Desk."})]}),"\n",(0,a.jsx)(i.h2,{id:"removed-media3-integration-package",children:"Removed Media3 integration package"}),"\n",(0,a.jsx)(i.p,{children:"The Media3 playback pipeline now ships with the THEOplayer Android SDK, and is no longer published as a separate package."}),"\n",(0,a.jsxs)(i.p,{children:["If you were using the Media3 integration in your app, make sure to remove it from your app's ",(0,a.jsx)(i.code,{children:"build.gradle"})," file:"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-diff",children:'  dependencies {\n      implementation "com.theoplayer.theoplayer-sdk-android:core:9.+"\n-     implementation "com.theoplayer.theoplayer-sdk-android:integration-media3:8.+"\n  }\n'})}),"\n",(0,a.jsx)(i.h2,{id:"automatically-registered-integrations",children:"Automatically registered integrations"}),"\n",(0,a.jsxs)(i.p,{children:["Feature integrations that are added as dependencies of your Android app are now\nautomatically added to every ",(0,a.jsx)(i.code,{children:"THEOplayerView"})," instance.\nYou no longer need to create and attach each integration individually.\nSee ",(0,a.jsx)(i.a,{href:"/documentation/pr-preview/pr-487/theoplayer/v9/getting-started/sdks/android/features#adding-integrations-automatically",children:"our guide on feature integrations"})," for more information."]}),"\n",(0,a.jsxs)(i.p,{children:["If you want to opt-out of this behavior, you can set ",(0,a.jsx)(i.code,{children:"THEOplayerConfig.Builder#autoIntegrations(boolean)"})," to ",(0,a.jsx)(i.code,{children:"false"}),"\nand then ",(0,a.jsx)(i.a,{href:"/documentation/pr-preview/pr-487/theoplayer/v9/getting-started/sdks/android/features#adding-integrations-manually",children:"add your integrations manually"}),"."]}),"\n",(0,a.jsx)(i.h2,{id:"kotlin-first-approach",children:"Kotlin-first approach"}),"\n",(0,a.jsxs)(i.p,{children:["Starting with THEOplayer 9.0, we're adopting a Kotlin-first approach for the Android SDK and its integrations,\nsimilar to ",(0,a.jsx)(i.a,{href:"https://developer.android.com/kotlin/first",children:"Google's own approach for Android"}),"."]}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:["New APIs will be designed with Kotlin users in mind first. We will make use of Kotlin's more expressive\nlanguage features where appropriate, such as ",(0,a.jsx)(i.a,{href:"https://kotlinlang.org/docs/functions.html#named-arguments",children:"named parameters"}),"\nand ",(0,a.jsx)(i.a,{href:"https://kotlinlang.org/docs/coroutines-overview.html",children:"coroutines"}),".","\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:["For example: ",(0,a.jsx)(i.a,{href:"pathname:///theoplayer/v8/api-reference/android/com/theoplayer/android/api/source/TypedSource.html",children:(0,a.jsx)(i.code,{children:"TypedSource"})})," now has a constructor with named arguments, which is intended to replace ",(0,a.jsx)(i.a,{href:"pathname:///theoplayer/v8/api-reference/android/com/theoplayer/android/api/source/TypedSource.Builder.html",children:(0,a.jsx)(i.code,{children:"TypedSource.Builder"})}),"."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(i.li,{children:"Official documentation and examples will be written in Kotlin. Java examples may be available on a case-by-case basis."}),"\n",(0,a.jsx)(i.li,{children:"While you can still use THEOplayer from Java code, it may result in less idiomatic code,\nor it may require adding Kotlin libraries to your app's dependencies."}),"\n"]}),"\n",(0,a.jsxs)(i.p,{children:["We highly recommend using Kotlin for new Android apps. To add Kotlin to an existing app,\nsee ",(0,a.jsx)(i.a,{href:"https://developer.android.com/kotlin/add-kotlin",children:"the Android documentation"}),"."]}),"\n",(0,a.jsx)(i.h2,{id:"replace-usages-of-deprecated-apis",children:"Replace usages of deprecated APIs"}),"\n",(0,a.jsx)(i.p,{children:"Some properties and methods that were previously deprecated have been removed from the API.\nUpdate your code to use the new APIs instead."}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"MillicastSource(Credential, Option)"})," constructor. Use the primary constructor instead."]}),"\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"MillicastSource.credential"})," API. Use ",(0,a.jsx)(i.code,{children:"src"}),", ",(0,a.jsx)(i.code,{children:"streamAccountId"}),", ",(0,a.jsx)(i.code,{children:"apiUrl"})," and ",(0,a.jsx)(i.code,{children:"subscriberToken"})," instead."]}),"\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"MillicastSource.option"})," API. Use ",(0,a.jsx)(i.code,{children:"connectOptions"})," instead."]}),"\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"TypedSource.isHlsDateRange"})," API. Use ",(0,a.jsx)(i.code,{children:"TypedSource.hlsDateRange"})," instead."]}),"\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"TypedSource.isLowLatency"})," API. Use ",(0,a.jsx)(i.code,{children:"TypedSource.lowLatency"})," instead."]}),"\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"THEOLiveConfig.sessionId"})," API. Use ",(0,a.jsx)(i.code,{children:"THEOLiveConfig.externalSessionId"})," instead."]}),"\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"THEOLiveConfig.userId"})," API."]}),"\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"THEOplayerConfig.getLiveOffset()"})," API. Use ",(0,a.jsx)(i.code,{children:"TypedSource.liveOffset"})," instead."]}),"\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"THEOplayerConfig.isHlsDateRange()"})," API. Use ",(0,a.jsx)(i.code,{children:"TypedSource.hlsDateRange"})," instead."]}),"\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"GoogleImaIntegrationFactory.createGoogleImaIntegration(THEOplayerView, ImaSdkSettings)"})," API. Use ",(0,a.jsx)(i.code,{children:"GoogleImaIntegrationFactory.createGoogleImaIntegration(THEOplayerView, GoogleImaConfiguration(ImaSdkSettings))"})," instead."]}),"\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"GoogleDaiIntegrationFactory.createGoogleDaiIntegration(THEOplayerView, ImaSdkSettings)"})," API. Use ",(0,a.jsx)(i.code,{children:"GoogleDaiIntegrationFactory.createGoogleDaiIntegration(THEOplayerView, GoogleImaConfiguration(ImaSdkSettings))"})," instead."]}),"\n",(0,a.jsxs)(i.li,{children:["Removed deprecated ",(0,a.jsx)(i.code,{children:"ConaxDRMConfiguration.Builder.fairPlay(FairPlayKeySystemConfiguration)"})," API. Use ",(0,a.jsx)(i.code,{children:"ConaxDRMConfiguration.Builder.fairplay(FairPlayKeySystemConfiguration)"})," instead."]}),"\n",(0,a.jsxs)(i.li,{children:["Moved the ",(0,a.jsx)(i.code,{children:"GoogleImaAd"})," API from the package ",(0,a.jsx)(i.code,{children:"com.theoplayer.android.api.ads.GoogleImaAd"})," to ",(0,a.jsx)(i.code,{children:"com.theoplayer.android.api.ads.ima"}),"."]}),"\n"]})]})}function p(e={}){let{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453(e,i,n){n.d(i,{R:()=>d,x:()=>t});var r=n(296540);let a={},o=r.createContext(a);function d(e){let i=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),r.createElement(o.Provider,{value:i},e.children)}},836253(e){e.exports=JSON.parse('{"id":"getting-started/sdks/android/migrating-to-theoplayer-9","title":"Migrating to THEOplayer Android SDK 9.x","description":"This article will guide you through updating from THEOplayer Android SDK version 9 (from version 8),","source":"@site/theoplayer_versioned_docs/version-v9/getting-started/01-sdks/02-android/03-migrating-to-theoplayer-9.md","sourceDirName":"getting-started/01-sdks/02-android","slug":"/getting-started/sdks/android/migrating-to-theoplayer-9","permalink":"/documentation/pr-preview/pr-487/theoplayer/v9/getting-started/sdks/android/migrating-to-theoplayer-9","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/theoplayer_versioned_docs/version-v9/getting-started/01-sdks/02-android/03-migrating-to-theoplayer-9.md","tags":[],"version":"v9","sidebarPosition":3,"frontMatter":{},"sidebar":"android","previous":{"title":"Migration from THEOplayer Android/AndroidTV/FireTV SDK 4.x to THEOplayer Android SDK 5.0","permalink":"/documentation/pr-preview/pr-487/theoplayer/v9/getting-started/sdks/android/migration-from-4.x"},"next":{"title":"How-to guides","permalink":"/documentation/pr-preview/pr-487/theoplayer/v9/how-to-guides/"}}')}}]);