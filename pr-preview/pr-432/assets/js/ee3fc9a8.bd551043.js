"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["79127"],{596371:function(e,i,n){n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});var t=n(105444),l=n(785893),s=n(250065);let r={title:"OptiView Hosted Player",slug:"/web/hosted-player"},o="OptiView Hosted Player",a={},d=[{value:"Configuration",id:"configuration",level:2},{value:"Required Parameters",id:"required-parameters",level:3},{value:"Optional Parameters",id:"optional-parameters",level:3},{value:"Optional Parameters (realtime only configurations)",id:"optional-parameters-realtime-only-configurations",level:3},{value:"Player Events",id:"player-events",level:2},{value:"Configuration Examples",id:"configuration-examples",level:3},{value:"A Complete Example",id:"a-complete-example",level:2}];function c(e){let i={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.header,{children:(0,l.jsx)(i.h1,{id:"optiview-hosted-player",children:"OptiView Hosted Player"})}),"\n",(0,l.jsxs)(i.p,{children:["Dolby hosts a special version of the OptiView video player for use with customers intended to be used for ",(0,l.jsx)(i.code,{children:"<iframe>"})," embedding. This version of the player is configurable with query parameters to make it easy to setup and configure."]}),"\n",(0,l.jsx)(i.admonition,{title:"Hosted Player Under Construction",type:"caution",children:(0,l.jsx)(i.p,{children:"This version of the player is under development."})}),"\n",(0,l.jsx)(i.admonition,{title:"Player Updates",type:"caution",children:(0,l.jsx)(i.p,{children:"This version of the player will automatically be updated when new releases are published."})}),"\n",(0,l.jsx)(i.p,{children:"The player is hosted at:"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"https://sbp.optiview.dolby.com\n"})}),"\n",(0,l.jsx)(i.h2,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsxs)(i.p,{children:["The following parameters can be provided used to configure the hosted player. ",(0,l.jsx)(i.em,{children:"Note: query parameters are case sensitive!"})]}),"\n",(0,l.jsx)(i.h3,{id:"required-parameters",children:"Required Parameters"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"license"}),': a OptiView player license obtained through the dashboard. If using the hosted version of the player you should limit sources for playback, you can utilize "Source Domain" restrictions in the player portal. This will prevent viewers from stealing your license and using it for their own streams. If using streams from Dolby, you must white list the following',"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.em,{children:"Whitelist Page Domains"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"sbp.optiview.dolby.com"})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.em,{children:"Note: at this time it is not possible to whitelist the end-application domain for whitelisted page domains in the license. If you wish to secure your streams by page domain, please contact Dolby to get your own license and player implementation."})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.em,{children:"Whitelist Source Domains"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"cdn.theo.live"})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"cdn.anywhere.theo.live"})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"cdn.tla-prd.theostream.live"})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"discovery.theo.live"})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"stream.anywhere.theo.live"})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.code,{children:"stream.theo.live"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"sourceType"}),": the type of source to configure the player to play back. Choose one of:","\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"realtime"}),": Real-time WebRTC playback with OptiView's real-time streaming solution (formerly Millicast)"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"lowdelay"}),": Low-delay HESP playback with OptiVIew's live streaming solution (formerly THEOlive)"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"live"}),": HLS playback with an .m3u8 manifest"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"source"}),": the source itself based on the ",(0,l.jsx)(i.code,{children:"sourceType"}),". Here are some examples:","\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:["for ",(0,l.jsx)(i.code,{children:"realtime"}),", the source looks like ",(0,l.jsx)(i.code,{children:"accountId/streamname"}),". Example: ",(0,l.jsx)(i.code,{children:"k9Mwad/multiview"}),"."]}),"\n",(0,l.jsxs)(i.li,{children:["for ",(0,l.jsx)(i.code,{children:"lowdelay"}),", the source looks like ",(0,l.jsx)(i.code,{children:"channelId"}),". Example: ",(0,l.jsx)(i.code,{children:"ar5c53uzm3si4h4zgkzrju44h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"optional-parameters",children:"Optional Parameters"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"token"}),": an optional playback token for enabling stream protection. The type of token must be matched to the ",(0,l.jsx)(i.code,{children:"sourceType"}),"."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"autoPlay"}),": ",(0,l.jsxs)(i.em,{children:["(default ",(0,l.jsx)(i.code,{children:"false"}),")."]})," A boolean whether to enable playback to automatically start when the page loads."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"muted"}),": ",(0,l.jsxs)(i.em,{children:["(default ",(0,l.jsx)(i.code,{children:"true"}),")."]})," A boolean whether to start the stream playback muted or not. ",(0,l.jsxs)(i.em,{children:["Note that if ",(0,l.jsx)(i.code,{children:"autoPlay"})," is set to ",(0,l.jsx)(i.code,{children:"true"}),", playback will begin muted due to browser restrictions."]})]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"poster"}),": a publicly accessible poster frame image to show when the stream is offline"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"playerColor"}),": ",(0,l.jsxs)(i.em,{children:["(default ",(0,l.jsx)(i.code,{children:"4D5963"}),")"]})," a hex color code value to set the play button and scrub bar. ",(0,l.jsxs)(i.em,{children:["Note that the value is an integer and should NOT contain the ",(0,l.jsx)(i.code,{children:"#"})," at the beginning."]})]}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"optional-parameters-realtime-only-configurations",children:"Optional Parameters (realtime only configurations)"}),"\n",(0,l.jsxs)(i.p,{children:["The following parameters are only valid with Dolby OptiView real-time streaming and will be ignored with other ",(0,l.jsx)(i.code,{children:"sourceTypes"}),"."]}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"minDelay"}),": ",(0,l.jsxs)(i.em,{children:["(default: ",(0,l.jsx)(i.code,{children:"50"}),")."]})," a small minimum playout delay set to improve performance in degraded network conditions. Specified in milliseconds. See ",(0,l.jsx)(i.a,{href:"/millicast/playback/players-sdks/web/player/#playout-delay",children:"Documentation"}),"."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"maxDelay"}),": ",(0,l.jsxs)(i.em,{children:["(default: ",(0,l.jsx)(i.code,{children:"120"}),")."]})," a small maximum playout delay set to improve performance in degraded network conditions. Specified in milliseconds."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"maxHeight"}),": The maximum height resolution height (pixels) in the ABR range control to load in the given playback session. See ",(0,l.jsx)(i.a,{href:"/millicast/playback/players-sdks/web/player/#abr-range-control",children:"Documentation"}),". Intended to be used mutually exclusively with ",(0,l.jsx)(i.code,{children:"maxWidth"}),"."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"maxWidth"}),": The maximum width resolution (pixels) in the ABR range control to load in the given playback session. See ",(0,l.jsx)(i.a,{href:"/millicast/playback/players-sdks/web/player/#abr-range-control",children:"Documentation"}),". Intended to be used mutually exclusively with ",(0,l.jsx)(i.code,{children:"maxHeight"}),"."]}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"player-events",children:"Player Events"}),"\n",(0,l.jsxs)(i.p,{children:["Basic ",(0,l.jsx)(i.a,{href:"pathname:///theoplayer/v10/api-reference/web/interfaces/AdBreakEvent.html",children:"player events"})," are sent with ",(0,l.jsx)(i.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage",children:"window post messages"})," to the parent page in case the embedding application wishes to utilize them. Events include:"]}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"ended"}),"\n",(0,l.jsx)(i.li,{children:"pause"}),"\n",(0,l.jsx)(i.li,{children:"play"}),"\n",(0,l.jsx)(i.li,{children:"playing"}),"\n",(0,l.jsx)(i.li,{children:"resize"}),"\n",(0,l.jsx)(i.li,{children:"volumechange"}),"\n"]}),"\n",(0,l.jsx)(i.p,{children:"Here is an example of how to consume these messages, logging them to the console:"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-javascript",children:'<script>\n  window.addEventListener("message", (event) => {\n    // confirm origin for security\n    if (event.origin !== "https://sbp.optiview.dolby.com") {\n      return;\n    }\n\n    console.log("iframe event", event.data);\n  });\n<\/script>\n'})}),"\n",(0,l.jsx)(i.h3,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,l.jsx)(i.p,{children:"This is a basic example of a player that is configured in a basic way to play a real-time source:"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"https://sbp.optiview.dolby.com/?sourceType=realtime&source=k9Mwad/multiview&license=LICENSE_STRING\n"})}),"\n",(0,l.jsx)(i.p,{children:"This is an example of a player that is configured to play a real-time stream with token protection and other customizations:"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"https://sbp.optiview.dolby.com/?sourceType=realtime&source=k9Mwad/multiview&autoPlay=false&muted=true&playerColor=58007a&license=LICENSE_STRING&token=TOKEN_STRING\n"})}),"\n",(0,l.jsx)(i.p,{children:"This is an example to load an OptiView low-delay stream and start with automatic playback:"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"https://sbp.optiview.dolby.com/?sourceType=lowdelay&source=ar5c53uzm3si4h4zgkzrju44h&autoPlay=true&muted=true&license=LICENSE_STRING\n"})}),"\n",(0,l.jsx)(i.p,{children:"This is an example to load an HLS stream and start with automatic playback:"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"https://sbp.optiview.dolby.com/?sourceType=live&source=https://stream.theo.live/europe-west/e2c4220c-3cf4-4499-ab3a-ea5e904d0406/ar5c53uzm3si4h4zgkzrju44h/stream/main.m3u8&autoPlay=true&muted=false&license=LICENSE_STRING\n"})}),"\n",(0,l.jsx)(i.h2,{id:"a-complete-example",children:"A Complete Example"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <title>Dolby Stream Embed</title>\n    <style>\n      html,\n      body {\n        height: 100%;\n        width: 100%;\n        margin: 0;\n      }\n      iframe {\n        width: 100%;\n        height: 100%;\n        border: none;\n      }\n    </style>\n  </head>\n  <body>\n    <iframe\n      src="https://sbp.optiview.dolby.com/?sourceType=realtime&source=k9Mwad/multiview&autoPlay=false&muted=true&playerColor=58007a&license=LICENSE_STRING"\n      allowfullscreen\n      allow="autoplay; encrypted-media"\n    ></iframe>\n    <script>\n      window.addEventListener(\'message\', (event) => {\n        // confirm origin for security\n        if (event.origin !== \'https://sbp.optiview.dolby.com\') {\n          return;\n        }\n\n        console.log(\'iframe event\', event.data);\n      });\n    <\/script>\n  </body>\n</html>\n'})})]})}function h(e={}){let{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,l.jsx)(i,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},250065:function(e,i,n){n.d(i,{Z:()=>o,a:()=>r});var t=n(667294);let l={},s=t.createContext(l);function r(e){let i=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(s.Provider,{value:i},e.children)}},105444:function(e){e.exports=JSON.parse('{"id":"web/hosted-player","title":"OptiView Hosted Player","description":"Dolby hosts a special version of the OptiView video player for use with customers intended to be used for `` embedding. This version of the player is configurable with query parameters to make it easy to setup and configure.","source":"@site/theoplayer/web/hosted-player.md","sourceDirName":"web","slug":"/web/hosted-player","permalink":"/documentation/pr-preview/pr-432/theoplayer/web/hosted-player","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/theoplayer/web/hosted-player.md","tags":[],"version":"current","frontMatter":{"title":"OptiView Hosted Player","slug":"/web/hosted-player"}}')}}]);