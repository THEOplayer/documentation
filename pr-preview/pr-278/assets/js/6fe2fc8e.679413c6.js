"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["55523"],{83165:function(e,n,t){t.r(n),t.d(n,{default:()=>p,frontMatter:()=>l,metadata:()=>i,assets:()=>h,toc:()=>u,contentTitle:()=>d});var i=JSON.parse('{"id":"distribution/multi-region-support/geo-cascading","title":"Geo-cascading","description":"Geo-cascading is a key component of content delivery networks (CDNs) and streaming platforms that aim to provide a high-quality streaming experience for users around the world. To reduce latency and improve reliability, geo-cascading uses a network of clusters that are strategically placed in various geographical locations. This way, viewers can receive streams from regions that are the closest to their location.","source":"@site/millicast/distribution/multi-region-support/geo-cascading.mdx","sourceDirName":"distribution/multi-region-support","slug":"/geo-cascading","permalink":"/documentation/pr-preview/pr-278/millicast/geo-cascading","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/millicast/distribution/multi-region-support/geo-cascading.mdx","tags":[],"version":"current","frontMatter":{"title":"Geo-cascading","slug":"/geo-cascading"},"sidebar":"millicast","previous":{"title":"Multi-Region Support","permalink":"/documentation/pr-preview/pr-278/millicast/multi-region-support"},"next":{"title":"Re-streaming","permalink":"/documentation/pr-preview/pr-278/millicast/re-streaming"}}'),s=t("85893"),o=t("50065");let r=t.p+"assets/images/feature-geo-cascading-4278319fe8757eeb78a61d8f49241f73.png",a=t.p+"assets/images/Screenshot_2023-12-21_at_07.19.10-d9ec3dc9382c0cf0cfb88b4e6575dcc8.png",c=t.p+"assets/images/Screenshot_2023-12-21_at_07.18.28-42bd14a20aed5934d2fe6a2a53c44f6b.png",l={title:"Geo-cascading",slug:"/geo-cascading"},d=void 0,h={},u=[{value:"Overview",id:"overview",level:2},{value:"How-to Setup Geo-cascading",id:"how-to-setup-geo-cascading",level:2},{value:"Using the Dashboard",id:"using-the-dashboard",level:3},{value:"Using the REST API",id:"using-the-rest-api",level:3},{value:"Default Account Token Settings",id:"default-account-token-settings",level:2},{value:"Using the Dashboard",id:"using-the-dashboard-1",level:3},{value:"Using the REST API",id:"using-the-rest-api-1",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Understanding Costs for Geo-cascading",id:"understanding-costs-for-geo-cascading",level:3}];function g(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Geo-cascading"})," is a key component of content delivery networks (CDNs) and streaming platforms that aim to provide a high-quality streaming experience for users around the world. To reduce latency and improve reliability, geo-cascading uses a network of clusters that are strategically placed in various geographical locations. This way, viewers can receive streams from regions that are the closest to their location."]}),"\n","\n",(0,s.jsx)("div",{class:"center-container",children:(0,s.jsx)("img",{src:r,width:"500"})}),"\n",(0,s.jsx)(n.admonition,{title:"Available Regions",type:"tip",children:(0,s.jsxs)(n.p,{children:["You can find the list of available cluster regions from the ",(0,s.jsx)(n.a,{href:"/documentation/pr-preview/pr-278/millicast/multi-region-support",children:"Multi-Region Support"})," streaming guide along with details on how to configure the origin publishing region."]})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"For simple scenarios without geo-cascading, the ingress and egress of streamed content flows through only a single origin cluster region as specified in the publish token. This solution works wells when the playback viewers are geographically located near the broadcaster within the same region. Any viewers who are consuming content in other regions may experience additional network latency."}),"\n",(0,s.jsx)(n.p,{children:"By enabling geo-cascading, a broadcaster publishes a stream to one cluster region and the service will cascade the content out to the edge network so that viewers will connect automatically to the cluster region closest to them and insure the best experience."}),"\n",(0,s.jsxs)(n.p,{children:["The publish token defines a ",(0,s.jsx)(n.code,{children:"geoCascade"})," property."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"isEnabled"})," - a boolean for whether or not geo-cascading is enabled for an individual publish token"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"clusters"})," - a list of ",(0,s.jsx)(n.a,{href:"/documentation/pr-preview/pr-278/millicast/multi-region-support",children:"cluster regions"})," that will be enabled once a viewer in that region attempts to connect"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The origin and clusters to include can be customized depending on your broadcast and playback goals. This capability is available for all platform supported broadcast protocols and codecs."}),"\n",(0,s.jsx)(n.h2,{id:"how-to-setup-geo-cascading",children:"How-to Setup Geo-cascading"}),"\n",(0,s.jsx)(n.p,{children:"You can enable and customize geo-cascading using either the dashboard or the REST APIs to enable the feature on a publish token."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["As streams will only cascade to additional clusters when viewers connect to those clusters, we recommend choosing ",(0,s.jsx)(n.strong,{children:"All"})," regions."]}),"\n",(0,s.jsxs)(n.li,{children:["If not specified, ",(0,s.jsx)(n.strong,{children:"clusters"}),' will use "All" by default.']}),"\n",(0,s.jsxs)(n.li,{children:["If you have a more complex ",(0,s.jsx)(n.a,{href:"/documentation/pr-preview/pr-278/millicast/multi-source-broadcasting",children:"multi-source"})," broadcast with multiple sources or using ",(0,s.jsx)(n.a,{href:"/documentation/pr-preview/pr-278/millicast/redundant-ingest",children:"redundant ingest"}),", each publisher should either use the same publish token or have the same origin and edge cluster configuration."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"using-the-dashboard",children:"Using the Dashboard"}),"\n",(0,s.jsx)(n.p,{children:"Log into the dashboard and select a publish token to modify."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Select the ",(0,s.jsx)(n.strong,{children:"Distribution"})," tab. Use the toggle to enable geo-cascading."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Select the preferred regions from the drop-down list. Not specifying any preferred regions results in the automatic selection of the most suitable cluster for each viewer."}),"\n"]}),"\n"]}),"\n","\n",(0,s.jsx)("div",{class:"center-container",children:(0,s.jsx)("img",{src:a,width:"500"})}),"\n",(0,s.jsx)(n.p,{children:"Any broadcast that uses the publish token configured in this way will take advantage of this content delivery."}),"\n",(0,s.jsx)(n.h3,{id:"using-the-rest-api",children:"Using the REST API"}),"\n",(0,s.jsxs)(n.p,{children:["To set geo-cascading for a specific token, set its preferences in either the ",(0,s.jsx)(n.strong,{children:"geoCascade"})," object of ",(0,s.jsx)(n.a,{href:"/documentation/pr-preview/pr-278/millicast/api/publish-token-v-1-create-token",children:"Create Token"})," or the ",(0,s.jsx)(n.strong,{children:"updateGeoCascade"})," object of the ",(0,s.jsx)(n.a,{href:"/documentation/pr-preview/pr-278/millicast/api/publish-token-v-1-update-token",children:"Update Token"})," REST API."]}),"\n",(0,s.jsxs)(n.p,{children:["Both objects contain two parameters: ",(0,s.jsx)(n.strong,{children:"isEnabled"})," and ",(0,s.jsx)(n.strong,{children:"clusters"}),". To enable geo-cascading, set ",(0,s.jsx)(n.strong,{children:"isEnabled"})," to true and provide in the ",(0,s.jsx)(n.strong,{children:"clusters"})," parameter the IDs of preferred regions. Not specifying any preferred regions results in the automatic selection of the most suitable cluster for each viewer. As streams will only cascade to additional clusters when viewers connect to those clusters, we recommend choosing ",(0,s.jsx)(n.strong,{children:"all"})," regions."]}),"\n",(0,s.jsxs)(n.p,{children:["To get the token-specific geo-cascading settings, use the ",(0,s.jsx)(n.a,{href:"/documentation/pr-preview/pr-278/millicast/api/publish-token-v-1-read-token",children:"Read Token"})," REST API."]}),"\n",(0,s.jsx)(n.h2,{id:"default-account-token-settings",children:"Default Account Token Settings"}),"\n",(0,s.jsx)(n.p,{children:"You can enable and customize this feature by default for all new tokens or on a per-token basis. Any publishing token specific settings will take precedence."}),"\n",(0,s.jsx)(n.h3,{id:"using-the-dashboard-1",children:"Using the Dashboard"}),"\n",(0,s.jsx)(n.p,{children:"To define token defaults that are applied account-wide as a global configuration, log into the dashboard."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Select ",(0,s.jsx)(n.strong,{children:"Settings"})," from the left-side menu."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Select the ",(0,s.jsx)(n.strong,{children:"Default settings"})," tab."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Use the toggle to enable geo-cascading."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Select the preferred regions from the drop-down list. Not specifying any preferred regions results in the automatic selection of the most suitable cluster for each viewer. As streams will only cascade to additional clusters when viewers connect to those clusters, we recommend choosing ",(0,s.jsx)(n.strong,{children:"All"})," regions."]}),"\n"]}),"\n"]}),"\n","\n",(0,s.jsx)("div",{class:"center-container",children:(0,s.jsx)("img",{src:c,width:"500"})}),"\n",(0,s.jsx)(n.h3,{id:"using-the-rest-api-1",children:"Using the REST API"}),"\n",(0,s.jsxs)(n.p,{children:["To define token defaults that are applied account-wide as a global configuration, use the ",(0,s.jsx)(n.a,{href:"/documentation/pr-preview/pr-278/millicast/api/account-update-geo-cascade",children:"Update Account Geo Cascade Settings"})," REST API with the ",(0,s.jsx)(n.strong,{children:"isEnabled"})," parameter set to true. In the ",(0,s.jsx)(n.strong,{children:"clusters"})," parameter, provide the IDs of preferred regions. Not specifying any preferred regions results in the automatic selection of the most suitable cluster for each viewer. As streams will only cascade to additional clusters when viewers connect to those clusters, we recommend choosing ",(0,s.jsx)(n.strong,{children:"all"})," regions."]}),"\n",(0,s.jsxs)(n.p,{children:["To get the account-wide geo-cascading settings, use the ",(0,s.jsx)(n.a,{href:"/documentation/pr-preview/pr-278/millicast/api/account-get-geo-cascade",children:"Read Account Geo Cascade Settings"})," REST API."]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"understanding-costs-for-geo-cascading",children:"Understanding Costs for Geo-cascading"}),"\n",(0,s.jsx)(n.p,{children:"Pricing for plans is determined based on bandwidth consumption. This is calculated based on the number of bytes transmitted between the following components:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A broadcaster and the origin cluster"}),"\n",(0,s.jsx)(n.li,{children:"An origin cluster and any additional clusters where viewers are connected"}),"\n",(0,s.jsx)(n.li,{children:"A cluster and individual viewers"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"You typically can forecast costs as though each additional region is one additional viewer."})]})}function p(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}},50065:function(e,n,t){t.d(n,{Z:function(){return a},a:function(){return r}});var i=t(67294);let s={},o=i.createContext(s);function r(e){let n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);