"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["66313"],{384637(e,t,r){r.r(t),r.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var s=r(291337),n=r(474848),o=r(28453);let i={slug:"/flutter/guides/wasm_support"},l="WASM support (experimental)",a={},p=[{value:"Flutter Compatibility",id:"flutter-compatibility",level:2},{value:"Run or build your app",id:"run-or-build-your-app",level:2},{value:"Changes required in your app",id:"changes-required-in-your-app",level:2},{value:"Bootstrapping",id:"bootstrapping",level:3},{value:"Include THEOplayer WEB SDK as asset",id:"include-theoplayer-web-sdk-as-asset",level:3},{value:"Browser support",id:"browser-support",level:2},{value:"Host it on a compatible server",id:"host-it-on-a-compatible-server",level:2}];function d(e){let t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"wasm-support-experimental",children:"WASM support (experimental)"})}),"\n",(0,n.jsxs)(t.p,{children:["When compiling the THEOplayer Flutter SDK for WEB, you can now specify ",(0,n.jsx)(t.a,{href:"https://docs.flutter.dev/platform-integration/web/wasm",children:"WASM support"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"flutter-compatibility",children:"Flutter Compatibility"}),"\n",(0,n.jsxs)(t.p,{children:["Use ",(0,n.jsx)(t.strong,{children:"Flutter 3.35.3 or later"})," for the best performance and compatibility. (earlier versions could have rendering issues with the video element)"]}),"\n",(0,n.jsx)(t.h2,{id:"run-or-build-your-app",children:"Run or build your app"}),"\n",(0,n.jsxs)(t.p,{children:["To run the app with Wasm for development or testing, use the ",(0,n.jsx)(t.code,{children:"--wasm"})," flag with the ",(0,n.jsx)(t.code,{children:"flutter run"})," command."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"flutter run -d chrome --wasm\n"})}),"\n",(0,n.jsxs)(t.p,{children:["To build a web application with Wasm, add the ",(0,n.jsx)(t.code,{children:"--wasm"})," flag to the existing ",(0,n.jsx)(t.code,{children:"flutter build web"})," command."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"flutter build web --wasm\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The command produces output into the ",(0,n.jsx)(t.code,{children:"build/web"})," directory relative to the package root, just like ",(0,n.jsx)(t.code,{children:"flutter build web"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"changes-required-in-your-app",children:"Changes required in your app"}),"\n",(0,n.jsx)(t.h3,{id:"bootstrapping",children:"Bootstrapping"}),"\n",(0,n.jsxs)(t.p,{children:["Make sure your app's ",(0,n.jsx)(t.code,{children:"web/index.html"})," is updated to the ",(0,n.jsx)(t.a,{href:"https://docs.flutter.dev/platform-integration/web/initialization",children:"latest Flutter web app initialization"})," (it was introduced from Flutter 3.22)."]}),"\n",(0,n.jsxs)(t.p,{children:["It depends on your project structure, but most of the times this only means you need to make sure that ",(0,n.jsx)(t.code,{children:"flutter_bootstrap.js"})," is properly included in your ",(0,n.jsx)(t.code,{children:"index.html"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"include-theoplayer-web-sdk-as-asset",children:"Include THEOplayer WEB SDK as asset"}),"\n",(0,n.jsxs)(t.p,{children:["Define the path of the folder that contains THEOplayer Web SDK as an ",(0,n.jsx)(t.code,{children:"asset"})," in your ",(0,n.jsx)(t.code,{children:"pubspec.yaml"})," file to make sure the Javascript files will be included."]}),"\n",(0,n.jsxs)(t.p,{children:["For example, if the THEOplayer WEB SDK is located under ",(0,n.jsx)(t.code,{children:"web/theoplayer"}),", then"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-yaml",children:"  assets:\n    - web/theoplayer/\n"})}),"\n",(0,n.jsx)(t.h2,{id:"browser-support",children:"Browser support"}),"\n",(0,n.jsxs)(t.p,{children:["Not all browsers support the Flutter WASM renderer.\nPlease always check the status of the compatibility ",(0,n.jsx)(t.a,{href:"https://docs.flutter.dev/platform-integration/web/wasm#learn-more-about-browser-compatibility",children:"here"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"host-it-on-a-compatible-server",children:"Host it on a compatible server"}),"\n",(0,n.jsxs)(t.p,{children:["Extra ",(0,n.jsx)(t.a,{href:"https://docs.flutter.dev/platform-integration/web/wasm#serve-the-built-output-with-an-http-server",children:"configuration is needed"})," on the server-side to make sure WebAssembly runs properly."]}),"\n",(0,n.jsxs)(t.p,{children:["During debugging the ",(0,n.jsx)(t.code,{children:"flutter run -d chrome --wasm"})," command will serve your webapp properly, but once you build a release version and host it on your own server, you need to make sure the server is configured properly."]}),"\n",(0,n.jsxs)(t.p,{children:["For example don't expect that any basic web serving command e.g. (",(0,n.jsx)(t.code,{children:"python3 -m http.server 8000"}),") will just to run with WebAssembly support."]}),"\n",(0,n.jsxs)(t.p,{children:["On the other hand most of the hosting solutions (e.g. Netlify or ",(0,n.jsx)(t.a,{href:"https://app.netlify.com/drop",children:"Netlify Drop"}),") will have this configured out of the box."]}),"\n",(0,n.jsx)(t.p,{children:"Always consult with your hosting provider first!"})]})}function u(e={}){let{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453(e,t,r){r.d(t,{R:()=>i,x:()=>l});var s=r(296540);let n={},o=s.createContext(n);function i(e){let t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(o.Provider,{value:t},e.children)}},291337(e){e.exports=JSON.parse('{"id":"external/flutter-theoplayer-sdk/doc/wasm_support","title":"WASM support (experimental)","description":"When compiling the THEOplayer Flutter SDK for WEB, you can now specify WASM support.","source":"@site/theoplayer/external/flutter-theoplayer-sdk/doc/wasm_support.md","sourceDirName":"external/flutter-theoplayer-sdk/doc","slug":"/flutter/guides/wasm_support","permalink":"/documentation/pr-preview/pr-508/theoplayer/flutter/guides/wasm_support","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/flutter-theoplayer-sdk/blob/-/doc/wasm_support.md","tags":[],"version":"current","frontMatter":{"slug":"/flutter/guides/wasm_support"},"sidebar":"flutter","previous":{"title":"The THEOplayer component","permalink":"/documentation/pr-preview/pr-508/theoplayer/flutter/guides/theoplayer-component"},"next":{"title":"Changelog","permalink":"/documentation/pr-preview/pr-508/theoplayer/flutter/changelog"}}')}}]);