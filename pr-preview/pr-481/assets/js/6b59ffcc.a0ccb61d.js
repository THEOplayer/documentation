"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["8972"],{667617(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var o=t(694535),r=t(474848),i=t(28453);let s={sidebar_label:"Getting started",sidebar_custom_props:{icon:"\u{1F680}"}},a="Getting started with the Mux Connector for the Roku SDK",c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Integration",id:"integration",level:2}];function l(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"getting-started-with-the-mux-connector-for-the-roku-sdk",children:"Getting started with the Mux Connector for the Roku SDK"})}),"\n",(0,r.jsx)(n.p,{children:"Here's how to get started integrating the Mux Connector with the THEOplayer Roku SDK."}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"In order to set up the Mux Connector in your Roku application, you'll need the following:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Your Mux environment key"}),"\n",(0,r.jsxs)(n.li,{children:["An app with the THEOPlayer SDK for Roku already integrated, see our ",(0,r.jsx)(n.a,{href:"https://www.theoplayer.com/docs/theoplayer/getting-started/sdks/roku/getting-started/",children:"Getting Started guide"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integration",children:"Integration"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["First you must download the THEO Mux Connector as a component library. Add a ComponentLibrary node to your MainScene.brs file, giving it an id of ",(0,r.jsx)(n.code,{children:"THEOMuxConnector"})," and providing the URI for the THEOMuxConnector.pkg. Replace the ",(0,r.jsx)(n.code,{children:"{SDK_VERSION}"})," tag with the version of the THEO Roku SDK you're using. The earliest version of the connector is 10.8.0:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<ComponentLibrary id="THEOMuxConnector" uri="https://cdn.myth.theoplayer.com/roku/{SDK_VERSION}/THEOMuxConnector.pkg" />\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["Then in the Brightscript file for your MainScene, listen for the loading of the ComponentLibrary to complete by observing the ",(0,r.jsx)(n.code,{children:"loadStatus"})," field."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-brightscript",children:'sub Init()\n    THEOMuxNode = m.top.findNode("THEOMuxConnector")\n    THEOMuxNode.observeField("loadStatus", "onLibraryLoadStatusChanged")\nend sub\n\nsub onLibraryLoadStatusChanged(event as object)\n    THEOMuxNode = event.getROSGNode()\n\n    if THEOMuxNode = invalid\n        return\n    end if\n\n    if THEOMuxNode.loadStatus = "ready"\n		\' Success\n    else if THEOMuxNode.loadStatus = "failed"\n		? "Failed to load component library, please check URL. "; THEOMuxNode.uri\n	end if\nend sub\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Add the THEOMuxConnector component to the SceneGraph file where your THEOPlayer is defined."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<THEOsdk:THEOplayer id="THEOplayer" controls="true" />\n<THEOMuxConnector:THEOMuxConnector id="THEOMuxConnector" />\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"Then in the Brightscript file, configure the connector by calling the configure method, passing the player instance and your Mux configuration."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-brightscript",children:'m.player = m.top.findNode("THEOPlayer")\nm.muxConnector = m.top.findNode("THEOMuxConnector")\nmuxConfig = {\n    env_key: "<MY_MUX_ENV_KEY>",\n}\nm.muxConnector.callFunc("configure", m.player, muxConfig)\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:["Next, when you start playing the asset, call the ",(0,r.jsx)(n.code,{children:"startSession"})," method and pass it the metadata for the asset you're playing:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-brightscript",children:'m.player.source = sourceDescription\n\nmuxContentMetadata = {\n    video_id: "<MY_VIDEO_ID>",\n    video_title: "<MY_VIDEO_TITLE>"\n}\n\nm.muxConnector.callFunc("startSession", muxContentMetadata)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["There are more properties available to add to the metadata, but ",(0,r.jsx)(n.code,{children:"video_id"})," and ",(0,r.jsx)(n.code,{children:"video_title"})," are required. See ",(0,r.jsx)(n.a,{href:"https://www.mux.com/docs/guides/make-your-data-actionable-with-metadata#optional-configurable-metadata",children:"Mux's schema for streaming metadata"})," for more properties that are available for Mux."]}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsx)(n.li,{children:"If you are using the THEOplayer in a size other than fullscreen, before you start the session, you can set the presentation mode to reflect the different size. This is also referred to as the playback mode."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-brightscript",children:'m.muxConnector.callFunc("setPresentation", m.muxConnector.PRESENTATION_MODES.INLINE)\nm.muxConnector.callFunc("startSession", muxContentMetadata)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"setPresentation"})," method can also be called mid-session if the presentation mode changes during a session. The available presentation modes are ",(0,r.jsx)(n.code,{children:"FULLSCREEN"}),", ",(0,r.jsx)(n.code,{children:"INLINE"}),", ",(0,r.jsx)(n.code,{children:"MINI"}),", and ",(0,r.jsx)(n.code,{children:"PIP"}),"."]}),"\n",(0,r.jsxs)(n.ol,{start:"7",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["If you desire to monitor for CDN changes, you can optionally add a configuration for that to start monitoring.\n",(0,r.jsx)(n.code,{children:'m.muxConnector.callFunc("monitorCdnChanges", { mycdn: ["my-cdn.net"], theo: ["cdn.theoplayer.com"] })'})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["When the video has stopped playing because it ended or the user exited, end the Mux session.\n",(0,r.jsx)(n.code,{children:'m.muxConnector.callFunc("endSession")'})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"If you are exiting the player screen altogether, and destroying the player, make sure to destroy the connector at the same time, but before calling destroy on the player:"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-brightscript",children:'m.muxConnector.callFunc("destroy")\nm.muxConnector = invalid\n\nm.player.callFunc("destroy")\nm.player = invalid\n'})})]})}function u(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453(e,n,t){t.d(n,{R:()=>s,x:()=>a});var o=t(296540);let r={},i=o.createContext(r);function s(e){let n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:n},e.children)}},694535(e){e.exports=JSON.parse('{"id":"connectors/roku/mux/getting-started-mux-connector","title":"Getting started with the Mux Connector for the Roku SDK","description":"Here\'s how to get started integrating the Mux Connector with the THEOplayer Roku SDK.","source":"@site/theoplayer/connectors/roku/mux/01-getting-started-mux-connector.mdx","sourceDirName":"connectors/roku/mux","slug":"/connectors/roku/mux/getting-started-mux-connector","permalink":"/documentation/pr-preview/pr-481/theoplayer/connectors/roku/mux/getting-started-mux-connector","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/theoplayer/connectors/roku/mux/01-getting-started-mux-connector.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Getting started","sidebar_custom_props":{"icon":"\u{1F680}"}},"sidebar":"roku","previous":{"title":"Mux","permalink":"/documentation/pr-preview/pr-481/theoplayer/connectors/roku/mux"},"next":{"title":"API reference","permalink":"/documentation/pr-preview/pr-481/theoplayer/connectors/roku/mux/API-reference"}}')}}]);