"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["25753"],{69883:function(e,n,t){t.r(n),t.d(n,{default:()=>c,frontMatter:()=>i,metadata:()=>r,assets:()=>s,toc:()=>d,contentTitle:()=>l});var r=JSON.parse('{"id":"theolive-through-npm/extended-features/pre-roll-ads","title":"Pre-roll ads","description":"Available on npm v3.1.0 and up","source":"@site/theolive/theolive-through-npm/extended-features/pre-roll-ads.md","sourceDirName":"theolive-through-npm/extended-features","slug":"/theolive-through-npm/extended-features/pre-roll-ads","permalink":"/documentation/pr-preview/pr-221/theolive/theolive-through-npm/extended-features/pre-roll-ads","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/theolive/theolive-through-npm/extended-features/pre-roll-ads.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"theolive","previous":{"title":"Bad network mode","permalink":"/documentation/pr-preview/pr-221/theolive/theolive-through-npm/extended-features/bad-network-mode"},"next":{"title":"Using Postman with THEOlive","permalink":"/documentation/pr-preview/pr-221/theolive/guides/postman"}}'),a=t("85893"),o=t("50065");let i={sidebar_position:2},l="Pre-roll ads",s={},d=[{value:"Full example",id:"full-example",level:2}];function p(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"pre-roll-ads",children:"Pre-roll ads"})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:"Available on npm v3.1.0 and up"})}),"\n",(0,a.jsx)(n.p,{children:"It is now possible to play pre-roll ads with the THEOlive player using the Google IMA integration. First make sure the Google IMA SDK is loaded in your page:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<script type="text/javascript" src="//imasdk.googleapis.com/js/sdkloader/ima3.js"><\/script>\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Then you can load any channel and provide a ",(0,a.jsx)(n.code,{children:"AdsConfiguration"})," with a list of ads to play:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"player.loadChannel('<your-channel-id>', {\n  adsConfiguration: {\n    ads: [\n      {\n        source:\n          'https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_preroll_skippable&sz=640x480&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=',\n      },\n    ],\n  },\n});\n"})}),"\n",(0,a.jsx)(n.p,{children:"The THEOlive player should now play the list of pre-roll ads you provided just before the channel starts playing!"}),"\n",(0,a.jsx)(n.h2,{id:"full-example",children:"Full example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <title>Test page</title>\n    <script type="text/javascript" src="node_modules/@theolive/player/THEOLive.js"><\/script>\n    <style>\n      #player {\n        width: 80vw;\n        margin: auto;\n      }\n    </style>\n    <script type="text/javascript" src="//imasdk.googleapis.com/js/sdkloader/ima3.js"><\/script>\n  </head>\n  <body>\n    <h1>Testing</h1>\n    <button id="channel">Channel With pre-roll ad</button>\n    <div id="player"></div>\n\n    <script type="text/javascript">\n      if (THEOLive.requiresServiceWorker()) {\n        navigator.serviceWorker.register(\'THEOLive.sw.js\');\n      }\n      const player = new THEOLive.Player(document.getElementById(\'player\'));\n\n      document.getElementById(\'channel\').onclick = async function () {\n        await player.loadChannel(\'<your-channel-id>\', {\n          adsConfiguration: {\n            ads: [\n              {\n                source:\n                  \'https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_preroll_skippable&sz=640x480&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=\',\n              },\n            ],\n          },\n        });\n        player.play(); // not needed if your channel was configured for autoplay\n      };\n    <\/script>\n  </body>\n</html>\n'})})]})}function c(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},50065:function(e,n,t){t.d(n,{Z:function(){return l},a:function(){return i}});var r=t(67294);let a={},o=r.createContext(a);function i(e){let n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);