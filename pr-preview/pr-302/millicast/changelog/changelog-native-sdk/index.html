<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-millicast docs-version-current docs-doc-page docs-doc-id-changelog/changelog-native-sdk" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.0"><title data-rh=true>Native SDK Changes | Dolby OptiView Documentation</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=robots content="noindex, nofollow"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docs.optiview.dolby.com/documentation/pr-preview/pr-302/millicast/changelog/changelog-native-sdk/><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-millicast-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-millicast-current><meta data-rh=true property=og:title content="Native SDK Changes | Dolby OptiView Documentation"><meta data-rh=true name=description content="Updates to the Native SDK for Android, iOS, macOS, Linux, and Windows applications."><meta data-rh=true property=og:description content="Updates to the Native SDK for Android, iOS, macOS, Linux, and Windows applications."><link data-rh=true rel=icon href=/documentation/pr-preview/pr-302/img/favicon.ico><link data-rh=true rel=canonical href=https://docs.optiview.dolby.com/documentation/pr-preview/pr-302/millicast/changelog/changelog-native-sdk/><link data-rh=true rel=alternate href=https://docs.optiview.dolby.com/documentation/pr-preview/pr-302/millicast/changelog/changelog-native-sdk/ hreflang=en><link data-rh=true rel=alternate href=https://docs.optiview.dolby.com/documentation/pr-preview/pr-302/millicast/changelog/changelog-native-sdk/ hreflang=x-default><link data-rh=true rel=preconnect href=https://7HRS9V6FEL-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://docs.optiview.dolby.com/documentation/pr-preview/pr-302/millicast/","name":"Real-time Streaming","position":1},{"@type":"ListItem","item":"https://docs.optiview.dolby.com/documentation/pr-preview/pr-302/millicast/changelog","name":"Release Notes","position":2},{"@type":"ListItem","item":"https://docs.optiview.dolby.com/documentation/pr-preview/pr-302/millicast/changelog/changelog-native-sdk","name":"Native SDK","position":3}]}</script><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-VCRXHMHS4M"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-VCRXHMHS4M",{})</script><link rel=preconnect href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var d=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src="https://www.googletagmanager.com/gtm.js?id="+r+("dataLayer"!=n?"&l="+n:""),d.parentNode.insertBefore(g,d)}(window,document,"script","dataLayer","GTM-TVR6CV9")</script><link rel=search type=application/opensearchdescription+xml title="Dolby OptiView Documentation" href=/documentation/pr-preview/pr-302/opensearch.xml><link rel=stylesheet href=/documentation/pr-preview/pr-302/assets/css/styles.a3e28dc0.css><script src=/documentation/pr-preview/pr-302/assets/js/runtime~main.da64cddc.js defer></script><script src=/documentation/pr-preview/pr-302/assets/js/main.1ff7efe8.js defer></script><body class=navigation-with-keyboard><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TVR6CV9" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript>


<svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/documentation/pr-preview/pr-302/img/dolby-optiview-white.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style=background-color:#9cb9c9;color:#344a5e role=banner><div class="content_knG7 announcementBarContent_xLdY">This is a preview of the documentation website from <a target=_blank rel="noopener noreferrer" href=https://github.com/THEOplayer/documentation/pull/302>pull request #302</a>.</div></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/documentation/pr-preview/pr-302/><div class=navbar__logo><img src=/documentation/pr-preview/pr-302/img/dolby-optiview-white.svg alt="Dolby OptiView" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/documentation/pr-preview/pr-302/img/dolby-optiview-white.svg alt="Dolby OptiView" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup=true aria-expanded=false role=button class=navbar__link href=/documentation/pr-preview/pr-302/theoplayer/>Player</a><ul class=dropdown__menu><li><a class=dropdown__link href=/documentation/pr-preview/pr-302/theoplayer/>THEOplayer</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-302/open-video-ui/>Open Video UI</a></ul></div><a class="navbar__item navbar__link" href=/documentation/pr-preview/pr-302/theoads/>Ads</a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class="navbar__link dropdown--active">Streaming</a><ul class=dropdown__menu><li><a class=dropdown__link href=/documentation/pr-preview/pr-302/theolive/>Live (THEOlive)</a><li><a class=dropdown__link href=/documentation/pr-preview/pr-302/millicast/>Real-time (Millicast)</a></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/documentation/pr-preview/pr-302/millicast/>« Back</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/documentation/pr-preview/pr-302/millicast/changelog/>Release Notes</a><button aria-label="Collapse sidebar category 'Release Notes'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-302/millicast/changelog/changelog-dolbyio-platform-media-server/>Platform and Media Server</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-302/millicast/changelog/changelog-rest-apis/>REST APIs Changes</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-302/millicast/changelog/changelog-dolbyio-dashboard/>Dashboard Changes</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/documentation/pr-preview/pr-302/millicast/changelog/changelog-native-sdk/>Native SDK</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-302/millicast/changelog/changelog-web-platform/>Web SDK</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/documentation/pr-preview/pr-302/millicast/changelog/changelog-obs-webrtc/>OBS WebRTC</a></ul></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_xLCN"><div class=docItemContainer_jfFK><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/documentation/pr-preview/pr-302/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_xK9p><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/documentation/pr-preview/pr-302/millicast/><span>Real-time Streaming</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/documentation/pr-preview/pr-302/millicast/changelog/><span>Release Notes</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Native SDK</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><div class=row><div class="col col--12 markdown"><header><h1>Native SDK Changes</h1></header>
<p>Updates to the <a href=https://github.com/millicast/millicast-native-sdk target=_blank rel="noopener noreferrer">Native SDK</a> for Android, iOS, macOS, Linux, and Windows applications.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>Release History</div><div class=admonitionContent_BuS1><p>You can find the full history of previous releases with downloadable assets from the <a href=https://github.com/millicast/millicast-native-sdk/releases target=_blank rel="noopener noreferrer">millicast/millicast-native-sdk</a> repository.</div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-08-21--native-sdk-200>2024-08-21 | Native SDK <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v2.0.0 target=_blank rel="noopener noreferrer">2.0.0</a><a href=#2024-08-21--native-sdk-200 class=hash-link aria-label="Direct link to 2024-08-21--native-sdk-200" title="Direct link to 2024-08-21--native-sdk-200">​</a></h2>
<p>We've made some major changes including updates that greatly improve the experience of using the SDK but are no longer backward compatible.</p>
<p>To help transition your applications with these changes we've created migration guides that may be helpful:</p>
<ul>
<li><a href=/documentation/pr-preview/pr-302/millicast/playback/players-sdks/ios/sdk/sdk-migration-guide/>Migration Guide for iOS SDK</a></li>
<li><a href=/documentation/pr-preview/pr-302/millicast/playback/players-sdks/android/sdk/sdk-migration-guide/>Migration Guide for Android SDK</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=new-viewer-and-track-management>🆕<!-- --> Viewer and Track Management<a href=#new-viewer-and-track-management class=hash-link aria-label="Direct link to new-viewer-and-track-management" title="Direct link to new-viewer-and-track-management">​</a></h3>
<p>Changing the APIs related to projecting sources on the subscriber. Now, subscribers<br>
<!-- -->do not need to manage WebRTC remote tracks, project sources and manage their state.<br>
<!-- -->Subscribers now receive a notion of a remote track, which can either be audio/video<br>
<!-- -->and manage their own state. These tracks can be enabled with a renderer/view, query<br>
<!-- -->the source they belong to, receive events such as Activity status (Inactive/Active),<br>
<!-- -->layers (for video), etc.</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockTitle_OeMC>Kotlin/Android</div><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">subscriber</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">onRemoteTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">collect</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> track </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-></span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">track </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">is</span><span class="token plain"> RemoteVideoTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        track</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">enableAsync</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">videoSink</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre></div></div>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockTitle_OeMC>Swift/iOS</div><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> subscriber </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MCSubscriber</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// iOS views now take renderers in the initializer instead of tracks directly. Keep</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// a reference to the renderer so that the renderer can be attached to tracks to receive media.</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> renderer </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MCAcceleratedVideoRenderer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// or MCCMSampleBufferVideoRenderer</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Task</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">await</span><span class="token plain"> track </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> subscriber</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">rtsRemoteTrackAdded</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// Only use one renderer per video track.</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> videoTrack </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> track</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">asVideo</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">try</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">await</span><span class="token plain"> videoTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">enable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">renderer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">renderer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> audioTrack </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> track</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">asAudio</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">try</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">await</span><span class="token plain"> audioTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">enable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre></div></div>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">vector</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">millicast</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">EventConnectionPtr</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> handlers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">handlers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">push_back</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">viewer</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-></span><span class="token function" style="color:hsl(221, 87%, 60%)">add_event_handler</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> millicast</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">Viewer</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">RtsTrackAdded</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&</span><span class="token plain"> evt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">evt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">track</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">as_video</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">          evt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">track</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">as_video</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-></span><span class="token function" style="color:hsl(221, 87%, 60%)">enable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">track_manager</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">add_renderer</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">                         </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">on_result</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">          evt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">track</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">as_audio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-></span><span class="token function" style="color:hsl(221, 87%, 60%)">enable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">on_result</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<p>To see these APIs in practice, refer to the subscriber sample app which is included in the package.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=new-asynchronous-model>🆕<!-- --> Asynchronous Model<a href=#new-asynchronous-model class=hash-link aria-label="Direct link to new-asynchronous-model" title="Direct link to new-asynchronous-model">​</a></h3>
<p>The synchronous APIs have been fully removed on the publisher and subscriber. You can see this in action from the updated Getting Started guides.</p>
<p>Android / Kotlin</p>
<ul>
<li><a href=/documentation/pr-preview/pr-302/millicast/playback/players-sdks/android/sdk/getting-started-with-subscribing/>Getting Started with Subscribing</a></li>
<li><a href=/documentation/pr-preview/pr-302/millicast/playback/players-sdks/android/sdk/getting-started-with-publishing/>Getting Started with Publishing</a></li>
</ul>
<p>iOS / Swift</p>
<ul>
<li><a href=/documentation/pr-preview/pr-302/millicast/playback/players-sdks/ios/sdk/getting-started-with-subscribing/>Getting Started with Subscribing</a></li>
<li><a href=/documentation/pr-preview/pr-302/millicast/playback/players-sdks/ios/sdk/getting-started-with-publishing/>Getting Started with Publishing</a></li>
</ul>
<p>Desktop</p>
<ul>
<li><a href=/documentation/pr-preview/pr-302/millicast/playback/players-sdks/desktop/getting-started-with-subscribing/>Getting Started with Subscribing</a></li>
<li><a href=/documentation/pr-preview/pr-302/millicast/playback/players-sdks/desktop/getting-started-with-publishing/>Getting Started with Publishing</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=new-playout-delay>🆕<!-- --> Playout Delay<a href=#new-playout-delay class=hash-link aria-label="Direct link to new-playout-delay" title="Direct link to new-playout-delay">​</a></h3>
<p>To better manage tradeoffs with latency and quality, you can use the <code>ForcePlayoutDelay</code> to set a <strong>min</strong> and <strong>max</strong> buffer size.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">/**</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">   * @brief Structure describing playout delay to be enforced on the client.</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">   * https://webrtc.googlesource.com/src/+/refs/heads/main/docs/native-code/rtp-hdrext/playout-delay</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">   * Setting both of these values to 0,0 will ensure that there is no</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">   * playout delay added.</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">   */</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ForcePlayoutDelay</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> min</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)">/** The minimum playout delay desired. */</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> max</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)">/** The maximum playout delay desired. */</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">/**</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">   * @brief The playout delay to enforce on the client side.</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">   */</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">optional</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">ForcePlayoutDelay</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> force_playout_delay</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=-logging-and-stats>🆒 Logging and Stats<a href=#-logging-and-stats class=hash-link aria-label="Direct link to 🆒 Logging and Stats" title="Direct link to 🆒 Logging and Stats">​</a></h3>
<p>Improve logger so that when applications provide their own logging callback when using the set_logger function default logging to stderr will be disabled (unless force enabled by app):</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">MILLICAST_API </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">set_logger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">function</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&</span><span class="token plain"> component</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">                       </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&</span><span class="token plain"> msg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">                       LogLevel</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> f</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">vector</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">Logger</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">LogComponent</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token operator" style="color:hsl(221, 87%, 60%)">&&</span><span class="token plain"> components</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">bool</span><span class="token plain"> force_stderr_log </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<p>The logger method's have been removed. Only a method to set the logger callback remains, which is the one which also takes the component being logged in the lambda</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MCLoggerOSLog</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token base-clause class-name" style="color:hsl(35, 99%, 36%)">NSObject</span><span class="token base-clause punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token base-clause"> </span><span class="token base-clause class-name" style="color:hsl(35, 99%, 36%)">MCLoggerDelegate</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  func </span><span class="token function" style="color:hsl(221, 87%, 60%)">onLog</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">withMessage message</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> level</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> MCLogLevel</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">switch</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">level</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">case</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">LOG</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      Logger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">sdk</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">info</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"\(message)"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">break</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">case</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">DEBUG</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">VERBOSE</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      Logger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">sdk</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">debug</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"\(message)"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">break</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">case</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">WARNING</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      Logger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">sdk</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">warning</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"\(message)"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">break</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">case</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">ERROR</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      Logger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">sdk</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">error</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"\(message)"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">break</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">case</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">OFF</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">break</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre></div></div>
<p>Enrichments made to data that can be valuable for troubleshooting issues such as poor network conditions:</p>
<ul>
<li>Exposed stats information for: <a href=https://www.w3.org/TR/webrtc-stats/#dom-rtcinboundrtpstreamstats-freezecount target=_blank rel="noopener noreferrer">freeze_count</a> , <a href=https://www.w3.org/TR/webrtc-stats/#dom-rtcinboundrtpstreamstats-pausecount target=_blank rel="noopener noreferrer">pause_count</a>, <a href=https://www.w3.org/TR/webrtc-stats/#dom-rtcinboundrtpstreamstats-totalfreezesduration target=_blank rel="noopener noreferrer">total_freezes_duration</a> , and <a href=https://www.w3.org/TR/webrtc-stats/#dom-rtcinboundrtpstreamstats-totalpausesduration target=_blank rel="noopener noreferrer">total_pauses_duration</a>.</li>
<li>For debugging and analytic purposes the Stats object now contains StreamDetails vartiant which holds either StreamViewDetails/StreamPublishDetails based on if you are viewing/publishing a stream.<br>
<!-- -->The StreamViewDetails object contains strings describing stream ID, cluster ID, stream viewer ID, subscriber ID.<br>
<!-- -->The StreamPublishDetails object contains strings describing stream ID, cluster ID, uuid, feed ID, publisher ID.</li>
</ul>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockTitle_OeMC>Kotlin/Android</div><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">StreamPublishDetails</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> publisherId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> clusterId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> streamId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> feedId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> uuid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">StreamDetails</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">StreamViewDetails</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> subscriberId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> clusterId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> streamId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> streamViewId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">StreamDetails</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockTitle_OeMC>Swift/iOS</div><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token constant" style="color:hsl(35, 99%, 36%)">MILLICAST_API</span><span class="token plain"> </span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@interface</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MCStreamPublishDetails</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSObject</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> copy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSString</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> publisherId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> copy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSString</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> clusterId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> copy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSString</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> streamId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> copy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSString</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> feedId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> copy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSString</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> uuid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@end</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token constant" style="color:hsl(35, 99%, 36%)">MILLICAST_API</span><span class="token plain"> </span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@interface</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MCStreamViewDetails</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSObject</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> copy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSString</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> subscriberId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> copy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSString</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> clusterId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> copy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSString</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> streamId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> copy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSString</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> streamViewId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@end</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token constant" style="color:hsl(35, 99%, 36%)">MILLICAST_API</span><span class="token plain"> </span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@interface</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MCStreamDetails</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">NSObject</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MCStreamPublishDetails</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> _Nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> asPublishDetails</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MCStreamViewDetails</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> _Nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> asViewDetails</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token attribute atrule" style="color:hsl(35, 99%, 36%)">@end</span><br></span></code></pre></div></div>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MILLICAST_API</span><span class="token plain"> StreamViewDetails </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string stream_view_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string subscriber_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string cluster_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string stream_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MILLICAST_API</span><span class="token plain"> StreamPublishDetails </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string uuid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string feed_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string publisher_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string cluster_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string stream_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">using</span><span class="token plain"> StreamDetails </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">variant</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">StreamViewDetails</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> StreamPublishDetails</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=additional-updates>Additional Updates<a href=#additional-updates class=hash-link aria-label="Direct link to Additional Updates" title="Direct link to Additional Updates">​</a></h3>
<p><strong>General</strong></p>
<ul>
<li>Fixed an issue where an H.264 stream encoded with zero latency and sliced-threads options enabled would have artifacts in the decoded frames when packet loss would occur.</li>
<li>For H.264 decoders update support for missing HIGH profiles and 1080p.</li>
<li>Fix C++ publisher sample app crash when not providing credentials.</li>
<li>Fixing stability of the C++ AudioCapturer.</li>
<li>Introduce RTCIceCandidatePair statistics in the stats report.</li>
</ul>
<p><strong>Android</strong></p>
<ul>
<li>Improved Android SDK playback experience following simulcast layer switches.<!-- -->
<ul>
<li>Fixed extended freeze of frame during the switch between simulcast layers, especially prevelant during frequent switchines.<!-- -->
<ul>
<li>Greatly reduced the number of freezes when packet loss experienced.</li>
</ul>
</li>
</ul>
</li>
<li>Improved Android SDK playback in constrained bandwidth scenarios.</li>
<li>Added multiple MCCMSampleBufferVideoRendererDelegate to MCCMSampleBufferVideoRenderer<!-- -->
<ul>
<li>Supports multiple MCSampleBufferVideoUIView to use a same renderer object</li>
</ul>
</li>
<li>Fix crash related to JNI layer overflow when reporting statistics</li>
<li>Fixing frameWidth, frameHeight and timestamp stats values being incorrect.</li>
</ul>
<p><strong>Apple / iOS</strong></p>
<ul>
<li>Fix jagged lines that occur when using the Metal video renderer (Apple platforms)</li>
<li>On MacOS platforms the SDK will check for microphone/camera/screen-share permissions.<!-- -->
<ul>
<li>It will also request permissions if not previously requested.</li>
</ul>
</li>
<li>Improve certain public API naming in ObjC/Swift APIs.</li>
<li>Added layer event members target fps/height/width/bitrate.</li>
<li>Obj-C enums are changed to utilise NS_ENUM rather than being global C based<br>
<!-- -->enums</li>
<li>Removing OpenGL as an option in favor of using Metal.</li>
<li>Enabling the Metal Video renderer on macOS. Now,</li>
<li>MCIosVideoRenderer has been renamed to MCAcceleratedVideoRenderer and the corresponding<br>
<!-- -->header files ios_renderer.h to accelerated_video_renderer.h</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-04-25--native-sdk-184>2024-04-25 | Native SDK <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.8.4 target=_blank rel="noopener noreferrer">1.8.4</a><a href=#2024-04-25--native-sdk-184 class=hash-link aria-label="Direct link to 2024-04-25--native-sdk-184" title="Direct link to 2024-04-25--native-sdk-184">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes>Fixes<a href=#fixes class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>Fixed a bug where invalid metadata information was placed when creating debian packages. The <code>Architecture</code> field would always default to amd64. This caused issues when unpacking the <code>debian11-armv8a</code> packages.</li>
<li>Introduced a new method to ObjC SDK to allow setting the log levels for the Sdk/Webrtc/Websocket components</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">+ (void)setLogLevelWithSdk:(MCLogLevel)sdkLogLevel</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">                    Webrtc:(MCLogLevel)webrtcLogLevel</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">                 Websocket:(MCLogLevel)websocketLogLevel;</span><br></span></code></pre></div></div>
<ul>
<li>Added auto collection of WebRTC logs in ObjC SDK. This is inline with what was done for Android in the <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.8.2 target=_blank rel="noopener noreferrer">1.8.2</a> release.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-04-18---175-and-183>2024-04-18 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.7.5 target=_blank rel="noopener noreferrer">1.7.5</a> and <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.8.3 target=_blank rel="noopener noreferrer">1.8.3</a><a href=#2024-04-18---175-and-183 class=hash-link aria-label="Direct link to 2024-04-18---175-and-183" title="Direct link to 2024-04-18---175-and-183">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-1>Fixes<a href=#fixes-1 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>
<p>Fixed a crash in the Objective C SDK caused by calling the <a href=https://millicast.github.io/doc/latest/cpp/protocol_m_c_video_frame-p.html#aef4bd364903f2b7b78fcb7d3c4b47168 target=_blank rel="noopener noreferrer">frameType</a> method, which resulted in the <strong>NSInvalidArgumentException</strong> exception.</p>
</li>
<li>
<p>Introduced a new <strong>Native</strong> video type (<a href=https://millicast.github.io/doc/latest/cpp/namespacemillicast.html#a3e878ddbbd034e20ba1b96575ac0fd2a target=_blank rel="noopener noreferrer">Desktop</a>, <a href=https://millicast.github.io/doc/latest/cpp/objc_2_millicast_s_d_k_2capabilities_8h.html#ac37bb3c55eced5c69ad84759f23e6c90 target=_blank rel="noopener noreferrer">Apple</a>, <a href=https://millicast.github.io/doc/latest/android/android/com.millicast.utils/-video-type/index.html target=_blank rel="noopener noreferrer">Android</a>) to describe the native frames.</p>
</li>
<li>
<p>Fixed an issue where VideoType incorrectly returned the <strong>Unknown</strong> type.</p>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-04-12---182>2024-04-12 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.8.2 target=_blank rel="noopener noreferrer">1.8.2</a><a href=#2024-04-12---182 class=hash-link aria-label="Direct link to 2024-04-12---182" title="Direct link to 2024-04-12---182">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=features>Features<a href=#features class=hash-link aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<p>Introduced a new API for setting logger callbacks. The API accepts the components for which log callbacks are desired to be received.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">/**</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * @brief The LogComponent enum describes which components are possible to</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * receive logs from in the log callback.</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> */</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">enum</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">LogComponent</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> SDK</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> WEBRTC</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> WEBSOCKET </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">/**</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * @brief Sets the object that will receive the logs from the SDK.</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * @param f The logger object with first parameter being the description of the</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * component the log came from, the second being the message itself, and</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * the log level.</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * @param components A vector containing the list of components you would like</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * to receive log callbacks for.</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> */</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">MILLICAST_API </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">set_logger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">function</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&</span><span class="token plain"> component</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">                     </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&</span><span class="token plain"> msg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">                     LogLevel</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> f</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">vector</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">Logger</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">LogComponent</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token operator" style="color:hsl(221, 87%, 60%)">&&</span><span class="token plain"> components</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-2>Fixes<a href=#fixes-2 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>Fixed an issue on Android where decoding H.264 Simulcast streams would result in low frame rates after layer changes.</li>
<li>Fixed an issue where applications that set logger callback would not receive logs from WebRTC. The issue was fixed by introducing a new C++ API, as described in the features section.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-04-04---181>2024-04-04 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.8.1 target=_blank rel="noopener noreferrer">1.8.1</a><a href=#2024-04-04---181 class=hash-link aria-label="Direct link to 2024-04-04---181" title="Direct link to 2024-04-04---181">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-3>Fixes<a href=#fixes-3 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<p>Fixed an issue on Android where calling the <a href="https://millicast.github.io/doc/latest/android/android/com.millicast/-client/connect.html?query=suspend%20fun%20connect(connectionOptions:%20ConnectionOptions?%20=%20null):%20Boolean" target=_blank rel="noopener noreferrer">connect</a> method on a non-live stream led to unresolved asynchronous operations and hanging the Subscriber until the stream went live, which resulted in blocking subsequent calls to <a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-client/disconnect.html target=_blank rel="noopener noreferrer">disconnect</a>. The fix maintains the necessity of calling <a href="https://millicast.github.io/doc/latest/android/android/com.millicast/-subscriber/subscribe.html?query=suspend%20fun%20subscribe(options:%20Option%20=%20Option())" target=_blank rel="noopener noreferrer">subscribe</a> after connecting and receiving the SubscriberConnectionState.Connected event.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-03-20---180>2024-03-20 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.8.0 target=_blank rel="noopener noreferrer">1.8.0</a><a href=#2024-03-20---180 class=hash-link aria-label="Direct link to 2024-03-20---180" title="Direct link to 2024-03-20---180">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=features-1>Features<a href=#features-1 class=hash-link aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<ul>
<li>Introduced a new asynchronous API for all Apple platforms, such as iOS, tvOS, and macOS. This change impacts the way of publishing streams. For more information, see the updated <a href=/documentation/pr-preview/pr-302/millicast/playback/players-sdks/ios/sdk/>Getting Started</a> document.</li>
<li>Enabled the use of Simulcast and Scalable Video Coding (SVC) at the same time when using the VP8 codec.</li>
<li>Reduced the package size of the Android SDK by removing unused NDI library. The total <code>aar</code> size is reduced by 7.1 MB. Approximate per-architecture reductions in size:<!-- -->
<ul>
<li><code>x86_64</code>: 2.9 MB, the total <code>aar</code> size is 6.5 MB</li>
<li><code>x86</code>: 1.5 MB, the total <code>aar</code> size is 6.4 MB</li>
<li><code>arm64-v8a</code>: 1.3 MB, the total <code>aar</code> size is 5.7 MB</li>
<li><code>armeabi-v7a</code>: 1.4 MB, the total <code>aar</code> size is 4.7 MB</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-4>Fixes<a href=#fixes-4 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>Fixed an issue that blocked applications from enabling SVC when using the AV1 codec. Now applications can use either VP8 with Simulcast and SVC or AV1 with SVC.</li>
<li>Fixed an issue where elements were unnecessarily prefixed <code>video/</code> or <code>audio/</code> in the active event's tracks on the subscriber.</li>
<li>Fixed the generation of audio and video source statistics.</li>
<li>Improved stability.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=breaking-changes>Breaking changes<a href=#breaking-changes class=hash-link aria-label="Direct link to Breaking changes" title="Direct link to Breaking changes">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=android>Android<a href=#android class=hash-link aria-label="Direct link to Android" title="Direct link to Android">​</a></h5>
<ul>
<li>Separated the Subscriber/Publisher connection <code>com.millicast.clients.state.ConnectionState</code> states into <code>com.millicast.subscribers.state.SubscriberConnectionState</code> and <code>com.millicast.publishers.state.PublisherConnectionState</code>. These two state classes now contain the full life cycle.</li>
<li>Removed the NDI library, which means that there are no more NDI references in the Android SDK.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=apple-platforms>Apple platforms<a href=#apple-platforms class=hash-link aria-label="Direct link to Apple platforms" title="Direct link to Apple platforms">​</a></h5>
<p>The new asynchronous API replaced the previous synchronous one, which impacts the way of publishing streams. For more information, see the updated <a href=/documentation/pr-preview/pr-302/millicast/playback/players-sdks/ios/sdk/>Getting Started</a> document.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-03-18---180-beta1>2024-03-18 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.8.0-beta.1 target=_blank rel="noopener noreferrer">1.8.0-beta.1</a><a href=#2024-03-18---180-beta1 class=hash-link aria-label="Direct link to 2024-03-18---180-beta1" title="Direct link to 2024-03-18---180-beta1">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=features-2>Features<a href=#features-2 class=hash-link aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<ul>
<li>Introduced a new asynchronous API for all Apple platforms, such as iOS, tvOS, and macOS. This change impacts the way of publishing streams.</li>
<li>Enabled the use of Simulcast and Scalable Video Coding (SVC) at the same time when using the VP8 codec.</li>
<li>Reduced the package size of the Android SDK by removing unused NDI library. The total <code>aar</code> size is reduced by 7.1 MB. Approximate per-architecture reductions in size:<!-- -->
<ul>
<li><code>x86_64</code>: 2.9 MB</li>
<li><code>x86</code>: 1.5 MB</li>
<li><code>arm64-v8a</code>: 1.3 MB</li>
<li><code>armeabi-v7a</code>: 1.4 MB</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-5>Fixes<a href=#fixes-5 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>Fixed an issue that blocked applications from enabling SVC when using the AV1 codec. Now applications can use either VP8 with Simulcast and SVC or AV1 with SVC.</li>
<li>Fixed an issue where elements were unnecessarily prefixed <code>video/</code> or <code>audio/</code> in the active event's tracks on the subscriber.</li>
<li>Fixed the generation of audio and video source statistics.</li>
<li>Improved stability.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=breaking-changes-1>Breaking changes<a href=#breaking-changes-1 class=hash-link aria-label="Direct link to Breaking changes" title="Direct link to Breaking changes">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=android-1>Android<a href=#android-1 class=hash-link aria-label="Direct link to Android" title="Direct link to Android">​</a></h5>
<ul>
<li>Separated the Subscriber/Publisher connection <code>com.millicast.clients.state.ConnectionState</code> states into <code>com.millicast.subscribers.state.SubscriberConnectionState</code> and <code>com.millicast.publishers.state.PublisherConnectionState</code>. These two state classes now contain the full life cycle.</li>
<li>Removed the NDI library for Android, this means that there are no more NDI references in the Android SDK.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=apple-platforms-1>Apple platforms<a href=#apple-platforms-1 class=hash-link aria-label="Direct link to Apple platforms" title="Direct link to Apple platforms">​</a></h5>
<p>The new asynchronous API replaced the previous synchronous one.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-03-15---180-alpha2>2024-03-15 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.8.0-alpha.2 target=_blank rel="noopener noreferrer">1.8.0-alpha.2</a><a href=#2024-03-15---180-alpha2 class=hash-link aria-label="Direct link to 2024-03-15---180-alpha2" title="Direct link to 2024-03-15---180-alpha2">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=features-3>Features<a href=#features-3 class=hash-link aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<ul>
<li>Introduced a new asynchronous API for all Apple platforms, such as iOS, tvOS, and macOS. This change impacts the way of publishing streams.</li>
<li>Enabled the use of Simulcast and Scalable Video Coding (SVC) at the same time when using the VP8 codec.</li>
<li>Reduced the package size of the Android SDK by removing unused NDI library. The total <code>aar</code> size is reduced by 7.1 MB. Approximate per-architecture reductions in size:<!-- -->
<ul>
<li><code>x86_64</code>: 2.9 MB</li>
<li><code>x86</code>: 1.5 MB</li>
<li><code>arm64-v8a</code>: 1.3 MB</li>
<li><code>armeabi-v7a</code>: 1.4 MB</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-6>Fixes<a href=#fixes-6 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>Fixed an issue that blocked applications from enabling SVC when using the AV1 codec. Now applications can use either VP8 with Simulcast and SVC or AV1 with SVC.</li>
<li>Fixed an issue where elements were unnecessarily prefixed <code>video/</code> or <code>audio/</code> in the active event's tracks on the subscriber.</li>
<li>Fixed the generation of audio and video source statistics.</li>
<li>Improved stability.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=breaking-changes-2>Breaking changes<a href=#breaking-changes-2 class=hash-link aria-label="Direct link to Breaking changes" title="Direct link to Breaking changes">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=android-2>Android<a href=#android-2 class=hash-link aria-label="Direct link to Android" title="Direct link to Android">​</a></h5>
<ul>
<li>Separated the Subscriber/Publisher connection <code>com.millicast.clients.state.ConnectionState</code> states into <code>com.millicast.subscribers.state.SubscriberConnectionState</code> and <code>com.millicast.publishers.state.PublisherConnectionState</code>. These two state classes now contain the full life cycle.</li>
<li>Removed the NDI library for Android, this means that there are no more NDI references in the Android SDK.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=objective-cswift-sdk>Objective C/Swift SDK<a href=#objective-cswift-sdk class=hash-link aria-label="Direct link to Objective C/Swift SDK" title="Direct link to Objective C/Swift SDK">​</a></h5>
<p>The new asynchronous API replaced the previous synchronous one.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-03-14---180-alpha1>2024-03-14 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.8.0-alpha.1 target=_blank rel="noopener noreferrer">1.8.0-alpha.1</a><a href=#2024-03-14---180-alpha1 class=hash-link aria-label="Direct link to 2024-03-14---180-alpha1" title="Direct link to 2024-03-14---180-alpha1">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=features-4>Features<a href=#features-4 class=hash-link aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<ul>
<li>Introduced a new asynchronous API for all Apple platforms, such as iOS, tvOS, and macOS. This change impacts the way of publishing streams.</li>
<li>Enabled the use of Simulcast and Scalable Video Coding (SVC) at the same time when using the VP8 codec.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-7>Fixes<a href=#fixes-7 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>Fixed an issue that blocked applications from enabling SVC when using the AV1 codec. Now applications can use either VP8 with Simulcast and SVC or AV1 with SVC.</li>
<li>Fixed the generation of audio and video source statistics.</li>
<li>Improved stability.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-03-14---174>2024-03-14 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.7.4 target=_blank rel="noopener noreferrer">1.7.4</a><a href=#2024-03-14---174 class=hash-link aria-label="Direct link to 2024-03-14---174" title="Direct link to 2024-03-14---174">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-8>Fixes<a href=#fixes-8 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<p>Fixed a string conversion issue that affected UTF-formatted strings on Android.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-02-28---173>2024-02-28 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.7.3 target=_blank rel="noopener noreferrer">1.7.3</a><a href=#2024-02-28---173 class=hash-link aria-label="Direct link to 2024-02-28---173" title="Direct link to 2024-02-28---173">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-9>Fixes<a href=#fixes-9 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=general>General<a href=#general class=hash-link aria-label="Direct link to General" title="Direct link to General">​</a></h5>
<ul>
<li>Fixed a race condition when rendering video tracks.</li>
<li>Fixed a race condition inside the NDI Video Renderer implementation.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=android-3>Android<a href=#android-3 class=hash-link aria-label="Direct link to Android" title="Direct link to Android">​</a></h5>
<ul>
<li>Fixed an issue with an internal queue that could cause inconsistencies.</li>
<li>Improved the <a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-client/is-connected.html target=_blank rel="noopener noreferrer">isConnected</a>, <a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-subscriber/is-subscribed.html target=_blank rel="noopener noreferrer">isSubscribed</a>, and <a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-publisher/is-publishing.html target=_blank rel="noopener noreferrer">isPublishing</a> method to prevent blocking.</li>
<li>Fixed the missing reset for the subscriber's and publisher's state.</li>
<li>Modified the <a href=https://millicast.github.io/doc/latest/android/android/com.millicast.devices.source/-source/release.html target=_blank rel="noopener noreferrer">release</a> function to prevent suspending it.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-02-14---172>2024-02-14 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.7.2 target=_blank rel="noopener noreferrer">1.7.2</a><a href=#2024-02-14---172 class=hash-link aria-label="Direct link to 2024-02-14---172" title="Direct link to 2024-02-14---172">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-10>Fixes<a href=#fixes-10 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>Fixed an issue causing a crash when using video rendering on Windows.</li>
<li>Fixed incorrect Android stats generation.</li>
<li>Fixed an issue related to the absence of the optional <code>android.hardware.microphone</code> requirement.</li>
<li>Fixed an issue where a disconnection did not flush the Subscriber's state object on Android.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=changes>Changes<a href=#changes class=hash-link aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h4>
<p>Introduced the <code>addRemoteTrackForResult</code> Android API to improve the management of the subscriber's tracks. The API is similar to <a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-subscriber/add-remote-track.html target=_blank rel="noopener noreferrer">addRemoteTrack</a> but it returns a <code>TrackHolder</code> directly. The subscriber's <a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-subscriber/state.html target=_blank rel="noopener noreferrer">state</a> now contains a list of tracks, their activity, and the existing flow.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-02-09---171>2024-02-09 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.7.1 target=_blank rel="noopener noreferrer">1.7.1</a><a href=#2024-02-09---171 class=hash-link aria-label="Direct link to 2024-02-09---171" title="Direct link to 2024-02-09---171">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-11>Fixes<a href=#fixes-11 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<p>Fixed a race condition leading to a crash on Linux after stopping video capture.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-02-08---170>2024-02-08 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.7.0 target=_blank rel="noopener noreferrer">1.7.0</a><a href=#2024-02-08---170 class=hash-link aria-label="Direct link to 2024-02-08---170" title="Direct link to 2024-02-08---170">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=features-5>Features<a href=#features-5 class=hash-link aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<ul>
<li>Refactored the Android SDK to introduce the following changes:<!-- -->
<ul>
<li>Prioritization of the Kotlin implementation to make Kotlin the primary language for developing and interacting with the Android SDK.</li>
<li>Key instantiation for classes instead of builders to streamline the codebase for greater clarity and conciseness.</li>
<li>A coroutine-based implementation for both Subscriber and Publisher calls that enhances the SDK's responsiveness and efficiency.</li>
<li>A flow-based eventing system that is useful for handling and reacting to events.</li>
</ul>
</li>
<li>Introduced macOS and iOS support for H.265.</li>
<li>Introduced <strong>GNU libstdc++</strong> versions of the SDK for the proper Ubuntu compatibility.</li>
<li>Introduced the <strong>debian11-armv8a</strong> version of the SDK with no X11 and PulseAudio dependencies, which is useful for publishing from ARM64 Linux boards.</li>
<li>Added the H.264 hardware encoding support for Raspberry Pi3b+/4/5 boards with the <strong>debian11-armv8a</strong> package.</li>
<li>Improved the <a href=https://millicast.github.io/doc/latest/cpp/structmillicast_1_1_viewer_listener.html#ada345cbb1f379fc37b1a5bbbf13e33e4 target=_blank rel="noopener noreferrer">on_layers</a> event and the respective <a href=https://millicast.github.io/doc/latest/cpp/structmillicast_1_1_viewer_layer_data.html target=_blank rel="noopener noreferrer">ViewerLayerData</a> structure to include fields for the <code>resolution</code> of the layer.</li>
<li>Upgraded the WebRTC version to 118.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-12>Fixes<a href=#fixes-12 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>Introduced Simulcast publishing support for macOS and iOS platforms.</li>
<li>Fixed JNI-related issues on Android.</li>
<li>Fixed an issue that prevented using the SDK on iOS or tvOS simulators.</li>
<li>Introduced stability improvements.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=changes-1>Changes<a href=#changes-1 class=hash-link aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h4>
<ul>
<li>The SDK now links FFmpeg dynamically on Linux and Windows. The SDK package provides a dynamic FFmpeg library.</li>
<li>Created macOS universal framework.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=breaking-changes-3>Breaking Changes<a href=#breaking-changes-3 class=hash-link aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">​</a></h4>
<p>This release introduces several braking changes and requires familiarizing with the following chapters.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=new-signature-of-the-on_layers-event>New signature of the on_layers event<a href=#new-signature-of-the-on_layers-event class=hash-link aria-label="Direct link to New signature of the on_layers event" title="Direct link to New signature of the on_layers event">​</a></h5>
<p>The <a href=https://millicast.github.io/doc/latest/cpp/structmillicast_1_1_viewer_listener.html#ada345cbb1f379fc37b1a5bbbf13e33e4 target=_blank rel="noopener noreferrer">on_layers</a> event has a new signature to accept an array of strings for the inactive layers. The following code presents the current signature of the callback:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">on_layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&</span><span class="token plain"> mid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">vector</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">ViewerLayerData</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token operator" style="color:hsl(221, 87%, 60%)">&</span><span class="token plain"> active_layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">vector</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token operator" style="color:hsl(221, 87%, 60%)">&</span><span class="token plain"> inactive_layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<p>This change is propagated to the iOS layer. The following example presents the current signature of the callback for the Objective C SDK:</p>
<div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> onLayers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonnull NSString</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> mid activeLayers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonnull NSArray</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">MCLayerData</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> activeLayers inactiveLayers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonnull NSArray</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">NSString</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> inactiveLayers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<p>The Kotlin SDK is also impacted by this modification and requires applications to listen for the Subscriber's layers <code>Flow&lt;Layers></code>:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">subscriber</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">collect</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> layers </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-></span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// manage the layers object here</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre></div></div>
<p>The following code presents the current signature for the SDK:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">Layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> mid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> activeLayers</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Array</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">LayerData</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> inactiveLayersEncodingIds</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Array</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=modified-values-of-the-viewerlayerdata-structure>Modified values of the ViewerLayerData structure<a href=#modified-values-of-the-viewerlayerdata-structure class=hash-link aria-label="Direct link to Modified values of the ViewerLayerData structure" title="Direct link to Modified values of the ViewerLayerData structure">​</a></h5>
<p>Values of the <a href=https://millicast.github.io/doc/latest/cpp/structmillicast_1_1_viewer_layer_data.html target=_blank rel="noopener noreferrer">ViewerLayerData</a> structure that may not be present for a layer, such as spatial ID or temporal ID, are now optional. The following example presents the new signature of the structure:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ViewerLayerData</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Resolution</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> width</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> height</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string encoding_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> bitrate </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">optional</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> temporal_layer_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">optional</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> spatial_layer_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">optional</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">Resolution</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> layer_resolution</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">optional</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> max_temporal_layer_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">optional</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> max_spatial_layer_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<p>This change is propagated to the iOS layer. The current <a href=https://millicast.github.io/doc/latest/cpp/interface_m_c_layer_data.html target=_blank rel="noopener noreferrer">MCLayerData</a> structure in the Objective C SDK is presented in the following example:</p>
<div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">@interface</span><span class="token plain"> MCLayerResolution </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> NSObject</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> height</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> width</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@end</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">MILLICAST_API </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@interface</span><span class="token plain"> MCLayerData </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> NSObject</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> strong</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nonnull</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> NSString</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> encodingId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> bitrate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> NSNumber </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain">spatialLayerId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> NSNumber </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain">temporalLayerId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> NSNumber </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain">maxTemporalLayerId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> NSNumber </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain">maxSpatialLayerId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> MCLayerResolution</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> layerResolution</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@end</span><br></span></code></pre></div></div>
<p>This change also impacts the Kotlin implementation. The following example presents the new signature of the structure:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">LayerResolution</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> width</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> height</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">LayerData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> encodingId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> bitrate</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> temporalLayerId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> spatialLayerId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> maxSpatialLayerId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> maxTemporalLayerId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> resolution</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> LayerResolution</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=modified-kotlin-implementation>Modified Kotlin implementation<a href=#modified-kotlin-implementation class=hash-link aria-label="Direct link to Modified Kotlin implementation" title="Direct link to Modified Kotlin implementation">​</a></h5>
<p>In the Kotlin implementation, the <strong>getStats</strong> method is now removed in favor of <a href="https://millicast.github.io/doc/latest/android/android/com.millicast/-client/enable-stats.html?query=suspend%20fun%20enableStats(enabled:%20Boolean)" target=_blank rel="noopener noreferrer">enableStats</a>, which emits reports asynchronously via the corresponding SharedFlow.</p>
<p>Using the Kotlin SDK to create a Publisher or Subscriber now requires calling the Core class implementation, as in the following example:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">Core</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">createPublisher</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">Core</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">createSubscriber</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<p>Additionally, the SDK now provides an asynchronous implementation, so to consume the Subscriber and Publisher features, perform coroutines.</p>
<p>The Listener implementation is now removed and replaced with SharedFlow, which is now provided by both main classes. For the Subscriber class, several new SharedFlow events have been introduced:</p>
<ul>
<li><a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-subscriber/state.html target=_blank rel="noopener noreferrer">state</a>: Provides information about the state of the subscriber.</li>
<li><a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-subscriber/signaling-error.html target=_blank rel="noopener noreferrer">signalingError</a>: Provides all propagated errors.</li>
<li><a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-subscriber/rtc-stats-report.html target=_blank rel="noopener noreferrer">rtcStatsReport</a>: Provides WebRTC statistics when stats reporting is enabled. The statistics report provides the Stats object based on a Sealed class. Using a <code>when</code> statement helps find various statistics.</li>
<li><a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-subscriber/track.html target=_blank rel="noopener noreferrer">track</a>: Provides all audio and video track events, including the track itself and its associated Media ID identifier.</li>
<li><a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-subscriber/activity.html target=_blank rel="noopener noreferrer">activity</a>: Provides information about the active and inactive states of the subscriber's activity.</li>
<li><a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-subscriber/layers.html target=_blank rel="noopener noreferrer">layers</a>: Corresponds to all layers events, providing information about the layers associated with the subscriber.</li>
<li><a href=https://millicast.github.io/doc/latest/android/android/com.millicast/-subscriber/vad.html target=_blank rel="noopener noreferrer">vad</a>: Provides voice activity events.</li>
</ul>
<p>For more information on SharedFlow, see the following example:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">SubscriberState</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> connectionState</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> ConnectionState </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> ConnectionState</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">Default</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> subscriptionState</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> SubscriptionState </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> SubscriptionState</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">Default</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> viewers</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">sealed</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">TrackHolder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> mid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> track</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Track</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">AudioTrackHolder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        mid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> audioTrack</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> AudioTrack</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">TrackHolder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">mid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> audioTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">VideoTrackHolder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        mid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> videoTrack</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> VideoTrack</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">TrackHolder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">mid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> videoTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">sealed</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> ActivityStream </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">Active</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> streamId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> track</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Array</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> sourceId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">ActivityStream</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">Inactive</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> streamId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> sourceId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">ActivityStream</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">Layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> mid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> activeLayers</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Array</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">LayerData</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> inactiveLayersEncodingIds</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Array</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=the-auto-reconnect-property-removal>The auto reconnect property removal<a href=#the-auto-reconnect-property-removal class=hash-link aria-label="Direct link to The auto reconnect property removal" title="Direct link to The auto reconnect property removal">​</a></h5>
<p>The auto reconnect property is removed from publisher and subscriber options in favour of using connection options. Use <strong>ConnectionOptions</strong> to set the <strong>autoReconnect</strong> (<a href="https://millicast.github.io/doc/latest/android/android/com.millicast.clients/-connection-options/auto-reconnect.html?query=val%20autoReconnect:%20Boolean" target=_blank rel="noopener noreferrer">Android</a>, <a href=https://millicast.github.io/doc/latest/cpp/interface_m_c_connection_options.html#af9e0ed6b2affd725634db6d158ea7ab3 target=_blank rel="noopener noreferrer">iOS</a>, <a href=https://millicast.github.io/doc/latest/cpp/structmillicast_1_1_client_connection_options.html#a78e72d74ccdbb7df4e85725a067b83e1 target=_blank rel="noopener noreferrer">Desktop</a>) property:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">//file: millicast-sdk/client.h</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MILLICAST_API</span><span class="token plain"> ClientConnectionOptions </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">bool</span><span class="token plain"> auto_reconnect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">//file: MillicastSDK/client.h</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">MILLICAST_API </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@interface</span><span class="token plain"> MCConnectionOptions</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> NSObject</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> BOOL autoReconnect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@end</span><br></span></code></pre></div></div>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">package</span><span class="token plain"> com</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">millicast</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">clients</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> ConnectionOptions </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> boolean autoReconnect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2024-02-04---170-beta1>2024-02-04 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.7.0-beta.1 target=_blank rel="noopener noreferrer">1.7.0-beta.1</a><a href=#2024-02-04---170-beta1 class=hash-link aria-label="Direct link to 2024-02-04---170-beta1" title="Direct link to 2024-02-04---170-beta1">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=features-6>Features<a href=#features-6 class=hash-link aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<ul>
<li>Refactored the Android SDK to introduce the following changes:<!-- -->
<ul>
<li>Prioritization of the Kotlin implementation to make Kotlin the primary language for developing and interacting with the Android SDK.</li>
<li>Key instantiation for classes instead of builders to streamline the codebase for greater clarity and conciseness.</li>
<li>A coroutine-based implementation for both Subscriber and Publisher calls that enhances the SDK's responsiveness and efficiency.</li>
<li>A flow-based eventing system that is useful for handling and reacting to events.</li>
</ul>
</li>
<li>Introduced macOS and iOS support for H.265.</li>
<li>Introduced <code>GNU libstdc++</code> versions of the SDK for the proper Ubuntu compatibility.</li>
<li>Introduced the <code>debian11-armv8a</code> version of the SDK with no X11 and PulseAudio dependencies, which is useful for publishing from ARM64 Linux boards.</li>
<li>Added the H.264 hardware encoding support for Raspberry Pi3b+/4/5 boards with the <code>debian11-armv8a</code> package.</li>
<li>Improved the <code>millicast::ViewerListener::on_layers</code> event and the respective <code>millicast::ViewerLayerData</code> structure to include fields for the <code>resolution</code> of the layer.</li>
<li>Upgraded the WebRTC version to 118.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-13>Fixes<a href=#fixes-13 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>Introduced Simulcast publishing support for macOS and iOS platforms.</li>
<li>Fixed JNI-related issues on Android.</li>
<li>Fixed an issue that prevented using the SDK on iOS or tvOS simulators.</li>
<li>Introduced stability improvements.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=changes-2>Changes<a href=#changes-2 class=hash-link aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h4>
<ul>
<li>The SDK now links FFmpeg dynamically on Linux and Windows. The SDK package provides a dynamic FFmpeg library.</li>
<li>Created macOS universal framework.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=breaking-changes-4>Breaking Changes<a href=#breaking-changes-4 class=hash-link aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">​</a></h4>
<p>This release introduces several braking changes and requires familiarizing with the following chapters.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=new-signature-of-the-on_layers-event-1>New signature of the on_layers event<a href=#new-signature-of-the-on_layers-event-1 class=hash-link aria-label="Direct link to New signature of the on_layers event" title="Direct link to New signature of the on_layers event">​</a></h5>
<p>The <code>millicast::ViewerListener::on_layers</code> event has a new signature to accept an array of strings for the <code>inactive</code> layers. The following code presents the current signature of the callback:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">on_layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&</span><span class="token plain"> mid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">vector</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">ViewerLayerData</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token operator" style="color:hsl(221, 87%, 60%)">&</span><span class="token plain"> active_layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">vector</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token operator" style="color:hsl(221, 87%, 60%)">&</span><span class="token plain"> inactive_layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<p>This change is propagated to the iOS layer. The following example presents the current signature of the callback for the Objective C SDK:</p>
<div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> onLayers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonnull NSString</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> mid activeLayers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonnull NSArray</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">MCLayerData</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> activeLayers inactiveLayers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonnull NSArray</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">NSString</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> inactiveLayers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<p>The Kotlin SDK is also impacted by this modification and requires applications to listen for the Subscriber's layers <code>Flow&lt;Layers></code>:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">subscriber</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">collect</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> layers </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-></span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// manage the layers object here</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre></div></div>
<p>The following code presents the current signature for the SDK:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">Layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> mid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> activeLayers</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Array</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">LayerData</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> inactiveLayersEncodingIds</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Array</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=modified-values-of-the-viewerlayerdata-structure-1>Modified values of the ViewerLayerData structure<a href=#modified-values-of-the-viewerlayerdata-structure-1 class=hash-link aria-label="Direct link to Modified values of the ViewerLayerData structure" title="Direct link to Modified values of the ViewerLayerData structure">​</a></h5>
<p>Values of the <code>millicast::ViewerLayerData</code> structure that may not be present for a layer, such as spatial ID or temporal ID, are now optional. The following example presents the new signature of the structure:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ViewerLayerData</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Resolution</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> width</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> height</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">string encoding_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> bitrate </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">optional</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> temporal_layer_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">optional</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> spatial_layer_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">optional</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">Resolution</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> layer_resolution</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">optional</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> max_temporal_layer_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:hsl(119, 34%, 47%)">::</span><span class="token plain">optional</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"> max_spatial_layer_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<p>This change is propagated to the iOS layer. The current MCLayerData structure in the Objective C SDK is presented in the following example:</p>
<div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">@interface</span><span class="token plain"> MCLayerResolution </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> NSObject</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> height</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> width</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@end</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">MILLICAST_API </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@interface</span><span class="token plain"> MCLayerData </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> NSObject</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> strong</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nonnull</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> NSString</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> encodingId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> bitrate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> NSNumber </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain">spatialLayerId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> NSNumber </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain">temporalLayerId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> NSNumber </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain">maxTemporalLayerId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> NSNumber </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain">maxSpatialLayerId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nullable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> MCLayerResolution</span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> layerResolution</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@end</span><br></span></code></pre></div></div>
<p>This change also impacts the Kotlin implementation. The following example presents the new signature of the structure:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">LayerResolution</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> width</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> height</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">LayerData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> encodingId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> bitrate</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> temporalLayerId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> spatialLayerId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> maxSpatialLayerId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> maxTemporalLayerId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> resolution</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> LayerResolution</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=modified-kotlin-implementation-1>Modified Kotlin implementation<a href=#modified-kotlin-implementation-1 class=hash-link aria-label="Direct link to Modified Kotlin implementation" title="Direct link to Modified Kotlin implementation">​</a></h5>
<p>In the Kotlin implementation, the <code>getStats(boolean)</code> method is now removed in favor of <code>enableStats(boolean)</code>, which emits reports asynchronously via the corresponding SharedFlow.</p>
<p>Using the Kotlin SDK to create a Publisher or Subscriber now requires calling the Core class implementation, as in the following example:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">Core</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">createPublisher</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">Core</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">createSubscriber</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<p>Additionally, the SDK now provides an asynchronous implementation, so to consume the Subscriber and Publisher features, perform coroutines.</p>
<p>The Listener implementation is now removed and replaced with SharedFlow, which is now provided by both main classes. For the Subscriber class, several new SharedFlow events have been introduced:</p>
<ul>
<li><strong>Subscriber#state</strong>: Provides information about the state of the subscriber.</li>
<li><strong>Subscriber#signalingError</strong>: Provides all propagated errors.</li>
<li><strong>Subscriber#rtcStatsReport</strong>: Provides WebRTC statistics when stats reporting is enabled. The statistics report provides the Stats object based on a Sealed class. Using a <code>when</code> statement helps find various statistics.</li>
<li><strong>Subscriber#track</strong>: Provides all audio and video track events, including the track itself and its associated Media ID identifier.</li>
<li><strong>Subscriber#activity</strong>: Provides information about the active and inactive states of the subscriber's activity.</li>
<li><strong>Subscriber#layers</strong>: Corresponds to all layers events, providing information about the layers associated with the subscriber.</li>
</ul>
<p>For more information on SharedFlow, see the following example:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">SubscriberState</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> connectionState</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> ConnectionState </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> ConnectionState</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">Default</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> subscriptionState</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> SubscriptionState </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> SubscriptionState</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">Default</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> viewers</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Int </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">sealed</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">TrackHolder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> mid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> track</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Track</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">AudioTrackHolder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        mid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> audioTrack</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> AudioTrack</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">TrackHolder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">mid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> audioTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">VideoTrackHolder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        mid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> videoTrack</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> VideoTrack</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">TrackHolder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">mid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> videoTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">sealed</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> ActivityStream </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">Active</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> streamId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> track</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Array</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> sourceId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">ActivityStream</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">Inactive</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> streamId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> sourceId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">ActivityStream</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">data</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">Layers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> mid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> activeLayers</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Array</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">LayerData</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">val</span><span class="token plain"> inactiveLayersEncodingIds</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Array</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:hsl(221, 87%, 60%)">></span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id=setting-automatic-reconnection>Setting automatic reconnection<a href=#setting-automatic-reconnection class=hash-link aria-label="Direct link to Setting automatic reconnection" title="Direct link to Setting automatic reconnection">​</a></h5>
<p>The <code>auto_reconnect</code> property is no longer available in Publisher and Subscriber options. Use <code>ConnectionOptions</code> to set the <code>auto_reconnect</code> property, as in the following examples:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">//file: millicast-sdk/client.h</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">struct</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MILLICAST_API</span><span class="token plain"> ClientConnectionOptions </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">bool</span><span class="token plain"> auto_reconnect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre></div></div>
<div class="language-objectivec codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-objectivec codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">//file: MillicastSDK/client.h</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">MILLICAST_API </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@interface</span><span class="token plain"> MCConnectionOptions</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> NSObject</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@property</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">nonatomic</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> assign</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> BOOL autoReconnect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">@end</span><br></span></code></pre></div></div>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">package</span><span class="token plain"> com</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">millicast</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">clients</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> ConnectionOptions </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> boolean autoReconnect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2023-12-15---160>2023-12-15 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.6.0 target=_blank rel="noopener noreferrer">1.6.0</a><a href=#2023-12-15---160 class=hash-link aria-label="Direct link to 2023-12-15---160" title="Direct link to 2023-12-15---160">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=features-7>Features<a href=#features-7 class=hash-link aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<ul>
<li>Introduced the ability to write macOS applications using the Objective-C/Swift API.</li>
<li>Introduced a new <strong>priority</strong> parameter to support setting the priority of each feed when publishing multiple backup feeds.</li>
<li>Introduced a new <strong>recording</strong> parameter that you can set to true to record published streams.</li>
<li>Added support for SwiftUI view and two UIKit views to simplify displaying video tracks and enhance development flexibility.</li>
<li>Added support for application-level screen sharing on iOS. The following code sample presents how you can use it:<!-- -->
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_e6Vv><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MillicastSDK</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ReplayKit</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:hsl(221, 87%, 60%)">exampleScreenShareFunc</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">async</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> publisher </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MCPublisher</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">create</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> screenShareSource </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MCAppShareSource</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(119, 34%, 47%)">"example-screen-share-source"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> recorder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">RPScreenRecorder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">shared</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">do</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">audioTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> videoTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">try</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">await</span><span class="token plain"> screenShareSource</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">startCapture</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> audioTrack </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> audioTrack </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">          publisher</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">add</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">audioTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> videoTrack </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> videoTrack </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">          publisher</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">add</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">videoTrack</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// continue with the publisher setup (connection, publishing, etc.)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// Handle error</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// for example</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// os_log(.error, log: log, "Could not start capture: %s", error.localizedDescription)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre></div></div>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-14>Fixes<a href=#fixes-14 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<p>Introduced general stability and performance improvements.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=deprecations>Deprecations<a href=#deprecations class=hash-link aria-label="Direct link to Deprecations" title="Direct link to Deprecations">​</a></h4>
<ul>
<li>
<p>The <code>setOptions</code> method is deprecated and replaced with a new <code>connect</code> method from the <code>ConnectionOptions</code> class, which connects the SDK with the Millicast platform. Additionally, the <code>autoReconnect</code> method is deprecated on iOS and desktop platforms.</p>
</li>
<li>
<p>The <code>hardware_support</code> method is deprecated and no longer supported.</p>
</li>
<li>
<p>The <code>CustomSource</code> class is deprecated and replaced with <code>CustomVideoSource</code> and <code>CustomAudioSource</code> on iOS and desktop platforms.</p>
</li>
<li>
<p>The <code>enableSvcWithMode</code> and <code>disableSvc</code> methods are now deprecated and replaced with <code>svcMode</code> from the <code>ClientOptions</code> class.</p>
</li>
<li>
<p>The <code>enableSimulcast</code> method is deprecated and replaced with the <code>simulcast</code> method from <code>ClientOptions</code>.</p>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2023-09-28---152>2023-09-28 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.5.2 target=_blank rel="noopener noreferrer">1.5.2</a><a href=#2023-09-28---152 class=hash-link aria-label="Direct link to 2023-09-28---152" title="Direct link to 2023-09-28---152">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=features-8>Features<a href=#features-8 class=hash-link aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<p>Upgraded WebRTC version to 112.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-15>Fixes<a href=#fixes-15 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<p>Refactored WebSocket timeout to prevent logging overload.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2023-07-04---151>2023-07-04 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.5.1 target=_blank rel="noopener noreferrer">1.5.1</a><a href=#2023-07-04---151 class=hash-link aria-label="Direct link to 2023-07-04---151" title="Direct link to 2023-07-04---151">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=features-9>Features<a href=#features-9 class=hash-link aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<ul>
<li>Added an option to enable and disable bandwidth in OBS WebRTC and the Native SDK. This can be useful when publishing in suboptimal network conditions.</li>
<li>Added automatic resumption of publishing and subscribing upon recovery from a network disruption.</li>
<li>The client auto_reconnect option can now be set to false to disable automatic reconnection.</li>
<li>The Publisher and subscriber listeners now have an onDisconnected callback and their onConnectionError callbacks now include an integer status in addition to the reason.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-16>Fixes<a href=#fixes-16 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>The onDisconnected event is now triggered much faster and more reliably.</li>
<li>Fixed an iOS AVAudioEngine crash.</li>
<li>Fixed an issue where Bluetooth headsets did not work on iPadOS/iOS 16.4.1.</li>
<li>The Publisher sample application now uses the first listed audio/video device if unable to find the provided audio/video device name.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=known-issues>Known Issues<a href=#known-issues class=hash-link aria-label="Direct link to Known Issues" title="Direct link to Known Issues">​</a></h4>
<ul>
<li>When publishing in 4:4:4, the client sends 4:2:0 instead of 4:4:4.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2023-03-16---150>2023-03-16 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.5.0 target=_blank rel="noopener noreferrer">1.5.0</a><a href=#2023-03-16---150 class=hash-link aria-label="Direct link to 2023-03-16---150" title="Direct link to 2023-03-16---150">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=features-10>Features<a href=#features-10 class=hash-link aria-label="Direct link to Features" title="Direct link to Features">​</a></h4>
<ul>
<li>Added the ability to switch a video source when a stream is in progress.</li>
<li>Added the ability to render VP9 with 4:4:4 chroma subsampling on Android.</li>
<li>Added the NV12 video format as a VideoType.</li>
<li>Upgraded libWebRTC to m108.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-17>Fixes<a href=#fixes-17 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>Fixed an issue related to a root certificate issue on Windows.</li>
<li>Fixed an issue where audio did not play when streamed from an external source on iOS.</li>
<li>Deprecated the possibility to set the maximum bitrate using the client. Instead, we introduced the ability to set the minimum and maximum bitrate using the options structure.</li>
<li>Improved the stream statistics reporting.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2022-12-09---142>2022-12-09 - <a href=https://github.com/millicast/millicast-native-sdk/releases/tag/v1.4.2 target=_blank rel="noopener noreferrer">1.4.2</a><a href=#2022-12-09---142 class=hash-link aria-label="Direct link to 2022-12-09---142" title="Direct link to 2022-12-09---142">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=deprecated-apis>Deprecated APIs<a href=#deprecated-apis class=hash-link aria-label="Direct link to Deprecated APIs" title="Direct link to Deprecated APIs">​</a></h4>
<p>Replaced the SetMaxBitrate API with settings for min, max, and start bitrates via <a href=https://millicast.github.io/doc/latest/cpp/structmillicast_1_1_bitrate_settings.html target=_blank rel="noopener noreferrer">publisher options</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=fixes-18>Fixes<a href=#fixes-18 class=hash-link aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h4>
<ul>
<li>Fixed an issue where a crash occurred after providing YUY2 frames.</li>
<li>Fixed an issue where a crash occurred after enabling stats reporting.</li>
</ul></div></div></div><div class=row><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/THEOplayer/documentation/blob/-/millicast/changelog/changelog-native-sdk.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></div></div></article><div class=row><div class="col col--12"><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/documentation/pr-preview/pr-302/millicast/changelog/changelog-dolbyio-dashboard/><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Dashboard Changes</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/documentation/pr-preview/pr-302/millicast/changelog/changelog-web-platform/><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Web SDK</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#2024-08-21--native-sdk-200 class="table-of-contents__link toc-highlight">2024-08-21 | Native SDK 2.0.0</a><ul><li><a href=#new-viewer-and-track-management class="table-of-contents__link toc-highlight">🆕 Viewer and Track Management</a><li><a href=#new-asynchronous-model class="table-of-contents__link toc-highlight">🆕 Asynchronous Model</a><li><a href=#new-playout-delay class="table-of-contents__link toc-highlight">🆕 Playout Delay</a><li><a href=#-logging-and-stats class="table-of-contents__link toc-highlight">🆒 Logging and Stats</a><li><a href=#additional-updates class="table-of-contents__link toc-highlight">Additional Updates</a></ul><li><a href=#2024-04-25--native-sdk-184 class="table-of-contents__link toc-highlight">2024-04-25 | Native SDK 1.8.4</a><ul><li><a href=#fixes class="table-of-contents__link toc-highlight">Fixes</a></ul><li><a href=#2024-04-18---175-and-183 class="table-of-contents__link toc-highlight">2024-04-18 - 1.7.5 and 1.8.3</a><ul><li><a href=#fixes-1 class="table-of-contents__link toc-highlight">Fixes</a></ul><li><a href=#2024-04-12---182 class="table-of-contents__link toc-highlight">2024-04-12 - 1.8.2</a><ul><li><a href=#features class="table-of-contents__link toc-highlight">Features</a><li><a href=#fixes-2 class="table-of-contents__link toc-highlight">Fixes</a></ul><li><a href=#2024-04-04---181 class="table-of-contents__link toc-highlight">2024-04-04 - 1.8.1</a><ul><li><a href=#fixes-3 class="table-of-contents__link toc-highlight">Fixes</a></ul><li><a href=#2024-03-20---180 class="table-of-contents__link toc-highlight">2024-03-20 - 1.8.0</a><ul><li><a href=#features-1 class="table-of-contents__link toc-highlight">Features</a><li><a href=#fixes-4 class="table-of-contents__link toc-highlight">Fixes</a><li><a href=#breaking-changes class="table-of-contents__link toc-highlight">Breaking changes</a></ul><li><a href=#2024-03-18---180-beta1 class="table-of-contents__link toc-highlight">2024-03-18 - 1.8.0-beta.1</a><ul><li><a href=#features-2 class="table-of-contents__link toc-highlight">Features</a><li><a href=#fixes-5 class="table-of-contents__link toc-highlight">Fixes</a><li><a href=#breaking-changes-1 class="table-of-contents__link toc-highlight">Breaking changes</a></ul><li><a href=#2024-03-15---180-alpha2 class="table-of-contents__link toc-highlight">2024-03-15 - 1.8.0-alpha.2</a><ul><li><a href=#features-3 class="table-of-contents__link toc-highlight">Features</a><li><a href=#fixes-6 class="table-of-contents__link toc-highlight">Fixes</a><li><a href=#breaking-changes-2 class="table-of-contents__link toc-highlight">Breaking changes</a></ul><li><a href=#2024-03-14---180-alpha1 class="table-of-contents__link toc-highlight">2024-03-14 - 1.8.0-alpha.1</a><ul><li><a href=#features-4 class="table-of-contents__link toc-highlight">Features</a><li><a href=#fixes-7 class="table-of-contents__link toc-highlight">Fixes</a></ul><li><a href=#2024-03-14---174 class="table-of-contents__link toc-highlight">2024-03-14 - 1.7.4</a><ul><li><a href=#fixes-8 class="table-of-contents__link toc-highlight">Fixes</a></ul><li><a href=#2024-02-28---173 class="table-of-contents__link toc-highlight">2024-02-28 - 1.7.3</a><ul><li><a href=#fixes-9 class="table-of-contents__link toc-highlight">Fixes</a></ul><li><a href=#2024-02-14---172 class="table-of-contents__link toc-highlight">2024-02-14 - 1.7.2</a><ul><li><a href=#fixes-10 class="table-of-contents__link toc-highlight">Fixes</a><li><a href=#changes class="table-of-contents__link toc-highlight">Changes</a></ul><li><a href=#2024-02-09---171 class="table-of-contents__link toc-highlight">2024-02-09 - 1.7.1</a><ul><li><a href=#fixes-11 class="table-of-contents__link toc-highlight">Fixes</a></ul><li><a href=#2024-02-08---170 class="table-of-contents__link toc-highlight">2024-02-08 - 1.7.0</a><ul><li><a href=#features-5 class="table-of-contents__link toc-highlight">Features</a><li><a href=#fixes-12 class="table-of-contents__link toc-highlight">Fixes</a><li><a href=#changes-1 class="table-of-contents__link toc-highlight">Changes</a><li><a href=#breaking-changes-3 class="table-of-contents__link toc-highlight">Breaking Changes</a></ul><li><a href=#2024-02-04---170-beta1 class="table-of-contents__link toc-highlight">2024-02-04 - 1.7.0-beta.1</a><ul><li><a href=#features-6 class="table-of-contents__link toc-highlight">Features</a><li><a href=#fixes-13 class="table-of-contents__link toc-highlight">Fixes</a><li><a href=#changes-2 class="table-of-contents__link toc-highlight">Changes</a><li><a href=#breaking-changes-4 class="table-of-contents__link toc-highlight">Breaking Changes</a></ul><li><a href=#2023-12-15---160 class="table-of-contents__link toc-highlight">2023-12-15 - 1.6.0</a><ul><li><a href=#features-7 class="table-of-contents__link toc-highlight">Features</a><li><a href=#fixes-14 class="table-of-contents__link toc-highlight">Fixes</a><li><a href=#deprecations class="table-of-contents__link toc-highlight">Deprecations</a></ul><li><a href=#2023-09-28---152 class="table-of-contents__link toc-highlight">2023-09-28 - 1.5.2</a><ul><li><a href=#features-8 class="table-of-contents__link toc-highlight">Features</a><li><a href=#fixes-15 class="table-of-contents__link toc-highlight">Fixes</a></ul><li><a href=#2023-07-04---151 class="table-of-contents__link toc-highlight">2023-07-04 - 1.5.1</a><ul><li><a href=#features-9 class="table-of-contents__link toc-highlight">Features</a><li><a href=#fixes-16 class="table-of-contents__link toc-highlight">Fixes</a><li><a href=#known-issues class="table-of-contents__link toc-highlight">Known Issues</a></ul><li><a href=#2023-03-16---150 class="table-of-contents__link toc-highlight">2023-03-16 - 1.5.0</a><ul><li><a href=#features-10 class="table-of-contents__link toc-highlight">Features</a><li><a href=#fixes-17 class="table-of-contents__link toc-highlight">Fixes</a></ul><li><a href=#2022-12-09---142 class="table-of-contents__link toc-highlight">2022-12-09 - 1.4.2</a><ul><li><a href=#deprecated-apis class="table-of-contents__link toc-highlight">Deprecated APIs</a><li><a href=#fixes-18 class="table-of-contents__link toc-highlight">Fixes</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 <a href=https://www.dolby.com/>Dolby Laboratories, Inc. All rights reserved.</a></div></div></div></footer></div>