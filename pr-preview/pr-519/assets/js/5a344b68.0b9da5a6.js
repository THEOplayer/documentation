"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["10281"],{812557(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});var t=i(389538),s=i(474848),a=i(28453);let r={sidebar_position:9},o="Media Info",d={},c=[{value:"Use Cases",id:"use-cases",level:2},{value:"Media Info Endpoint",id:"media-info-endpoint",level:2},{value:"Media Info Response",id:"media-info-response",level:2},{value:"Key Fields",id:"key-fields",level:3}];function l(e){let n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"media-info",children:"Media Info"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Media Info"})," endpoint provides a fast, normalized view of the technical characteristics of a media asset stored in the cloud. The Media Info API inspects a media file and returns a structured JSON response describing the container, duration, bitrate, and all detected tracks (video, audio, timecode, and others)."]}),"\n",(0,s.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,s.jsx)(n.p,{children:"The Media Info API is commonly used to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Inspect unfamiliar or third-party assets"}),"\n",(0,s.jsx)(n.li,{children:"Validate source media before encoding or preview"}),"\n",(0,s.jsx)(n.li,{children:"Drive conditional logic in automated workflows"}),"\n",(0,s.jsx)(n.li,{children:"Confirm track counts, codecs, and durations"}),"\n",(0,s.jsx)(n.li,{children:"Extract timecode and technical metadata for QC"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["It is often used as a ",(0,s.jsx)(n.strong,{children:"first step"})," before invoking preview, encoding, or ad-processing APIs."]}),"\n",(0,s.jsx)(n.h2,{id:"media-info-endpoint",children:"Media Info Endpoint"}),"\n",(0,s.jsx)(n.p,{children:"The Media Info endpoint is accessed using a simple HTTP GET request. You provide an accessible media URL as a query parameter."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://api.galaxy.dolbyrasp.com/media-info?url=https://my_bucket/my_folder/my_file.mov\n"})}),"\n",(0,s.jsx)(n.p,{children:"The response is returned as normalized JSON, making it easy to consume programmatically or inspect manually."}),"\n",(0,s.jsxs)(n.p,{children:["If the ",(0,s.jsx)(n.code,{children:"url"})," is an encrypted link, make sure to use encodeURIComponent() to modify the ",(0,s.jsx)(n.code,{children:"url"})," so that it can be correctly handled by the GET call."]}),"\n",(0,s.jsx)(n.h2,{id:"media-info-response",children:"Media Info Response"}),"\n",(0,s.jsx)(n.p,{children:"The Media Info response is divided into two main sections:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"file"})," \u2014 container-level metadata about the asset"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"tracks"})," \u2014 an array describing each detected track"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"file"})," object summarizes the overall media asset:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "file": {\n    "id": "file0",\n    "name": "my_file.mov",\n    "path": "https://my_bucket.s3.us-east-1.amazonaws.com/",\n    "format": "QuickTime / MOV",\n    "last_modified": "Mon, 05 Aug 2024 19:58:46 GMT",\n    "size_bytes": 948427028,\n    "bitrate_kb": 66849.5,\n    "duration_sec": "113.500000",\n    "video_tracks": 1,\n    "audio_tracks": 1,\n    "timecode_tracks": 1\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"key-fields",children:"Key Fields"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"name"})," \u2013 File name extracted from the URL"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"format"})," \u2013 Container format"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"size_bytes"})," \u2013 File size in bytes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"bitrate_kb"})," \u2013 Average bitrate of the asset"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"duration_sec"})," \u2013 Duration of the file in seconds"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"video_tracks / audio_tracks / timecode_tracks"})," \u2013 Track counts by type"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"tracks"})," array provides detailed information about each individual track detected in the file."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "tracks": [\n    {\n      "kind": "video",\n      "codec": "prores",\n      "duration": 113.5,\n      "bitrate_kb": 65312.4,\n      "width": 1920,\n      "height": 1080,\n      "frame_rate": "24/1",\n      "range": "sdr"\n    },\n    {\n      "kind": "audio",\n      "codec": "pcm_s16le",\n      "duration": 113.5,\n      "bitrate_kb": 1536,\n      "sample_rate": 48000,\n      "channels": 2,\n      "channel_layout": "stereo",\n      "channel_placement": "FL FR"\n    },\n    {\n      "kind": "timecode",\n      "duration": 113.5,\n      "start_timecode": "01:00:00:00"\n    }\n  ]\n}\n'})})]})}function h(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453(e,n,i){i.d(n,{R:()=>r,x:()=>o});var t=i(296540);let s={},a=t.createContext(s);function r(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(a.Provider,{value:n},e.children)}},389538(e){e.exports=JSON.parse('{"id":"how-to/media-info","title":"Media Info","description":"The Media Info endpoint provides a fast, normalized view of the technical characteristics of a media asset stored in the cloud. The Media Info API inspects a media file and returns a structured JSON response describing the container, duration, bitrate, and all detected tracks (video, audio, timecode, and others).","source":"@site/adengine/how-to/media-info.md","sourceDirName":"how-to","slug":"/how-to/media-info","permalink":"/documentation/pr-preview/pr-519/ad-engine/how-to/media-info","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/adengine/how-to/media-info.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"adengine","previous":{"title":"Cloud Preview","permalink":"/documentation/pr-preview/pr-519/ad-engine/how-to/cloud-preview"},"next":{"title":"Image","permalink":"/documentation/pr-preview/pr-519/ad-engine/how-to/image"}}')}}]);