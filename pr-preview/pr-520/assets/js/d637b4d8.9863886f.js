"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["13930"],{523881(e,t,n){n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>l});var i=n(370702),a=n(474848),s=n(28453);let c={title:"Millicast diagnostics",slug:"/web-player-diagnostics"},r="Diagnostics for Millicast on Web",o={},l=[{value:"WebRTC stats",id:"webrtc-stats",level:2},{value:"Millicast diagnostics",id:"millicast-diagnostics",level:2},{value:"More information",id:"more-information",level:2}];function d(e){let t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"diagnostics-for-millicast-on-web",children:"Diagnostics for Millicast on Web"})}),"\n",(0,a.jsx)(t.p,{children:"For troubleshooting and analytics purposes, some statistics and diagnostics from Millicast are exposed on the player."}),"\n",(0,a.jsx)(t.h2,{id:"webrtc-stats",children:"WebRTC stats"}),"\n",(0,a.jsxs)(t.p,{children:["Stream stats can be accessed from the Millicast ",(0,a.jsx)(t.code,{children:"stats"})," event. To capture these events, add a listener on the Millicast API:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"player.millicast.addEventListener('stats', console.log);\n"})}),"\n",(0,a.jsx)(t.p,{children:"It's possible to configure the frequency at which these events are dispatched through the Millicast source, the value is set in milliseconds:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"player.source = {\n  sources: {\n    type: 'millicast',\n    src: 'multiview',\n    streamAccountId: 'k9Mwad',\n    statsIntervalMs: 5000, // <= This property configures the stats interval to 5 seconds\n  },\n};\n"})}),"\n",(0,a.jsx)(t.h2,{id:"millicast-diagnostics",children:"Millicast diagnostics"}),"\n",(0,a.jsxs)(t.p,{children:["Diagnostics data can be accessed through the ",(0,a.jsx)(t.code,{children:"diagnose"})," API on the player Millicast API. For a more detailed guide on what the data means, refer to the ",(0,a.jsx)(t.a,{href:"/millicast/playback/client-analytics/#data-dictionary",children:"client analytics documentation"}),". This method expects a diagnostics configuration as defined in ",(0,a.jsx)(t.a,{href:"https://millicast.github.io/millicast-sdk/module-Logger.html#~diagnose",children:"the Millicast SDK API reference"}),", for example:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"console.log(\n  player.millicast.diagnose({\n    historySize: 1,\n    minLogLevel: 'DEBUG',\n    statsCount: 10,\n    statsFormat: 'JSON',\n  })\n);\n"})}),"\n",(0,a.jsxs)(t.p,{children:["In the report you will find many statistics from the client perspective. It is how you can obtain useful statistics for the stream connection including ",(0,a.jsx)(t.code,{children:"clusterId"}),", ",(0,a.jsx)(t.code,{children:"connectionDurationMs"}),", ",(0,a.jsx)(t.code,{children:"streamName"}),", and ",(0,a.jsx)(t.code,{children:"streamViewId"}),". There is also history of the connection details. For more information on the meanings of these values, refer to our ",(0,a.jsx)(t.a,{href:"/millicast/playback/client-analytics/#data-dictionary",children:"client analytics documentation"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"Here is a sample response:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "client": "@millicast/millicast-sdk",\n  "version": "0.3.2",\n  "timestamp": "2025-06-04T19:42:59.673Z",\n  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36",\n  "clusterId": "phx-1",\n  "accountId": "k9Mwad",\n  "streamName": "multiview",\n  "subscriberId": "a2836c0185ff44f39a3980ad963e9bfc",\n  "connection": "connected",\n  "stats": [\n    {\n      "timestamp": "2025-06-04T19:42:59.383Z",\n      "totalRoundTripTime": 0.415,\n      "currentRoundTripTime": 0.021,\n      "responsesReceived": 14,\n      "availableOutgoingBitrate": 300000,\n      "audio": {\n        "inbounds": [\n          {\n            "packetsLostRatioPerSecond": 0,\n            "packetsLostDeltaPerSecond": 0,\n            "bitrateBitsPerSecond": 101026.87059479472,\n            "bitrate": 12628.35882434934,\n            "id": "IT01A1089016740",\n            "timestamp": 1749066179382.572,\n            "mid": "1",\n            "trackIdentifier": "f2a496a4-2bd4-45de-b161-24caeb71dc5c",\n            "jitter": 0.001,\n            "jitterBufferDelay": 65174.4,\n            "jitterBufferEmittedCount": 1331520,\n            "totalBytesReceived": 343842,\n            "totalPacketsReceived": 1390,\n            "totalPacketsLost": 0,\n            "packetRate": 50.90470281708949,\n            "mimeType": "audio/opus"\n          }\n        ],\n        "outbounds": []\n      },\n      "video": {\n        "inbounds": [\n          {\n            "packetsLostRatioPerSecond": 0,\n            "packetsLostDeltaPerSecond": 0,\n            "bitrateBitsPerSecond": 2747049.3305013957,\n            "bitrate": 343381.16631267447,\n            "id": "IT01V879180907",\n            "timestamp": 1749066179382.572,\n            "mid": "0",\n            "trackIdentifier": "22cc0e61-d849-440e-8b7c-be13fa6c3dc1",\n            "jitter": 0,\n            "jitterBufferDelay": 20.386015,\n            "jitterBufferEmittedCount": 655,\n            "totalBytesReceived": 9934994,\n            "totalPacketsReceived": 8695,\n            "totalPacketsLost": 0,\n            "packetRate": 301.4356911913927,\n            "mimeType": "video/H264",\n            "keyFramesDecoded": 65,\n            "frameHeight": 1080,\n            "frameWidth": 1920,\n            "framesDecoded": 655,\n            "framesDropped": 0,\n            "framesPerSecond": 23,\n            "framesReceived": 655\n          }\n        ],\n        "outbounds": []\n      },\n      "raw": {}\n    }\n  ],\n  "connectionDurationMs": 28087,\n  "streamViewId": "3fa01369-c650-4ea9-ba86-f42e0d1d43ab",\n  "history": ["[PeerConnection] 2025-06-04T19:42:31.586Z - INFO - Peer connection state change:  connected"]\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"more-information",children:"More information"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"pathname:///theoplayer/v9/api-reference/web/interfaces/Millicast.html",children:"Millicast API references"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"pathname:///theoplayer/v9/api-reference/web/interfaces/MillicastSource.html",children:"Millicast Source API references"})}),"\n"]})]})}function p(e={}){let{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453(e,t,n){n.d(t,{R:()=>c,x:()=>r});var i=n(296540);let a={},s=i.createContext(a);function c(e){let t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),i.createElement(s.Provider,{value:t},e.children)}},370702(e){e.exports=JSON.parse('{"id":"playback/players-sdks/web/player/diagnostics","title":"Millicast diagnostics","description":"For troubleshooting and analytics purposes, some statistics and diagnostics from Millicast are exposed on the player.","source":"@site/millicast/playback/players-sdks/web/player/diagnostics.mdx","sourceDirName":"playback/players-sdks/web/player","slug":"/web-player-diagnostics","permalink":"/documentation/pr-preview/pr-520/millicast/web-player-diagnostics","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/millicast/playback/players-sdks/web/player/diagnostics.mdx","tags":[],"version":"current","frontMatter":{"title":"Millicast diagnostics","slug":"/web-player-diagnostics"},"sidebar":"millicast","previous":{"title":"OptiView Player SDK","permalink":"/documentation/pr-preview/pr-520/millicast/playback/players-sdks/web/player/"},"next":{"title":"Frame metadata","permalink":"/documentation/pr-preview/pr-520/millicast/playback/players-sdks/web/player/frame-metadata"}}')}}]);