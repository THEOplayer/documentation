"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["66394"],{595269(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var o=t(270039),r=t(474848),i=t(28453);let a={sidebar_label:"Getting started",sidebar_custom_props:{icon:"\u{1F680}"}},s="Getting started with the Adobe Edge Connector for the Roku SDK",d={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Integration",id:"integration",level:2}];function l(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"getting-started-with-the-adobe-edge-connector-for-the-roku-sdk",children:"Getting started with the Adobe Edge Connector for the Roku SDK"})}),"\n",(0,r.jsx)(n.p,{children:"Here's how to get started integrating the Adobe Edge Connector with the THEOplayer Roku SDK."}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"In order to set up the Adobe Edge Connector in your Roku application, you'll need the following:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Your Adobe Edge domain and config ID (also known as data stream ID)"}),"\n",(0,r.jsxs)(n.li,{children:["An app with the THEOPlayer SDK for Roku already integrated, see our ",(0,r.jsx)(n.a,{href:"https://www.theoplayer.com/docs/theoplayer/getting-started/sdks/roku/getting-started/",children:"Getting Started guide"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integration",children:"Integration"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["First you must download the THEO Adobe Edge Connector as a component library. Add a ComponentLibrary node to your MainScene.brs file, giving it an id of ",(0,r.jsx)(n.code,{children:"THEOAEPConnector"})," and providing the URI for the THEOAEPConnector.pkg:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<ComponentLibrary id="THEOAEPConnector" uri="https://cdn.myth.theoplayer.com/roku/9.1.0/THEOAEPConnector.pkg" />\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["Then in the Brightscript file for your MainScene, listen for the loading of the ComponentLibrary to complete by observing the ",(0,r.jsx)(n.code,{children:"loadStatus"})," field."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-brightscript",children:'sub Init()\n    THEOAEPNode = m.top.findNode("THEOAEPConnector")\n    THEOAEPNode.observeField("loadStatus", "onLibraryLoadStatusChanged")\nend sub\n\nsub onLibraryLoadStatusChanged(event as object)\n    THEOAEPNode = event.getROSGNode()\n\n    if THEOAEPNode = invalid\n        return\n    end if\n\n    if THEOAEPNode.loadStatus = "ready"\n		\' Success\n    else if THEOAEPNode.loadStatus = "failed"\n		? "Failed to load component library, please check URL. "; THEOAEPNode.uri\n	end if\nend sub\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Add the THEOAEPConnector component to the SceneGraph file where your THEOPlayer is defined"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<THEOsdk:THEOplayer id="THEOplayer" controls="true" />\n<THEOAEPConnector:THEOAEPConnector id="THEOAEPConnector" />\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"Then in the Brightscript file, configure the connector by calling the configure method, passing the player instance and your Adobe Edge configuration."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-brightscript",children:'m.player = m.top.findNode("THEOPlayer")\nm.aepConnector = m.top.findNode("THEOAEPConnector")\naepConfig = {\n    configId: "<MY_AEP_CONFIG_ID>",\n    domainName: "<MY_EDGE_DOMAIN>",\n    mediaChannel: "My Channel",\n    mediaPlayerName: "My Player",\n    mediaAppVersion: "1.0",\n    logLevel: 3\n}\nm.aepConnector.callFunc("configure", m.player, aepConfig)\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:["Next, when you start playing the asset, call the ",(0,r.jsx)(n.code,{children:"startSession"})," method and pass it the session details for the asset you're playing. You may also include an optional session configuration:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-brightscript",children:'m.player.source = sourceDescription\n\naepSessionConfig = {}\naepSessionConfig["config.channel"] = "My Channel"\naepSessionConfig["config.adpinginterval"] = 5\naepSessionConfig["config.mainpinginterval"] = 30\n\naepSessionDetails = {\n    name: "my-asset-id",\n    friendlyName: sourceDescription.title,\n    contentType: "video",\n    streamType: "vod",\n    length: 300,\n    customMetadata: {\n        key1: "value1",\n        key2: "value2",\n    }\n}\nm.aepConnector.callFunc("startSession", aepSessionDetails, aepSessionConfig)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["See the ",(0,r.jsx)(n.a,{href:"https://github.com/adobe/aepsdk-roku/blob/main/Documentation/api-reference.md",children:"API documentation"})," for more on how to structure the data for Adobe Edge."]}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsxs)(n.li,{children:["When the video has stopped playing because it ended or the user exited, end the Adobe Edge session.\n",(0,r.jsx)(n.code,{children:'m.aepConnector.callFunc("endSession")'})]}),"\n",(0,r.jsx)(n.li,{children:"If you are exiting the player screen altogether, and destroying the player, make sure to destroy the connector at the same time, but before calling destroy on the SDK:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-brightscript",children:'m.aepConnector.callFunc("destroy")\nm.aepConnector = invalid\n\nm.player.callFunc("destroy")\nm.player = invalid\n'})})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453(e,n,t){t.d(n,{R:()=>a,x:()=>s});var o=t(296540);let r={},i=o.createContext(r);function a(e){let n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(i.Provider,{value:n},e.children)}},270039(e){e.exports=JSON.parse('{"id":"connectors/roku/adobe-edge/getting-started-aep-connector","title":"Getting started with the Adobe Edge Connector for the Roku SDK","description":"Here\'s how to get started integrating the Adobe Edge Connector with the THEOplayer Roku SDK.","source":"@site/theoplayer_versioned_docs/version-v9/connectors/roku/adobe-edge/01-getting-started-aep-connector.mdx","sourceDirName":"connectors/roku/adobe-edge","slug":"/connectors/roku/adobe-edge/getting-started-aep-connector","permalink":"/documentation/pr-preview/pr-479/theoplayer/v9/connectors/roku/adobe-edge/getting-started-aep-connector","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/theoplayer_versioned_docs/version-v9/connectors/roku/adobe-edge/01-getting-started-aep-connector.mdx","tags":[],"version":"v9","sidebarPosition":1,"frontMatter":{"sidebar_label":"Getting started","sidebar_custom_props":{"icon":"\u{1F680}"}},"sidebar":"roku","previous":{"title":"Adobe Edge","permalink":"/documentation/pr-preview/pr-479/theoplayer/v9/connectors/roku/adobe-edge"},"next":{"title":"API reference","permalink":"/documentation/pr-preview/pr-479/theoplayer/v9/connectors/roku/adobe-edge/API-reference"}}')}}]);